//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

extern_class!(
    /// Authentication data that your app provides when adding an accessory to a home.
    ///
    /// ## Overview
    ///
    /// If you manufacture an accessory that requires user authentication to add the accessory to a home, manage the authentication in your app and produce a token that represents the successful outcome of that process. Wrap the token data in an [`HMAccessoryOwnershipToken`](https://developer.apple.com/documentation/homekit/hmaccessoryownershiptoken) instance and call the [`initWithURL:ownershipToken:`](https://developer.apple.com/documentation/homekit/hmaccessorysetuppayload/init(url:ownershiptoken:)) method to create an authenticated [`HMAccessorySetupPayload`](https://developer.apple.com/documentation/homekit/hmaccessorysetuppayload) instance. Then call the [`addAndSetupAccessoriesWithPayload:completionHandler:`](https://developer.apple.com/documentation/homekit/hmhome/addandsetupaccessories(with:completionhandler:)) method with the payload.
    ///
    /// If the user attempts from the Home app to add an accessory that requires a token, the Home app calls the associated app’s [`homeManager:didReceiveAddAccessoryRequest:`](https://developer.apple.com/documentation/homekit/hmhomemanagerdelegate/homemanager(_:didreceiveaddaccessoryrequest:)) home manager delegate method to perform the negotiation and provide the token.
    ///
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct HMAccessoryOwnershipToken;
);

unsafe impl Send for HMAccessoryOwnershipToken {}

unsafe impl Sync for HMAccessoryOwnershipToken {}

extern_conformance!(
    unsafe impl NSObjectProtocol for HMAccessoryOwnershipToken {}
);

impl HMAccessoryOwnershipToken {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;

        /// Creates a new accessory ownership token to add an accessory to the home.
        ///
        ///
        /// Parameter `data`: Data to be sent to prove ownership of this accessory.
        ///
        ///
        /// This initializer may return nil if the data provided is not a valid ownership token
        /// (e.g. if it's too short or determined to be insufficient for some other reason).
        ///
        ///
        /// Returns: Returns an ownership token object.
        #[unsafe(method(initWithData:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithData(this: Allocated<Self>, data: &NSData) -> Option<Retained<Self>>;
    );
}

extern_class!(
    /// A payload for authenticating a HomeKit accessory.
    ///
    /// ## Overview
    ///
    /// The setup payload provides a URL to authenticate an accessory. Typically, the URL comes from scanning a QR code on the accessory. Use a setup payload to authenticate devices that are already deployed, for which scanning a QR code would be difficult, or if you need to provide an optional ownership token that you negotiate with the accessory outside of HomeKit.
    ///
    /// For details about the payload’s content, please join the [MFi Program](https://developer.apple.com/programs/mfi/).
    ///
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct HMAccessorySetupPayload;
);

unsafe impl Send for HMAccessorySetupPayload {}

unsafe impl Sync for HMAccessorySetupPayload {}

extern_conformance!(
    unsafe impl NSObjectProtocol for HMAccessorySetupPayload {}
);

impl HMAccessorySetupPayload {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;

        /// Creates a new accessory setup payload to add an accessory to the home.
        ///
        ///
        /// Parameter `setupPayloadURL`: The HomeKit setup payload for the accessory being added to the home.
        ///
        ///
        /// Returns: Returns an accessory setup payload object if successful or nil on error.
        #[unsafe(method(initWithURL:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithURL(
            this: Allocated<Self>,
            setup_payload_url: Option<&NSURL>,
        ) -> Option<Retained<Self>>;

        /// Creates a new accessory setup payload to add an accessory to the home.
        ///
        ///
        /// Parameter `setupPayloadURL`: The HomeKit setup payload URL for the accessory being added to the home.`
        ///
        ///
        /// Parameter `ownershipToken`: The token proving ownership of the accessory being added to the home.
        ///
        ///
        /// Returns: Returns an accessory setup payload object if successful or nil on error.
        #[unsafe(method(initWithURL:ownershipToken:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithURL_ownershipToken(
            this: Allocated<Self>,
            setup_payload_url: &NSURL,
            ownership_token: Option<&HMAccessoryOwnershipToken>,
        ) -> Option<Retained<Self>>;
    );
}
