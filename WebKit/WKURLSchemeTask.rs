//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

extern_protocol!(
    /// An interface that WebKit uses to request custom resources from your app.
    ///
    /// ## Overview
    ///
    /// The [`WKURLSchemeTask`](https://developer.apple.com/documentation/webkit/wkurlschemetask) protocol defines an interface that WebKit uses to request custom resources. You don’t adopt this interface in your own objects. Instead, WebKit creates objects that adopt this interface and delivers them to your custom scheme handlers — that is, objects that adopt the [`WKURLSchemeHandler`](https://developer.apple.com/documentation/webkit/wkurlschemehandler) protocol. You use the objects that WebKit provides to get information about the requested resources and load them. You also use those objects to report your progress back to WebKit.
    ///
    /// When WebKit needs a custom scheme, it places an appropriate URL request in the task’s [`request`](https://developer.apple.com/documentation/webkit/wkurlschemetask/request) property. Upon receiving the request, determine the size of the resource and call the [`didReceiveResponse:`](https://developer.apple.com/documentation/webkit/wkurlschemetask/didreceive(_:)-2u23r) method with an appropriate URL response object. Providing a response mirrors the behavior that a web server performs when it receives a request.
    ///
    /// After you load some portion of the resource data, call the [`didReceiveData:`](https://developer.apple.com/documentation/webkit/wkurlschemetask/didreceive(_:)-8t5f8) method to send it to WebKit. You may call that method multiple times to deliver data incrementally, or call it once with all of the data. After you finish delivering all of the data, call the [`didFinish`](https://developer.apple.com/documentation/webkit/wkurlschemetask/didfinish()) method. If an error occurs at any point during the load process, call [`didFailWithError:`](https://developer.apple.com/documentation/webkit/wkurlschemetask/didfailwitherror(_:)) to report it.
    ///
    ///
    pub unsafe trait WKURLSchemeTask: NSObjectProtocol {
        /// The request to load for this task.
        #[unsafe(method(request))]
        #[unsafe(method_family = none)]
        unsafe fn request(&self) -> Retained<NSURLRequest>;

        /// Set the current response object for the task.
        ///
        /// Parameter `response`: The response to use.
        ///
        /// This method must be called at least once for each URL scheme handler task.
        /// Cross-origin requests require CORS header fields.
        /// An exception will be thrown if you try to send a new response object after the task has already been completed.
        /// An exception will be thrown if your app has been told to stop loading this task via the registered WKURLSchemeHandler object.
        #[unsafe(method(didReceiveResponse:))]
        #[unsafe(method_family = none)]
        unsafe fn didReceiveResponse(&self, response: &NSURLResponse);

        /// Add received data to the task.
        ///
        /// Parameter `data`: The data to add.
        ///
        /// After a URL scheme handler task's final response object is received you should
        /// start sending it data.
        /// Each time this method is called the data you send will be appended to all previous data.
        /// An exception will be thrown if you try to send the task any data before sending it a response.
        /// An exception will be thrown if you try to send the task any data after the task has already been completed.
        /// An exception will be thrown if your app has been told to stop loading this task via the registered WKURLSchemeHandler object.
        #[unsafe(method(didReceiveData:))]
        #[unsafe(method_family = none)]
        unsafe fn didReceiveData(&self, data: &NSData);

        /// Mark the task as successfully completed.
        ///
        /// An exception will be thrown if you try to finish the task before sending it a response.
        /// An exception will be thrown if you try to mark a task completed after it has already been marked completed or failed.
        /// An exception will be thrown if your app has been told to stop loading this task via the registered WKURLSchemeHandler object.
        #[unsafe(method(didFinish))]
        #[unsafe(method_family = none)]
        unsafe fn didFinish(&self);

        /// Mark the task as failed.
        ///
        /// Parameter `error`: A description of the error that caused the task to fail.
        ///
        /// An exception will be thrown if you try to mark a task failed after it has already been marked completed or failed.
        /// An exception will be thrown if your app has been told to stop loading this task via the registered WKURLSchemeHandler object.
        #[unsafe(method(didFailWithError:))]
        #[unsafe(method_family = none)]
        unsafe fn didFailWithError(&self, error: &NSError);
    }
);
