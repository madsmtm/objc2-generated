//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
#[cfg(feature = "objc2-app-kit")]
#[cfg(target_os = "macos")]
use objc2_app_kit::*;
use objc2_foundation::*;

use crate::*;

/// The type of action that triggered the navigation.
/// The type of action triggering a navigation.
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct WKNavigationType(pub NSInteger);
impl WKNavigationType {
    /// A link activation.
    ///
    /// ## Discussion
    ///
    /// This action occurs when the user activates a link with an `href` attribute.
    ///
    ///
    #[doc(alias = "WKNavigationTypeLinkActivated")]
    pub const LinkActivated: Self = Self(0);
    /// A request to submit a form.
    #[doc(alias = "WKNavigationTypeFormSubmitted")]
    pub const FormSubmitted: Self = Self(1);
    /// A request for the frame’s next or previous item.
    ///
    /// ## Discussion
    ///
    /// This type of action occurs when the navigation originates from an item in a [`WKBackForwardList`](https://developer.apple.com/documentation/webkit/wkbackforwardlist) object.
    ///
    ///
    #[doc(alias = "WKNavigationTypeBackForward")]
    pub const BackForward: Self = Self(2);
    /// A request to reload the webpage.
    #[doc(alias = "WKNavigationTypeReload")]
    pub const Reload: Self = Self(3);
    /// A request to resubmit a form.
    ///
    /// ## Discussion
    ///
    /// This type of action occurs when the forward or backward navigation causes the web view to resubmit a form. It also occurs when a reload operation causes the resubmission of the form.
    ///
    ///
    #[doc(alias = "WKNavigationTypeFormResubmitted")]
    pub const FormResubmitted: Self = Self(4);
    /// A navigation request that originates for some other reason.
    #[doc(alias = "WKNavigationTypeOther")]
    pub const Other: Self = Self(-1);
}

unsafe impl Encode for WKNavigationType {
    const ENCODING: Encoding = NSInteger::ENCODING;
}

unsafe impl RefEncode for WKNavigationType {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

extern_class!(
    /// An object that contains information about an action that causes navigation to occur.
    ///
    /// ## Overview
    ///
    /// Use a [`WKNavigationAction`](https://developer.apple.com/documentation/webkit/wknavigationaction) object to make policy decisions about whether to allow navigation within your app’s web view. You don’t create [`WKNavigationAction`](https://developer.apple.com/documentation/webkit/wknavigationaction) objects directly. Instead, the web view creates them and delivers them to the appropriate delegate objects. Use the methods of your delegate to analyze the action and determine whether to allow the resulting navigation to occur.
    ///
    ///
    /// A WKNavigationAction object contains information about an action that may cause a navigation, used for making policy decisions.
    #[unsafe(super(NSObject))]
    #[thread_kind = MainThreadOnly]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct WKNavigationAction;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for WKNavigationAction {}
);

impl WKNavigationAction {
    extern_methods!(
        #[cfg(feature = "WKFrameInfo")]
        /// The frame requesting the navigation.
        #[unsafe(method(sourceFrame))]
        #[unsafe(method_family = none)]
        pub unsafe fn sourceFrame(&self) -> Option<Retained<WKFrameInfo>>;

        #[cfg(feature = "WKFrameInfo")]
        /// The target frame, or nil if this is a new window navigation.
        #[unsafe(method(targetFrame))]
        #[unsafe(method_family = none)]
        pub unsafe fn targetFrame(&self) -> Option<Retained<WKFrameInfo>>;

        /// The type of action that triggered the navigation.
        ///
        /// The value is one of the constants of the enumerated type WKNavigationType.
        #[unsafe(method(navigationType))]
        #[unsafe(method_family = none)]
        pub unsafe fn navigationType(&self) -> WKNavigationType;

        /// The navigation's request.
        #[unsafe(method(request))]
        #[unsafe(method_family = none)]
        pub unsafe fn request(&self) -> Retained<NSURLRequest>;

        /// A value indicating whether the web content used a download attribute to indicate that this should be downloaded.
        #[unsafe(method(shouldPerformDownload))]
        #[unsafe(method_family = none)]
        pub unsafe fn shouldPerformDownload(&self) -> bool;

        /// Whether or not the navigation is a redirect from a content rule list.
        #[unsafe(method(isContentRuleListRedirect))]
        #[unsafe(method_family = none)]
        pub unsafe fn isContentRuleListRedirect(&self) -> bool;

        #[cfg(feature = "objc2-app-kit")]
        #[cfg(target_os = "macos")]
        /// The modifier keys that were in effect when the navigation was requested.
        #[unsafe(method(modifierFlags))]
        #[unsafe(method_family = none)]
        pub unsafe fn modifierFlags(&self) -> NSEventModifierFlags;

        /// The number of the mouse button causing the navigation to be requested.
        #[unsafe(method(buttonNumber))]
        #[unsafe(method_family = none)]
        pub unsafe fn buttonNumber(&self) -> NSInteger;
    );
}

/// Methods declared on superclass `NSObject`.
impl WKNavigationAction {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new(mtm: MainThreadMarker) -> Retained<Self>;
    );
}
