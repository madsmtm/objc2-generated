//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ptr::NonNull;
#[cfg(feature = "objc2")]
use objc2::__framework_prelude::*;

use crate::*;

#[cfg(feature = "CFURL")]
impl CFURL {
    /// Loads the data and properties referred to by a given URL.
    ///
    /// Parameters:
    /// - alloc: The allocator to use to allocate memory for the new `CFData` and `CFDictionary` objects returned in `resourceData` and `properties`. Pass `NULL` or kCFAllocatorDefault to use the current default allocator.
    ///
    /// - url: The URL referring to the data and/or properties you wish to load.
    ///
    /// - resourceData: On return, contains a `CFData` object containing the data referred to by `url`. Ownership follows the [The Create Rule](https://developer.apple.com/library/archive/documentation/CoreFoundation/Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029).
    ///
    /// - properties: On return, a pointer to a `CFDictionary` object containing the resource properties referred to by `url`. Ownership follows the [The Create Rule](https://developer.apple.com/library/archive/documentation/CoreFoundation/Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029).
    ///
    /// - desiredProperties: A list of the properties you wish to obtain and return in `properties`. See [File URL Properties](https://developer.apple.com/documentation/corefoundation/file-url-properties) and [HTTP URL Properties](https://developer.apple.com/documentation/corefoundation/http-url-properties) for the list of available properties.
    ///
    /// - errorCode: `0` if successful, otherwise an error code indicating the nature of the problem. See [`CFURLError`](https://developer.apple.com/documentation/corefoundation/cfurlerror) for a list of possible error codes.
    ///
    ///
    /// ## Return Value
    ///
    /// `true` if successful, `false` otherwise.
    ///
    ///
    ///
    /// ## Discussion
    ///
    /// If you are interested in loading only the resource data or the resource’s properties, pass `NULL` for the one you don’t want. If `properties` is non-`NULL` and `desiredProperties` is `NULL` then all properties are fetched. Note that as much work as possible is done even if `false` is returned. For instance, if one property is not available, the others are fetched anyway. This function is intended for convenience, not performance.
    ///
    ///
    ///
    /// # Safety
    ///
    /// - `alloc` might not allow `None`.
    /// - `url` might not allow `None`.
    /// - `resource_data` must be a valid pointer.
    /// - `properties` must be a valid pointer.
    /// - `desired_properties` generic must be of the correct type.
    /// - `desired_properties` might not allow `None`.
    /// - `error_code` must be a valid pointer.
    #[doc(alias = "CFURLCreateDataAndPropertiesFromResource")]
    #[cfg(all(
        feature = "CFArray",
        feature = "CFData",
        feature = "CFDictionary",
        feature = "CFURL"
    ))]
    #[deprecated = "For resource data, use the CFReadStream API. For file resource properties, use CFURLCopyResourcePropertiesForKeys."]
    #[inline]
    pub unsafe fn new_data_and_properties_from_resource(
        alloc: Option<&CFAllocator>,
        url: Option<&CFURL>,
        resource_data: *mut *const CFData,
        properties: *mut *const CFDictionary,
        desired_properties: Option<&CFArray>,
        error_code: *mut i32,
    ) -> bool {
        extern "C-unwind" {
            fn CFURLCreateDataAndPropertiesFromResource(
                alloc: Option<&CFAllocator>,
                url: Option<&CFURL>,
                resource_data: *mut *const CFData,
                properties: *mut *const CFDictionary,
                desired_properties: Option<&CFArray>,
                error_code: *mut i32,
            ) -> Boolean;
        }
        let ret = unsafe {
            CFURLCreateDataAndPropertiesFromResource(
                alloc,
                url,
                resource_data,
                properties,
                desired_properties,
                error_code,
            )
        };
        ret != 0
    }

    /// Writes the given data and properties to a given URL.
    ///
    /// Parameters:
    /// - url: The resource to write.
    ///
    /// - dataToWrite: The data to write. Pass `NULL` to write only properties.
    ///
    /// - propertiesToWrite: The properties to write. Pass `NULL` to write only data. See [File URL Properties](https://developer.apple.com/documentation/corefoundation/file-url-properties) and [HTTP URL Properties](https://developer.apple.com/documentation/corefoundation/http-url-properties) for the list of available properties.
    ///
    /// - errorCode: Upon return, `0` if successful, otherwise contains an error code indicating the nature of the problem. See [`CFURLError`](https://developer.apple.com/documentation/corefoundation/cfurlerror) for a list of possible error codes.
    ///
    ///
    /// ## Return Value
    ///
    /// `true` if successful, `false` otherwise.
    ///
    ///
    ///
    /// ## Discussion
    ///
    /// Properties not present in `propertiesToWrite` are left unchanged, hence if `propertiesToWrite` is `NULL` or empty, the URL’s properties are not changed at all.
    ///
    /// If `url` uses a file scheme and it references a file, the contents of `dataToWrite` are written to the referenced file, overwriting any preexisting data, and the file’s properties are modified according to `propertiesToWrite`. If the file does not exist, but all intermediate directories along the path do already exist, the file is created (otherwise it is not).
    ///
    /// If `url` uses a file scheme and it references a directory (the last path character is “`/`”), the contents of `dataToWrite` are ignored, but if the parameter value is not `NULL`—and all intermediate directories along the path do already exist—a new directory is created  (otherwise it is not).
    ///
    /// If `url` uses an http scheme, an http `PUT` request is sent to the resource with `propertiesToWrite` as the header fields and `dataToWrite` as the data.
    ///
    ///
    ///
    /// # Safety
    ///
    /// - `data_to_write` might not allow `None`.
    /// - `properties_to_write` generic must be of the correct type.
    /// - `properties_to_write` generic must be of the correct type.
    /// - `properties_to_write` might not allow `None`.
    /// - `error_code` must be a valid pointer.
    #[doc(alias = "CFURLWriteDataAndPropertiesToResource")]
    #[cfg(all(feature = "CFData", feature = "CFDictionary", feature = "CFURL"))]
    #[deprecated = "For resource data, use the CFWriteStream API. For file resource properties, use CFURLSetResourcePropertiesForKeys."]
    #[inline]
    pub unsafe fn write_data_and_properties_to_resource(
        &self,
        data_to_write: Option<&CFData>,
        properties_to_write: Option<&CFDictionary>,
        error_code: *mut i32,
    ) -> bool {
        extern "C-unwind" {
            fn CFURLWriteDataAndPropertiesToResource(
                url: &CFURL,
                data_to_write: Option<&CFData>,
                properties_to_write: Option<&CFDictionary>,
                error_code: *mut i32,
            ) -> Boolean;
        }
        let ret = unsafe {
            CFURLWriteDataAndPropertiesToResource(
                self,
                data_to_write,
                properties_to_write,
                error_code,
            )
        };
        ret != 0
    }

    /// Destroys a resource indicated by a given URL.
    ///
    /// Parameters:
    /// - url: The `CFURL` object of the resource to destroy.
    ///
    /// - errorCode: On return, `0` if successful, otherwise an error code indicating the nature of the problem. See [`CFURLError`](https://developer.apple.com/documentation/corefoundation/cfurlerror) for a list of possible error codes.
    ///
    ///
    /// ## Return Value
    ///
    /// `true` if successful, `false` otherwise.
    ///
    ///
    ///
    /// ## Discussion
    ///
    /// If `url` uses an http scheme, an http `DELETE` request is sent to the resource. If `url` uses a file scheme, then:
    ///
    /// - if the reference is a file, the file is deleted;
    ///
    /// - if the reference is a directory and the directory is empty, the directory is deleted;
    ///
    /// - if the reference is a directory and the directory is not empty, the function returns `false` and `errorCode` contains `kCFURLUnknownError`.
    ///
    ///
    ///
    /// # Safety
    ///
    /// `error_code` must be a valid pointer.
    #[doc(alias = "CFURLDestroyResource")]
    #[cfg(feature = "CFURL")]
    #[deprecated = "Use CFURLGetFileSystemRepresentation and removefile(3) instead."]
    #[inline]
    pub unsafe fn destroy_resource(&self, error_code: *mut i32) -> bool {
        extern "C-unwind" {
            fn CFURLDestroyResource(url: &CFURL, error_code: *mut i32) -> Boolean;
        }
        let ret = unsafe { CFURLDestroyResource(self, error_code) };
        ret != 0
    }

    /// Returns a given property specified by a given URL and property string.
    ///
    /// Parameters:
    /// - alloc: The allocator to use to to allocate memory for the new `CFType` object for the requested property. Pass `NULL` or kCFAllocatorDefault to use the current default allocator.
    ///
    /// - url: The `CFURL` object referring to the resource whose properties are loaded.
    ///
    /// - property: The name of the property you wish to load. Pass one of the provided string constants indicating the property. See [File URL Properties](https://developer.apple.com/documentation/corefoundation/file-url-properties) and [HTTP URL Properties](https://developer.apple.com/documentation/corefoundation/http-url-properties) for the list of available properties.
    ///
    /// - errorCode: On return, `0` if successful, otherwise an error code indicating the nature of the problem. See [`CFURLError`](https://developer.apple.com/documentation/corefoundation/cfurlerror) for a list of possible error codes.
    ///
    ///
    /// ## Return Value
    ///
    /// If successful, the requested property as a `CFType` object, `NULL` otherwise. Ownership follows the [The Create Rule](https://developer.apple.com/library/archive/documentation/CoreFoundation/Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029).
    ///
    ///
    ///
    /// ## Discussion
    ///
    /// This is a convenience function for retrieving individual property values which calls through to [`CFURLCreateDataAndPropertiesFromResource`](https://developer.apple.com/documentation/corefoundation/cfurlcreatedataandpropertiesfromresource(_:_:_:_:_:_:)).
    ///
    ///
    ///
    /// # Safety
    ///
    /// - `alloc` might not allow `None`.
    /// - `url` might not allow `None`.
    /// - `property` might not allow `None`.
    /// - `error_code` must be a valid pointer.
    #[doc(alias = "CFURLCreatePropertyFromResource")]
    #[cfg(feature = "CFURL")]
    #[deprecated = "For file resource properties, use CFURLCopyResourcePropertyForKey."]
    #[inline]
    pub unsafe fn new_property_from_resource(
        alloc: Option<&CFAllocator>,
        url: Option<&CFURL>,
        property: Option<&CFString>,
        error_code: *mut i32,
    ) -> Option<CFRetained<CFType>> {
        extern "C-unwind" {
            fn CFURLCreatePropertyFromResource(
                alloc: Option<&CFAllocator>,
                url: Option<&CFURL>,
                property: Option<&CFString>,
                error_code: *mut i32,
            ) -> Option<NonNull<CFType>>;
        }
        let ret = unsafe { CFURLCreatePropertyFromResource(alloc, url, property, error_code) };
        ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
    }
}

/// `CFURL` error codes.
// NS_ENUM
#[deprecated = "Use CFError codes instead"]
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord)]
pub struct CFURLError(pub CFIndex);
impl CFURLError {
    /// Indicates an unknown error.
    #[doc(alias = "kCFURLUnknownError")]
    #[deprecated = "Use CFError codes instead"]
    pub const UnknownError: Self = Self(-10);
    /// Indicates that the scheme is not recognized.
    #[doc(alias = "kCFURLUnknownSchemeError")]
    #[deprecated = "Use CFError codes instead"]
    pub const UnknownSchemeError: Self = Self(-11);
    /// Indicates a resource was not found.
    #[doc(alias = "kCFURLResourceNotFoundError")]
    #[deprecated = "Use CFError codes instead"]
    pub const ResourceNotFoundError: Self = Self(-12);
    /// Indicates an error in accessing a resource.
    #[doc(alias = "kCFURLResourceAccessViolationError")]
    #[deprecated = "Use CFError codes instead"]
    pub const ResourceAccessViolationError: Self = Self(-13);
    /// Indicates a remote host is unavailable.
    #[doc(alias = "kCFURLRemoteHostUnavailableError")]
    #[deprecated = "Use CFError codes instead"]
    pub const RemoteHostUnavailableError: Self = Self(-14);
    /// Indicates one or more arguments are improper.
    #[doc(alias = "kCFURLImproperArgumentsError")]
    #[deprecated = "Use CFError codes instead"]
    pub const ImproperArgumentsError: Self = Self(-15);
    /// Indicates a property key is unknown.
    #[doc(alias = "kCFURLUnknownPropertyKeyError")]
    #[deprecated = "Use CFError codes instead"]
    pub const UnknownPropertyKeyError: Self = Self(-16);
    /// Indicates a property key was unavailable.
    #[doc(alias = "kCFURLPropertyKeyUnavailableError")]
    #[deprecated = "Use CFError codes instead"]
    pub const PropertyKeyUnavailableError: Self = Self(-17);
    /// Indicates a timeout.
    #[doc(alias = "kCFURLTimeoutError")]
    #[deprecated = "Use CFError codes instead"]
    pub const TimeoutError: Self = Self(-18);
}

#[cfg(feature = "objc2")]
unsafe impl Encode for CFURLError {
    const ENCODING: Encoding = CFIndex::ENCODING;
}

#[cfg(feature = "objc2")]
unsafe impl RefEncode for CFURLError {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

extern "C" {
    /// A `CFBoolean` object indicating whether the file referred to by a URL exists.
    #[deprecated = "Use CFURLResourceIsReachable instead."]
    pub static kCFURLFileExists: Option<&'static CFString>;
}

extern "C" {
    /// A `CFArray` object holding `CFURL` objects for the contents of a directory referred to by a URL.
    #[deprecated = "Use the CFURLEnumerator API instead."]
    pub static kCFURLFileDirectoryContents: Option<&'static CFString>;
}

extern "C" {
    /// A `CFNumber` object holding the file’s length in bytes.
    #[deprecated = "Use CFURLCopyResourcePropertyForKey with kCFURLFileSizeKey instead."]
    pub static kCFURLFileLength: Option<&'static CFString>;
}

extern "C" {
    /// A `CFDate` object holding the file’s modification time.
    #[deprecated = "Use CFURLCopyResourcePropertyForKey with kCFURLContentModificationDateKey instead."]
    pub static kCFURLFileLastModificationTime: Option<&'static CFString>;
}

extern "C" {
    /// A `CFNumber` holding the file’s POSIX mode as given in `/usr/include/sys/stat.h`.
    #[deprecated = "Use CFURLCopyResourcePropertyForKey with kCFURLFileSecurityKey and then the CFFileSecurity API instead."]
    pub static kCFURLFilePOSIXMode: Option<&'static CFString>;
}

extern "C" {
    /// A `CFNumber` holding the file owner’s UID.
    #[deprecated = "Use CFURLCopyResourcePropertyForKey with kCFURLFileSecurityKey and then the CFFileSecurity API instead."]
    pub static kCFURLFileOwnerID: Option<&'static CFString>;
}

extern "C" {
    /// A `CFNumber` object holding the status code of an HTTP request.
    #[deprecated = "Use NSHTTPURLResponse methods instead."]
    pub static kCFURLHTTPStatusCode: Option<&'static CFString>;
}

extern "C" {
    /// A `CFString` object holding the status line of an HTTP request.
    #[deprecated = "Use NSHTTPURLResponse methods instead."]
    pub static kCFURLHTTPStatusLine: Option<&'static CFString>;
}

#[cfg(all(
    feature = "CFArray",
    feature = "CFData",
    feature = "CFDictionary",
    feature = "CFURL"
))]
#[deprecated = "renamed to `CFURL::new_data_and_properties_from_resource`"]
#[inline]
pub unsafe extern "C-unwind" fn CFURLCreateDataAndPropertiesFromResource(
    alloc: Option<&CFAllocator>,
    url: Option<&CFURL>,
    resource_data: *mut *const CFData,
    properties: *mut *const CFDictionary,
    desired_properties: Option<&CFArray>,
    error_code: *mut i32,
) -> bool {
    extern "C-unwind" {
        fn CFURLCreateDataAndPropertiesFromResource(
            alloc: Option<&CFAllocator>,
            url: Option<&CFURL>,
            resource_data: *mut *const CFData,
            properties: *mut *const CFDictionary,
            desired_properties: Option<&CFArray>,
            error_code: *mut i32,
        ) -> Boolean;
    }
    let ret = unsafe {
        CFURLCreateDataAndPropertiesFromResource(
            alloc,
            url,
            resource_data,
            properties,
            desired_properties,
            error_code,
        )
    };
    ret != 0
}

#[cfg(all(feature = "CFData", feature = "CFDictionary", feature = "CFURL"))]
#[deprecated = "renamed to `CFURL::write_data_and_properties_to_resource`"]
#[inline]
pub unsafe extern "C-unwind" fn CFURLWriteDataAndPropertiesToResource(
    url: &CFURL,
    data_to_write: Option<&CFData>,
    properties_to_write: Option<&CFDictionary>,
    error_code: *mut i32,
) -> bool {
    extern "C-unwind" {
        fn CFURLWriteDataAndPropertiesToResource(
            url: &CFURL,
            data_to_write: Option<&CFData>,
            properties_to_write: Option<&CFDictionary>,
            error_code: *mut i32,
        ) -> Boolean;
    }
    let ret = unsafe {
        CFURLWriteDataAndPropertiesToResource(url, data_to_write, properties_to_write, error_code)
    };
    ret != 0
}

#[cfg(feature = "CFURL")]
#[deprecated = "renamed to `CFURL::destroy_resource`"]
#[inline]
pub unsafe extern "C-unwind" fn CFURLDestroyResource(url: &CFURL, error_code: *mut i32) -> bool {
    extern "C-unwind" {
        fn CFURLDestroyResource(url: &CFURL, error_code: *mut i32) -> Boolean;
    }
    let ret = unsafe { CFURLDestroyResource(url, error_code) };
    ret != 0
}

#[cfg(feature = "CFURL")]
#[deprecated = "renamed to `CFURL::new_property_from_resource`"]
#[inline]
pub unsafe extern "C-unwind" fn CFURLCreatePropertyFromResource(
    alloc: Option<&CFAllocator>,
    url: Option<&CFURL>,
    property: Option<&CFString>,
    error_code: *mut i32,
) -> Option<CFRetained<CFType>> {
    extern "C-unwind" {
        fn CFURLCreatePropertyFromResource(
            alloc: Option<&CFAllocator>,
            url: Option<&CFURL>,
            property: Option<&CFString>,
            error_code: *mut i32,
        ) -> Option<NonNull<CFType>>;
    }
    let ret = unsafe { CFURLCreatePropertyFromResource(alloc, url, property, error_code) };
    ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
}
