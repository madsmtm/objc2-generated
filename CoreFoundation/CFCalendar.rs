//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::cell::UnsafeCell;
use core::ffi::*;
use core::marker::{PhantomData, PhantomPinned};
use core::ptr::NonNull;
#[cfg(feature = "objc2")]
use objc2::__framework_prelude::*;

use crate::*;

///
/// ## Overview
///
/// The CFCalendar opaque type represents a calendar system. The associated API provides information about a calendar and supports calendrical computations such as determining the range of a given calendrical unit and adding units to a given absolute time.
///
/// CFAbsoluteTime is the operational lingua franca of CFCalendar—to do calendar arithmetic, you start and end with an absolute time; to convert between a decomposed date in one calendar and another calendar, you first convert to an absolute time. CFAbsoluteTime provides the absolute scale and epoch for dates and times, which can then be rendered into a particular calendar, for calendrical computations or user display.
///
/// In a calendar, day, week, weekday, month, and year numbers are generally 1-based, but there may be calendar-specific exceptions. Ordinal numbers, where they occur, are 1-based. Some calendars represented by this API may have to map their basic unit concepts into year/month/week/day/… nomenclature. For example, a calendar composed of 4 quarters in a year instead of 12 months uses the “month” unit to represent quarters. The particular values of the unit are defined by each calendar, and are not necessarily “consistent with” or have a “correspondence with,” values for that unit in another calendar. Several CFCalendar functions ([`CFCalendarComposeAbsoluteTime`](https://developer.apple.com/documentation/corefoundation/cfcalendarcomposeabsolutetime), [`CFCalendarDecomposeAbsoluteTime`](https://developer.apple.com/documentation/corefoundation/cfcalendardecomposeabsolutetime), [`CFCalendarAddComponents`](https://developer.apple.com/documentation/corefoundation/cfcalendaraddcomponents), and [`CFCalendarGetComponentDifference`](https://developer.apple.com/documentation/corefoundation/cfcalendargetcomponentdifference)) take a description string that describes the calendrical components provided in a varargs parameter area. You can provide as many components as you need (or choose to), in whatever order you choose. When there is incomplete information to compute an absolute time, default values similar to 0 and 1 are usually chosen by a calendar, but this is a calendar-specific choice. If you provide inconsistent information, calendar-specific disambiguation is performed (which may involve ignoring one or more of the parameters). The characters of the description string specify the units and order of the parameters which follow. The characters are adopted from the corresponding format characters used by CFDateFormatter when possible, as shown in below.
///
/// (TODO table: Table { header: "row", extended_data: None, rows: [[[Paragraph { inline_content: [Text { text: "Symbol" }] }], [Paragraph { inline_content: [Text { text: "Meaning" }] }], [Paragraph { inline_content: [Text { text: "Value Type" }] }]], [[Paragraph { inline_content: [Text { text: "y" }] }], [Paragraph { inline_content: [Text { text: "year" }] }], [Paragraph { inline_content: [Text { text: "int" }] }]], [[Paragraph { inline_content: [Text { text: "M" }] }], [Paragraph { inline_content: [Text { text: "month" }] }], [Paragraph { inline_content: [Text { text: "int" }] }]], [[Paragraph { inline_content: [Text { text: "d" }] }], [Paragraph { inline_content: [Text { text: "day" }] }], [Paragraph { inline_content: [Text { text: "int" }] }]], [[Paragraph { inline_content: [Text { text: "H" }] }], [Paragraph { inline_content: [Text { text: "hour" }] }], [Paragraph { inline_content: [Text { text: "int" }] }]], [[Paragraph { inline_content: [Text { text: "m" }] }], [Paragraph { inline_content: [Text { text: "minute" }] }], [Paragraph { inline_content: [Text { text: "int" }] }]], [[Paragraph { inline_content: [Text { text: "s" }] }], [Paragraph { inline_content: [Text { text: "second" }] }], [Paragraph { inline_content: [Text { text: "int" }] }]]], alignments: None, metadata: None })
/// Information related to formatting dates and times and name-related calendar information is managed by CFDateFormatter.
///
/// CFCalendar is subject to some limitations. There is no leap second handling—the existence of leap seconds is ignored as in the other CoreFoundation API. In general, historical accuracy of calendars is not guaranteed. There is currently no API for defining your own calendars.
///
/// CFCalendar is “toll-free bridged” with its Cocoa Foundation counterpart, NSCalendar. This means that the Core Foundation type is interchangeable in function or method calls with the bridged Foundation object. Therefore, in a method where you see an `NSCalendar *` parameter, you can pass in a `CFCalendarRef`, and in a function where you see a `CFCalendarRef` parameter, you can pass in an NSCalendar instance. See [Toll-Free Bridged Types](https://developer.apple.com/library/archive/documentation/CoreFoundation/Conceptual/CFDesignConcepts/Articles/tollFreeBridgedTypes.html#//apple_ref/doc/uid/TP40010677) for more information on toll-free bridging.
///
///
///
/// This is toll-free bridged with `NSCalendar`.
#[doc(alias = "CFCalendarRef")]
#[repr(C)]
pub struct CFCalendar {
    inner: [u8; 0],
    _p: UnsafeCell<PhantomData<(*const UnsafeCell<()>, PhantomPinned)>>,
}

cf_type!(
    unsafe impl CFCalendar {}
);
#[cfg(feature = "objc2")]
cf_objc2_type!(
    unsafe impl RefEncode<"__CFCalendar"> for CFCalendar {}
);

unsafe impl ConcreteType for CFCalendar {
    /// Returns the type identifier for the CFCalendar opaque type.
    ///
    /// ## Return Value
    ///
    /// The type identifier for the CFCalendar opaque type.
    ///
    ///
    #[doc(alias = "CFCalendarGetTypeID")]
    #[inline]
    fn type_id() -> CFTypeID {
        extern "C-unwind" {
            fn CFCalendarGetTypeID() -> CFTypeID;
        }
        unsafe { CFCalendarGetTypeID() }
    }
}

impl CFCalendar {
    /// Returns a copy of the logical calendar for the current user.
    ///
    /// ## Return Value
    ///
    /// The logical calendar for the current user that is formed from the settings for the current user’s chosen system locale overlaid with any custom settings the user has specified in System Preferences. This function may return a retained cached object, not a new object. Ownership follows the [The Create Rule](https://developer.apple.com/library/archive/documentation/CoreFoundation/Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029).
    ///
    ///
    ///
    /// ## Discussion
    ///
    /// Settings you get from this calendar do not change if user defaults change so that your operations are consistent.
    ///
    /// Typically you perform some operations on the returned object and then release it. The returned object may be cached, so you do not need to hold on to it indefinitely.
    ///
    ///
    #[doc(alias = "CFCalendarCopyCurrent")]
    #[inline]
    pub fn current() -> Option<CFRetained<CFCalendar>> {
        extern "C-unwind" {
            fn CFCalendarCopyCurrent() -> Option<NonNull<CFCalendar>>;
        }
        let ret = unsafe { CFCalendarCopyCurrent() };
        ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
    }

    /// Returns a calendar object for the calendar identified by a calendar identifier.
    ///
    /// Parameters:
    /// - allocator: The allocator to use to allocate memory for the new object. Pass `NULL` or kCFAllocatorDefault to use the current default allocator.
    ///
    /// - identifier: A calendar identifier. Calendar identifier constants are given in [`CFLocaleRef`](https://developer.apple.com/documentation/corefoundation/cflocale).
    ///
    ///
    /// ## Return Value
    ///
    /// A calendar object for the calendar identified by `ident`. If the identifier is unknown (if, for example, it is either an unrecognized string, or the calendar is not supported by the current version of the operating system), returns `NULL`. Ownership follows the [The Create Rule](https://developer.apple.com/library/archive/documentation/CoreFoundation/Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029).
    ///
    ///
    /// Creates a calendar.  The identifiers are the `kCF*Calendar` constants in CFLocale.h.
    #[doc(alias = "CFCalendarCreateWithIdentifier")]
    #[cfg(feature = "CFLocale")]
    #[inline]
    pub fn with_identifier(
        allocator: Option<&CFAllocator>,
        identifier: Option<&CFCalendarIdentifier>,
    ) -> Option<CFRetained<CFCalendar>> {
        extern "C-unwind" {
            fn CFCalendarCreateWithIdentifier(
                allocator: Option<&CFAllocator>,
                identifier: Option<&CFCalendarIdentifier>,
            ) -> Option<NonNull<CFCalendar>>;
        }
        let ret = unsafe { CFCalendarCreateWithIdentifier(allocator, identifier) };
        ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
    }

    /// Returns the given calendar’s identifier.
    ///
    /// Parameters:
    /// - calendar: The calendar to examine.
    ///
    ///
    /// ## Return Value
    ///
    /// A string representation of `calendar`’s identifier. Calendar identifier constants can be found in [`CFLocaleRef`](https://developer.apple.com/documentation/corefoundation/cflocale). Ownership follows the [The Get Rule](https://developer.apple.com/library/archive/documentation/CoreFoundation/Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-SW1).
    ///
    ///
    /// Returns the calendar's identifier.
    #[doc(alias = "CFCalendarGetIdentifier")]
    #[cfg(feature = "CFLocale")]
    #[inline]
    pub fn identifier(&self) -> Option<CFRetained<CFCalendarIdentifier>> {
        extern "C-unwind" {
            fn CFCalendarGetIdentifier(
                calendar: &CFCalendar,
            ) -> Option<NonNull<CFCalendarIdentifier>>;
        }
        let ret = unsafe { CFCalendarGetIdentifier(self) };
        ret.map(|ret| unsafe { CFRetained::retain(ret) })
    }

    /// Returns a locale object for a specified calendar.
    ///
    /// Parameters:
    /// - calendar: The calendar to examine.
    ///
    ///
    /// ## Return Value
    ///
    /// A copy of the locale object for the specified calendar. Ownership follows the [The Create Rule](https://developer.apple.com/library/archive/documentation/CoreFoundation/Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029).
    ///
    ///
    #[doc(alias = "CFCalendarCopyLocale")]
    #[cfg(feature = "CFLocale")]
    #[inline]
    pub fn locale(&self) -> Option<CFRetained<CFLocale>> {
        extern "C-unwind" {
            fn CFCalendarCopyLocale(calendar: &CFCalendar) -> Option<NonNull<CFLocale>>;
        }
        let ret = unsafe { CFCalendarCopyLocale(self) };
        ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
    }

    /// Sets the locale for a calendar.
    ///
    /// Parameters:
    /// - calendar: The calendar to modify.
    ///
    /// - locale: The locale to set for `calendar`.
    ///
    ///
    /// # Safety
    ///
    /// `locale` might not allow `None`.
    #[doc(alias = "CFCalendarSetLocale")]
    #[cfg(feature = "CFLocale")]
    #[inline]
    pub unsafe fn set_locale(&self, locale: Option<&CFLocale>) {
        extern "C-unwind" {
            fn CFCalendarSetLocale(calendar: &CFCalendar, locale: Option<&CFLocale>);
        }
        unsafe { CFCalendarSetLocale(self, locale) }
    }

    /// Returns a time zone object for a specified calendar.
    ///
    /// Parameters:
    /// - calendar: The calendar to examine.
    ///
    ///
    /// ## Return Value
    ///
    /// A copy of the time zone object for the specified calendar. Ownership follows the [The Create Rule](https://developer.apple.com/library/archive/documentation/CoreFoundation/Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029).
    ///
    ///
    #[doc(alias = "CFCalendarCopyTimeZone")]
    #[cfg(feature = "CFDate")]
    #[inline]
    pub fn time_zone(&self) -> Option<CFRetained<CFTimeZone>> {
        extern "C-unwind" {
            fn CFCalendarCopyTimeZone(calendar: &CFCalendar) -> Option<NonNull<CFTimeZone>>;
        }
        let ret = unsafe { CFCalendarCopyTimeZone(self) };
        ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
    }

    /// Sets the time zone for a calendar.
    ///
    /// Parameters:
    /// - calendar: The calendar to modify.
    ///
    /// - tz: The time zone to set for `calendar`.
    ///
    #[doc(alias = "CFCalendarSetTimeZone")]
    #[cfg(feature = "CFDate")]
    #[inline]
    pub fn set_time_zone(&self, tz: Option<&CFTimeZone>) {
        extern "C-unwind" {
            fn CFCalendarSetTimeZone(calendar: &CFCalendar, tz: Option<&CFTimeZone>);
        }
        unsafe { CFCalendarSetTimeZone(self, tz) }
    }

    /// Returns the index of first weekday for a specified calendar.
    ///
    /// Parameters:
    /// - calendar: The calendar to examine.
    ///
    ///
    /// ## Return Value
    ///
    /// The index of the first weekday of the specified calendar.
    ///
    ///
    #[doc(alias = "CFCalendarGetFirstWeekday")]
    #[inline]
    pub fn first_weekday(&self) -> CFIndex {
        extern "C-unwind" {
            fn CFCalendarGetFirstWeekday(calendar: &CFCalendar) -> CFIndex;
        }
        unsafe { CFCalendarGetFirstWeekday(self) }
    }

    /// Sets the first weekday for a calendar.
    ///
    /// Parameters:
    /// - calendar: The calendar to modify.
    ///
    /// - wkdy: The index to set for the first weekday of `calendar`.
    ///
    #[doc(alias = "CFCalendarSetFirstWeekday")]
    #[inline]
    pub fn set_first_weekday(&self, wkdy: CFIndex) {
        extern "C-unwind" {
            fn CFCalendarSetFirstWeekday(calendar: &CFCalendar, wkdy: CFIndex);
        }
        unsafe { CFCalendarSetFirstWeekday(self, wkdy) }
    }

    /// Returns the minimum number of days in the first week of a specified calendar.
    ///
    /// Parameters:
    /// - calendar: The calendar to examine.
    ///
    ///
    /// ## Return Value
    ///
    /// The minimum number of days in the first week of `calendar`.
    ///
    ///
    #[doc(alias = "CFCalendarGetMinimumDaysInFirstWeek")]
    #[inline]
    pub fn minimum_days_in_first_week(&self) -> CFIndex {
        extern "C-unwind" {
            fn CFCalendarGetMinimumDaysInFirstWeek(calendar: &CFCalendar) -> CFIndex;
        }
        unsafe { CFCalendarGetMinimumDaysInFirstWeek(self) }
    }

    /// Sets the minimum number of days in the first week of a specified calendar.
    ///
    /// Parameters:
    /// - calendar: The calendar to modify.
    ///
    /// - mwd: The number to set as the minimum number of days in the first week of `calendar`.
    ///
    #[doc(alias = "CFCalendarSetMinimumDaysInFirstWeek")]
    #[inline]
    pub fn set_minimum_days_in_first_week(&self, mwd: CFIndex) {
        extern "C-unwind" {
            fn CFCalendarSetMinimumDaysInFirstWeek(calendar: &CFCalendar, mwd: CFIndex);
        }
        unsafe { CFCalendarSetMinimumDaysInFirstWeek(self, mwd) }
    }
}

/// CFCalendarUnit constants are used to specify calendrical units, such as day or month, in various calendar calculations.
// NS_OPTIONS
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct CFCalendarUnit(pub CFOptionFlags);
bitflags::bitflags! {
    impl CFCalendarUnit: CFOptionFlags {
/// Specifies the era unit.
        #[doc(alias = "kCFCalendarUnitEra")]
        const Era = 1<<1;
/// Specifies the year unit.
        #[doc(alias = "kCFCalendarUnitYear")]
        const Year = 1<<2;
/// Specifies the month unit.
        #[doc(alias = "kCFCalendarUnitMonth")]
        const Month = 1<<3;
/// Specifies the day unit.
        #[doc(alias = "kCFCalendarUnitDay")]
        const Day = 1<<4;
/// Specifies the hour unit.
        #[doc(alias = "kCFCalendarUnitHour")]
        const Hour = 1<<5;
/// Specifies the minute unit.
        #[doc(alias = "kCFCalendarUnitMinute")]
        const Minute = 1<<6;
/// Specifies the second unit.
        #[doc(alias = "kCFCalendarUnitSecond")]
        const Second = 1<<7;
/// Specifies the week unit.
        #[doc(alias = "kCFCalendarUnitWeek")]
#[deprecated = "Use kCFCalendarUnitWeekOfYear or kCFCalendarUnitWeekOfMonth instead"]
        const Week = 1<<8;
/// Specifies the weekday unit.
///
/// ## Discussion
///
/// The weekday units are the numbers `1`-`N` (where for the Gregorian calendar `N=7` and `1` is Sunday).
///
///
        #[doc(alias = "kCFCalendarUnitWeekday")]
        const Weekday = 1<<9;
/// Specifies the ordinal weekday unit.
///
/// ## Discussion
///
/// The weekday ordinal unit describes ordinal position within the month unit of the corresponding weekday unit. For example, in the Gregorian calendar a weekday ordinal unit of `2` for a weekday unit `3` indicates “the second Tuesday in the month”.
///
///
        #[doc(alias = "kCFCalendarUnitWeekdayOrdinal")]
        const WeekdayOrdinal = 1<<10;
/// Specifies the quarter-year unit.
        #[doc(alias = "kCFCalendarUnitQuarter")]
        const Quarter = 1<<11;
/// Specifies the original week of a month calendar unit.
        #[doc(alias = "kCFCalendarUnitWeekOfMonth")]
        const WeekOfMonth = 1<<12;
/// Specifies the original week of the year calendar unit.
        #[doc(alias = "kCFCalendarUnitWeekOfYear")]
        const WeekOfYear = 1<<13;
/// Specifies the relative year for a week within a year calendar unit.
        #[doc(alias = "kCFCalendarUnitYearForWeekOfYear")]
        const YearForWeekOfYear = 1<<14;
        #[doc(alias = "kCFCalendarUnitDayOfYear")]
        const DayOfYear = 1<<16;
    }
}

#[cfg(feature = "objc2")]
unsafe impl Encode for CFCalendarUnit {
    const ENCODING: Encoding = CFOptionFlags::ENCODING;
}

#[cfg(feature = "objc2")]
unsafe impl RefEncode for CFCalendarUnit {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

impl CFCalendar {
    /// Returns the minimum range limits of the values that a specified unit can take on in a given calendar.
    ///
    /// Parameters:
    /// - calendar: The calendar to examine.
    ///
    /// - unit: A calendar unit. For valid values see [`CFCalendarUnit`](https://developer.apple.com/documentation/corefoundation/cfcalendarunit).
    ///
    ///
    /// ## Return Value
    ///
    /// The minimum range limits of the values that the specified unit can take on in `calendar`. For example, in the Gregorian calendar the minimum ranges for the Day unit is 1-28.
    ///
    ///
    #[doc(alias = "CFCalendarGetMinimumRangeOfUnit")]
    #[inline]
    pub fn minimum_range_of_unit(&self, unit: CFCalendarUnit) -> CFRange {
        extern "C-unwind" {
            fn CFCalendarGetMinimumRangeOfUnit(
                calendar: &CFCalendar,
                unit: CFCalendarUnit,
            ) -> CFRange;
        }
        unsafe { CFCalendarGetMinimumRangeOfUnit(self, unit) }
    }

    /// Returns the maximum range limits of the values that a specified unit can take on in a given calendar.
    ///
    /// Parameters:
    /// - calendar: The calendar to examine.
    ///
    /// - unit: A calendar unit. For valid values see [`CFCalendarUnit`](https://developer.apple.com/documentation/corefoundation/cfcalendarunit).
    ///
    ///
    /// ## Return Value
    ///
    /// The maximum range limits of the values that the specified unit can take on in `calendar`. For example, in the Gregorian calendar the maximum ranges for the Day unit is 1-31.
    ///
    ///
    #[doc(alias = "CFCalendarGetMaximumRangeOfUnit")]
    #[inline]
    pub fn maximum_range_of_unit(&self, unit: CFCalendarUnit) -> CFRange {
        extern "C-unwind" {
            fn CFCalendarGetMaximumRangeOfUnit(
                calendar: &CFCalendar,
                unit: CFCalendarUnit,
            ) -> CFRange;
        }
        unsafe { CFCalendarGetMaximumRangeOfUnit(self, unit) }
    }

    /// Returns the range of values that one unit can take on within a larger unit during which a specific absolute time occurs.
    ///
    /// Parameters:
    /// - calendar: The calendar to examine.
    ///
    /// - smallerUnit: A calendar unit. For valid values see [`CFCalendarUnit`](https://developer.apple.com/documentation/corefoundation/cfcalendarunit).
    ///
    /// - biggerUnit: A calendar unit. For valid values see [`CFCalendarUnit`](https://developer.apple.com/documentation/corefoundation/cfcalendarunit).
    ///
    /// - at: An absolute time.
    ///
    ///
    /// ## Return Value
    ///
    /// The range of values that the calendar unit specified by `smallerUnit` can take on within the calendar unit specified by `biggerUnit` that includes the absolute time `at`. For example, the range the Day unit can take on in the Month in which the absolute time lies.
    ///
    ///
    ///
    /// ## Discussion
    ///
    /// If `biggerUnit` is not logically bigger than `smallerUnit` in the calendar, or the given combination of units does not make sense (or is a computation which is undefined), the result is `{kCFNotFound, kCFNotFound`}.
    ///
    ///
    #[doc(alias = "CFCalendarGetRangeOfUnit")]
    #[cfg(feature = "CFDate")]
    #[inline]
    pub fn range_of_unit(
        &self,
        smaller_unit: CFCalendarUnit,
        bigger_unit: CFCalendarUnit,
        at: CFAbsoluteTime,
    ) -> CFRange {
        extern "C-unwind" {
            fn CFCalendarGetRangeOfUnit(
                calendar: &CFCalendar,
                smaller_unit: CFCalendarUnit,
                bigger_unit: CFCalendarUnit,
                at: CFAbsoluteTime,
            ) -> CFRange;
        }
        unsafe { CFCalendarGetRangeOfUnit(self, smaller_unit, bigger_unit, at) }
    }

    /// Returns the ordinal number of a calendrical unit within a larger unit at a specified absolute time.
    ///
    /// Parameters:
    /// - calendar: The calendar to examine.
    ///
    /// - smallerUnit: A calendar unit. For valid values see [`CFCalendarUnit`](https://developer.apple.com/documentation/corefoundation/cfcalendarunit).
    ///
    /// - biggerUnit: A calendar unit. For valid values see [`CFCalendarUnit`](https://developer.apple.com/documentation/corefoundation/cfcalendarunit).
    ///
    /// - at: An absolute time.
    ///
    ///
    /// ## Return Value
    ///
    /// The ordinal number of the calendar unit specified by `smallerUnit` within the calendar unit specified by `biggerUnit` at the absolute time `at`. For example, the time 00:45 is in the first hour of the day, and for units Hour and Day respectively, the result would be 1.
    ///
    ///
    ///
    /// ## Discussion
    ///
    /// If the `biggerUnit` parameter is not logically bigger than the `smallerUnit` parameter in the calendar, or the given combination of units does not make sense (or is a computation which is undefined), the result is `kCFNotFound`.
    ///
    /// ## Discussion
    ///
    /// The ordinality is in most cases not the same as the decomposed value of the unit. Typically return values are `1` and greater; an exception is the week-in-month calculation, which returns `0` for days before the first week in the month containing the date. Note that some computations can take a relatively long time to perform.
    ///
    ///
    #[doc(alias = "CFCalendarGetOrdinalityOfUnit")]
    #[cfg(feature = "CFDate")]
    #[inline]
    pub fn ordinality_of_unit(
        &self,
        smaller_unit: CFCalendarUnit,
        bigger_unit: CFCalendarUnit,
        at: CFAbsoluteTime,
    ) -> CFIndex {
        extern "C-unwind" {
            fn CFCalendarGetOrdinalityOfUnit(
                calendar: &CFCalendar,
                smaller_unit: CFCalendarUnit,
                bigger_unit: CFCalendarUnit,
                at: CFAbsoluteTime,
            ) -> CFIndex;
        }
        unsafe { CFCalendarGetOrdinalityOfUnit(self, smaller_unit, bigger_unit, at) }
    }

    /// Returns by reference the start time and duration of a given calendar unit that contains a given absolute time.
    ///
    /// Parameters:
    /// - calendar: The calendar to examine.
    ///
    /// - unit: A calendar unit (for valid values, see [`CFCalendarUnit`](https://developer.apple.com/documentation/corefoundation/cfcalendarunit)).
    ///
    /// - at: An absolute time.
    ///
    /// - startp: Upon return, contains the beginning of the calendar unit specified by `unit` that contains the time `at`.
    ///
    /// - tip: Upon return, contains the duration of the calendar unit specified by `unit` that contains the time `at`.
    ///
    ///
    /// ## Return Value
    ///
    /// `true` if the values of `startp` and `tip` could be calculated, otherwise `false`.
    ///
    ///
    ///
    /// ## Discussion
    ///
    /// The function may fail if, for example, you try to get the range of a `kCFCalendarUnitWeekday` and specify a time (`at`) that is during a weekend.
    ///
    ///
    ///
    /// # Safety
    ///
    /// - `startp` must be a valid pointer.
    /// - `tip` must be a valid pointer.
    #[doc(alias = "CFCalendarGetTimeRangeOfUnit")]
    #[cfg(feature = "CFDate")]
    #[inline]
    pub unsafe fn time_range_of_unit(
        &self,
        unit: CFCalendarUnit,
        at: CFAbsoluteTime,
        startp: *mut CFAbsoluteTime,
        tip: *mut CFTimeInterval,
    ) -> bool {
        extern "C-unwind" {
            fn CFCalendarGetTimeRangeOfUnit(
                calendar: &CFCalendar,
                unit: CFCalendarUnit,
                at: CFAbsoluteTime,
                startp: *mut CFAbsoluteTime,
                tip: *mut CFTimeInterval,
            ) -> Boolean;
        }
        let ret = unsafe { CFCalendarGetTimeRangeOfUnit(self, unit, at, startp, tip) };
        ret != 0
    }
}

/// Specifies that the components specified for calendar components should be incremented and wrap around to zero/one on overflow, but should not cause higher units to be incremented.
pub const kCFCalendarComponentsWrap: CFOptionFlags = 1 << 0;

#[deprecated = "renamed to `CFCalendar::current`"]
#[inline]
pub extern "C-unwind" fn CFCalendarCopyCurrent() -> Option<CFRetained<CFCalendar>> {
    extern "C-unwind" {
        fn CFCalendarCopyCurrent() -> Option<NonNull<CFCalendar>>;
    }
    let ret = unsafe { CFCalendarCopyCurrent() };
    ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
}

#[cfg(feature = "CFLocale")]
#[deprecated = "renamed to `CFCalendar::with_identifier`"]
#[inline]
pub extern "C-unwind" fn CFCalendarCreateWithIdentifier(
    allocator: Option<&CFAllocator>,
    identifier: Option<&CFCalendarIdentifier>,
) -> Option<CFRetained<CFCalendar>> {
    extern "C-unwind" {
        fn CFCalendarCreateWithIdentifier(
            allocator: Option<&CFAllocator>,
            identifier: Option<&CFCalendarIdentifier>,
        ) -> Option<NonNull<CFCalendar>>;
    }
    let ret = unsafe { CFCalendarCreateWithIdentifier(allocator, identifier) };
    ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
}

#[cfg(feature = "CFLocale")]
#[deprecated = "renamed to `CFCalendar::identifier`"]
#[inline]
pub extern "C-unwind" fn CFCalendarGetIdentifier(
    calendar: &CFCalendar,
) -> Option<CFRetained<CFCalendarIdentifier>> {
    extern "C-unwind" {
        fn CFCalendarGetIdentifier(calendar: &CFCalendar) -> Option<NonNull<CFCalendarIdentifier>>;
    }
    let ret = unsafe { CFCalendarGetIdentifier(calendar) };
    ret.map(|ret| unsafe { CFRetained::retain(ret) })
}

#[cfg(feature = "CFLocale")]
#[deprecated = "renamed to `CFCalendar::locale`"]
#[inline]
pub extern "C-unwind" fn CFCalendarCopyLocale(
    calendar: &CFCalendar,
) -> Option<CFRetained<CFLocale>> {
    extern "C-unwind" {
        fn CFCalendarCopyLocale(calendar: &CFCalendar) -> Option<NonNull<CFLocale>>;
    }
    let ret = unsafe { CFCalendarCopyLocale(calendar) };
    ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
}

extern "C-unwind" {
    #[cfg(feature = "CFLocale")]
    #[deprecated = "renamed to `CFCalendar::set_locale`"]
    pub fn CFCalendarSetLocale(calendar: &CFCalendar, locale: Option<&CFLocale>);
}

#[cfg(feature = "CFDate")]
#[deprecated = "renamed to `CFCalendar::time_zone`"]
#[inline]
pub extern "C-unwind" fn CFCalendarCopyTimeZone(
    calendar: &CFCalendar,
) -> Option<CFRetained<CFTimeZone>> {
    extern "C-unwind" {
        fn CFCalendarCopyTimeZone(calendar: &CFCalendar) -> Option<NonNull<CFTimeZone>>;
    }
    let ret = unsafe { CFCalendarCopyTimeZone(calendar) };
    ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
}

#[cfg(feature = "CFDate")]
#[deprecated = "renamed to `CFCalendar::set_time_zone`"]
#[inline]
pub extern "C-unwind" fn CFCalendarSetTimeZone(calendar: &CFCalendar, tz: Option<&CFTimeZone>) {
    extern "C-unwind" {
        fn CFCalendarSetTimeZone(calendar: &CFCalendar, tz: Option<&CFTimeZone>);
    }
    unsafe { CFCalendarSetTimeZone(calendar, tz) }
}

#[deprecated = "renamed to `CFCalendar::first_weekday`"]
#[inline]
pub extern "C-unwind" fn CFCalendarGetFirstWeekday(calendar: &CFCalendar) -> CFIndex {
    extern "C-unwind" {
        fn CFCalendarGetFirstWeekday(calendar: &CFCalendar) -> CFIndex;
    }
    unsafe { CFCalendarGetFirstWeekday(calendar) }
}

#[deprecated = "renamed to `CFCalendar::set_first_weekday`"]
#[inline]
pub extern "C-unwind" fn CFCalendarSetFirstWeekday(calendar: &CFCalendar, wkdy: CFIndex) {
    extern "C-unwind" {
        fn CFCalendarSetFirstWeekday(calendar: &CFCalendar, wkdy: CFIndex);
    }
    unsafe { CFCalendarSetFirstWeekday(calendar, wkdy) }
}

#[deprecated = "renamed to `CFCalendar::minimum_days_in_first_week`"]
#[inline]
pub extern "C-unwind" fn CFCalendarGetMinimumDaysInFirstWeek(calendar: &CFCalendar) -> CFIndex {
    extern "C-unwind" {
        fn CFCalendarGetMinimumDaysInFirstWeek(calendar: &CFCalendar) -> CFIndex;
    }
    unsafe { CFCalendarGetMinimumDaysInFirstWeek(calendar) }
}

#[deprecated = "renamed to `CFCalendar::set_minimum_days_in_first_week`"]
#[inline]
pub extern "C-unwind" fn CFCalendarSetMinimumDaysInFirstWeek(calendar: &CFCalendar, mwd: CFIndex) {
    extern "C-unwind" {
        fn CFCalendarSetMinimumDaysInFirstWeek(calendar: &CFCalendar, mwd: CFIndex);
    }
    unsafe { CFCalendarSetMinimumDaysInFirstWeek(calendar, mwd) }
}

#[deprecated = "renamed to `CFCalendar::minimum_range_of_unit`"]
#[inline]
pub extern "C-unwind" fn CFCalendarGetMinimumRangeOfUnit(
    calendar: &CFCalendar,
    unit: CFCalendarUnit,
) -> CFRange {
    extern "C-unwind" {
        fn CFCalendarGetMinimumRangeOfUnit(calendar: &CFCalendar, unit: CFCalendarUnit) -> CFRange;
    }
    unsafe { CFCalendarGetMinimumRangeOfUnit(calendar, unit) }
}

#[deprecated = "renamed to `CFCalendar::maximum_range_of_unit`"]
#[inline]
pub extern "C-unwind" fn CFCalendarGetMaximumRangeOfUnit(
    calendar: &CFCalendar,
    unit: CFCalendarUnit,
) -> CFRange {
    extern "C-unwind" {
        fn CFCalendarGetMaximumRangeOfUnit(calendar: &CFCalendar, unit: CFCalendarUnit) -> CFRange;
    }
    unsafe { CFCalendarGetMaximumRangeOfUnit(calendar, unit) }
}

#[cfg(feature = "CFDate")]
#[deprecated = "renamed to `CFCalendar::range_of_unit`"]
#[inline]
pub extern "C-unwind" fn CFCalendarGetRangeOfUnit(
    calendar: &CFCalendar,
    smaller_unit: CFCalendarUnit,
    bigger_unit: CFCalendarUnit,
    at: CFAbsoluteTime,
) -> CFRange {
    extern "C-unwind" {
        fn CFCalendarGetRangeOfUnit(
            calendar: &CFCalendar,
            smaller_unit: CFCalendarUnit,
            bigger_unit: CFCalendarUnit,
            at: CFAbsoluteTime,
        ) -> CFRange;
    }
    unsafe { CFCalendarGetRangeOfUnit(calendar, smaller_unit, bigger_unit, at) }
}

#[cfg(feature = "CFDate")]
#[deprecated = "renamed to `CFCalendar::ordinality_of_unit`"]
#[inline]
pub extern "C-unwind" fn CFCalendarGetOrdinalityOfUnit(
    calendar: &CFCalendar,
    smaller_unit: CFCalendarUnit,
    bigger_unit: CFCalendarUnit,
    at: CFAbsoluteTime,
) -> CFIndex {
    extern "C-unwind" {
        fn CFCalendarGetOrdinalityOfUnit(
            calendar: &CFCalendar,
            smaller_unit: CFCalendarUnit,
            bigger_unit: CFCalendarUnit,
            at: CFAbsoluteTime,
        ) -> CFIndex;
    }
    unsafe { CFCalendarGetOrdinalityOfUnit(calendar, smaller_unit, bigger_unit, at) }
}

#[cfg(feature = "CFDate")]
#[deprecated = "renamed to `CFCalendar::time_range_of_unit`"]
#[inline]
pub unsafe extern "C-unwind" fn CFCalendarGetTimeRangeOfUnit(
    calendar: &CFCalendar,
    unit: CFCalendarUnit,
    at: CFAbsoluteTime,
    startp: *mut CFAbsoluteTime,
    tip: *mut CFTimeInterval,
) -> bool {
    extern "C-unwind" {
        fn CFCalendarGetTimeRangeOfUnit(
            calendar: &CFCalendar,
            unit: CFCalendarUnit,
            at: CFAbsoluteTime,
            startp: *mut CFAbsoluteTime,
            tip: *mut CFTimeInterval,
        ) -> Boolean;
    }
    let ret = unsafe { CFCalendarGetTimeRangeOfUnit(calendar, unit, at, startp, tip) };
    ret != 0
}
