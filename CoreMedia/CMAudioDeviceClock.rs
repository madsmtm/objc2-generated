//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ptr::NonNull;
#[cfg(feature = "objc2-core-audio")]
use objc2_core_audio::*;
use objc2_core_foundation::*;

use crate::*;

extern "C-unwind" {
    /// Creates a clock that tracks playback through a Core Audio device with the specified unique identifier.
    ///
    /// Parameters:
    /// - allocator: Allocator for the new clock; pass [`kCFAllocatorDefault`](https://developer.apple.com/documentation/corefoundation/kcfallocatordefault) or `NULL` to use the default allocator.
    ///
    /// - deviceUID: The unique ID of the device for which to create a clock. Pass `NULL` to create a clock that tracks the default device.
    ///
    /// - clockOut: Upon return, a pointer to the newly created clock.
    ///
    ///
    /// ## Discussion
    ///
    /// When the associated device is completely stopped, the clock continues to advance, tracking [`CMClockGetHostTimeClock`](https://developer.apple.com/documentation/coremedia/cmclockgethosttimeclock()) until the audio device starts up again.
    ///
    /// <div class="warning">
    ///
    /// ### Important
    ///  In Objective-C, you’re responsible for calling [`CFRelease`](https://developer.apple.comhttps://developer.apple.com/documentation/corefoundation/1521153-cfrelease) to release the returned `clockOut`.
    ///
    ///
    ///
    /// </div>
    ///
    /// Creates a clock that tracks playback through a particular CoreAudio device.
    ///
    /// When the device is stopped, the clock continues to tick, tracking HostTime until
    /// the device starts up again.
    /// Pass NULL for deviceUID to create a clock that tracks the default device.
    /// deviceUID must be NULL on iOS.
    ///
    /// # Safety
    ///
    /// `clock_out` must be a valid pointer.
    #[cfg(feature = "CMSync")]
    pub fn CMAudioDeviceClockCreate(
        allocator: Option<&CFAllocator>,
        device_uid: Option<&CFString>,
        clock_out: NonNull<*mut CMClock>,
    ) -> OSStatus;
}

extern "C-unwind" {
    /// Creates a clock that tracks playback through a Core Audio device with the specified identifier.
    ///
    /// Parameters:
    /// - allocator: Allocator for the new clock; pass [`kCFAllocatorDefault`](https://developer.apple.com/documentation/corefoundation/kcfallocatordefault) or `NULL` to use the default allocator.
    ///
    /// - deviceID: The [`AudioDeviceID`](https://developer.apple.com/documentation/coreaudio/audiodeviceid) of the device for which to create a clock.
    ///
    /// - clockOut: Upon return, a pointer to the newly created clock.
    ///
    ///
    /// ## Overview
    ///
    /// <div class="warning">
    ///
    /// ### Important
    /// In Objective-C, you’re responsible for calling [`CFRelease`](https://developer.apple.comhttps://developer.apple.com/documentation/corefoundation/1521153-cfrelease) to release the clock returned in `clockOut`.
    ///
    ///
    ///
    /// </div>
    ///
    /// Creates a clock that tracks playback through a particular CoreAudio device.
    ///
    /// # Safety
    ///
    /// `clock_out` must be a valid pointer.
    #[cfg(all(feature = "CMSync", feature = "objc2-core-audio"))]
    pub fn CMAudioDeviceClockCreateFromAudioDeviceID(
        allocator: Option<&CFAllocator>,
        device_id: AudioDeviceID,
        clock_out: NonNull<*mut CMClock>,
    ) -> OSStatus;
}

extern "C-unwind" {
    /// Changes the Core Audio device the clock is tracking by specifying a new device unique identifier.
    ///
    /// Parameters:
    /// - clock: The clock to change.
    ///
    /// - deviceUID: The UID of the Core Audio device to track.
    ///
    ///
    /// ## Discussion
    ///
    /// Pass `NULL` for `deviceUID` to make the clock track the default device.
    ///
    ///
    /// Changes the CoreAudio device the clock is tracking.
    ///
    /// Pass NULL for deviceUID to make the clock track the default device.
    #[cfg(feature = "CMSync")]
    pub fn CMAudioDeviceClockSetAudioDeviceUID(
        clock: &CMClock,
        device_uid: Option<&CFString>,
    ) -> OSStatus;
}

extern "C-unwind" {
    /// Changes the Core Audio device the clock is tracking by specifying a new device identifier.
    ///
    /// Parameters:
    /// - clock: The clock to change.
    ///
    /// - deviceID: The new Core Audio device to track.
    ///
    /// Changes the CoreAudio device the clock is tracking.
    #[cfg(all(feature = "CMSync", feature = "objc2-core-audio"))]
    pub fn CMAudioDeviceClockSetAudioDeviceID(
        clock: &CMClock,
        device_id: AudioDeviceID,
    ) -> OSStatus;
}

extern "C-unwind" {
    /// Returns the Core Audio device the clock is tracking.
    ///
    /// Parameters:
    /// - clock: The clock from which to retrieve its audio device.
    ///
    /// - deviceUIDOut: An optional unique device identifier. If you specify a non-`NULL` value, this function returns the `deviceUID` and its associated ID, and sets `trackingDefaultDeviceOut` to `false`.
    ///
    /// - deviceIDOut: An optional device identifier. If you specify a non-`NULL` value, this function returns a `NULL` UID and the device ID, and sets `trackingDefaultDeviceOut` to `false`.
    ///
    /// - trackingDefaultDeviceOut: On return, a Boolean value that indicates whether the audio clock tracks the default audio device.
    ///
    ///
    /// ## Return Value
    ///
    /// A value that indicates the completion status.
    ///
    ///
    /// Queries which CoreAudio device the clock is tracking.
    ///
    /// If a non-NULL deviceUID has been set, CMAudioDeviceClockGetAudioDevice returns the set UID, its associated ID,
    /// and *trackingDefaultDeviceOut == false.
    /// If a deviceID has been set directly, CMAudioDeviceClockGetAudioDevice returns NULL UID, the set device ID,
    /// and *trackingDefaultDeviceOut == false.
    /// If a NULL deviceUID has been set (which means "track the default device"), CMAudioDeviceClockGetAudioDevice
    /// returns NULL UID, the ID of the current default device, and *trackingDefaultDeviceOut == true.
    ///
    /// # Safety
    ///
    /// - `device_uid_out` must be a valid pointer or null.
    /// - `device_id_out` must be a valid pointer or null.
    /// - `tracking_default_device_out` must be a valid pointer or null.
    #[cfg(all(feature = "CMSync", feature = "objc2-core-audio"))]
    pub fn CMAudioDeviceClockGetAudioDevice(
        clock: &CMClock,
        device_uid_out: *mut *const CFString,
        device_id_out: *mut AudioDeviceID,
        tracking_default_device_out: *mut Boolean,
    ) -> OSStatus;
}
