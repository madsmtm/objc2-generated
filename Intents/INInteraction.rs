//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

/// Constants indicating the current state of the interaction.
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct INIntentHandlingStatus(pub NSInteger);
impl INIntentHandlingStatus {
    /// The status of the interaction is unknown. This is the default value.
    #[doc(alias = "INIntentHandlingStatusUnspecified")]
    pub const Unspecified: Self = Self(0);
    /// The intent is ready to be handled, but has not yet been handled.
    #[doc(alias = "INIntentHandlingStatusReady")]
    pub const Ready: Self = Self(1);
    /// The Intents extension is in the process of handling the intent.
    #[doc(alias = "INIntentHandlingStatusInProgress")]
    pub const InProgress: Self = Self(2);
    /// The Intents extension successfully handled the intent.
    #[doc(alias = "INIntentHandlingStatusSuccess")]
    pub const Success: Self = Self(3);
    /// The Intents extension encountered an unrecoverable problem when handling the intent.
    #[doc(alias = "INIntentHandlingStatusFailure")]
    pub const Failure: Self = Self(4);
    /// The Intents extension asked its associated app to handle the intent.
    #[doc(alias = "INIntentHandlingStatusDeferredToApplication")]
    pub const DeferredToApplication: Self = Self(5);
    #[doc(alias = "INIntentHandlingStatusUserConfirmationRequired")]
    pub const UserConfirmationRequired: Self = Self(6);
}

unsafe impl Encode for INIntentHandlingStatus {
    const ENCODING: Encoding = NSInteger::ENCODING;
}

unsafe impl RefEncode for INIntentHandlingStatus {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

/// Constants indicating whether the app is providing or receiving information.
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct INInteractionDirection(pub NSInteger);
impl INInteractionDirection {
    /// An unspecified direction.
    ///
    /// ## Discussion
    ///
    /// Choose this value for interactions that do not involve information moving onto or off of the device. This is the default value.
    ///
    ///
    #[doc(alias = "INInteractionDirectionUnspecified")]
    pub const Unspecified: Self = Self(0);
    /// An interaction in which information is sent from the device.
    ///
    /// ## Discussion
    ///
    /// Choose this value when the interaction involves the user starting a video call from the current device.
    ///
    ///
    #[doc(alias = "INInteractionDirectionOutgoing")]
    pub const Outgoing: Self = Self(1);
    /// An interaction in which information is received on the device.
    ///
    /// ## Discussion
    ///
    /// Choose this value when the interaction involves a message sent to the user of the device.
    ///
    ///
    #[doc(alias = "INInteractionDirectionIncoming")]
    pub const Incoming: Self = Self(2);
}

unsafe impl Encode for INInteractionDirection {
    const ENCODING: Encoding = NSInteger::ENCODING;
}

unsafe impl RefEncode for INInteractionDirection {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

extern_class!(
    /// An interaction between the user and your app involving an intent object.
    ///
    /// ## Overview
    ///
    /// An [`INInteraction`](https://developer.apple.com/documentation/intents/ininteraction) object encapsulates information about a SiriKit request and your app’s response. SiriKit creates interaction objects automatically when it needs your app to respond to a specific intent, either by handling the intent or providing an error explaining why your app couldn’t handle the intent. SiriKit places the interaction in an [`NSUserActivity`](https://developer.apple.com/documentation/foundation/nsuseractivity) object that the system passes to your app at launch time. You can also create instances of this class in your app and donate relevant interactions to the system.
    ///
    /// Donating interactions provides contextual information that might be helpful to other apps. Some system apps use donated interactions to improve search results or to anticipate user actions. For example, a ride-booking app could donate an interaction containing the user’s planned ride information. If the user subsequently uses the Maps app to search for restaurants, Maps can show relevant results near the user’s destination.
    ///
    /// You choose which of your app’s interactions you want to donate to the system. To donate an interaction, create an instance of this class, filling it with your intent object and response, and call the [`donateInteractionWithCompletion:`](https://developer.apple.com/documentation/intents/ininteraction/donate(completion:)) method. You can also use the methods of this class to delete interactions when they are no longer relevant.
    ///
    /// <div class="warning">
    ///
    /// ### Note
    ///  Donate interactions only when the user initiates an interaction in your app. SiriKit already knows about interactions that it sends your app for intent handling.
    ///
    ///
    ///
    /// </div>
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct INInteraction;
);

extern_conformance!(
    unsafe impl NSCoding for INInteraction {}
);

extern_conformance!(
    unsafe impl NSCopying for INInteraction {}
);

unsafe impl CopyingHelper for INInteraction {
    type Result = Self;
}

extern_conformance!(
    unsafe impl NSObjectProtocol for INInteraction {}
);

extern_conformance!(
    unsafe impl NSSecureCoding for INInteraction {}
);

impl INInteraction {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[cfg(all(feature = "INIntent", feature = "INIntentResponse"))]
        #[unsafe(method(initWithIntent:response:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithIntent_response(
            this: Allocated<Self>,
            intent: &INIntent,
            response: Option<&INIntentResponse>,
        ) -> Retained<Self>;

        #[cfg(feature = "block2")]
        #[unsafe(method(donateInteractionWithCompletion:))]
        #[unsafe(method_family = none)]
        pub unsafe fn donateInteractionWithCompletion(
            &self,
            completion: Option<&block2::DynBlock<dyn Fn(*mut NSError)>>,
        );

        #[cfg(feature = "block2")]
        #[unsafe(method(deleteAllInteractionsWithCompletion:))]
        #[unsafe(method_family = none)]
        pub unsafe fn deleteAllInteractionsWithCompletion(
            completion: Option<&block2::DynBlock<dyn Fn(*mut NSError)>>,
        );

        #[cfg(feature = "block2")]
        #[unsafe(method(deleteInteractionsWithIdentifiers:completion:))]
        #[unsafe(method_family = none)]
        pub unsafe fn deleteInteractionsWithIdentifiers_completion(
            identifiers: &NSArray<NSString>,
            completion: Option<&block2::DynBlock<dyn Fn(*mut NSError)>>,
        );

        #[cfg(feature = "block2")]
        #[unsafe(method(deleteInteractionsWithGroupIdentifier:completion:))]
        #[unsafe(method_family = none)]
        pub unsafe fn deleteInteractionsWithGroupIdentifier_completion(
            group_identifier: &NSString,
            completion: Option<&block2::DynBlock<dyn Fn(*mut NSError)>>,
        );

        #[cfg(feature = "INIntent")]
        #[unsafe(method(intent))]
        #[unsafe(method_family = none)]
        pub unsafe fn intent(&self) -> Retained<INIntent>;

        #[cfg(feature = "INIntentResponse")]
        #[unsafe(method(intentResponse))]
        #[unsafe(method_family = none)]
        pub unsafe fn intentResponse(&self) -> Option<Retained<INIntentResponse>>;

        #[unsafe(method(intentHandlingStatus))]
        #[unsafe(method_family = none)]
        pub unsafe fn intentHandlingStatus(&self) -> INIntentHandlingStatus;

        #[unsafe(method(direction))]
        #[unsafe(method_family = none)]
        pub unsafe fn direction(&self) -> INInteractionDirection;

        /// Setter for [`direction`][Self::direction].
        #[unsafe(method(setDirection:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setDirection(&self, direction: INInteractionDirection);

        #[unsafe(method(dateInterval))]
        #[unsafe(method_family = none)]
        pub unsafe fn dateInterval(&self) -> Option<Retained<NSDateInterval>>;

        /// Setter for [`dateInterval`][Self::dateInterval].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        #[unsafe(method(setDateInterval:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setDateInterval(&self, date_interval: Option<&NSDateInterval>);

        #[unsafe(method(identifier))]
        #[unsafe(method_family = none)]
        pub unsafe fn identifier(&self) -> Retained<NSString>;

        /// Setter for [`identifier`][Self::identifier].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        #[unsafe(method(setIdentifier:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setIdentifier(&self, identifier: &NSString);

        #[unsafe(method(groupIdentifier))]
        #[unsafe(method_family = none)]
        pub unsafe fn groupIdentifier(&self) -> Option<Retained<NSString>>;

        /// Setter for [`groupIdentifier`][Self::groupIdentifier].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        #[unsafe(method(setGroupIdentifier:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setGroupIdentifier(&self, group_identifier: Option<&NSString>);
    );
}

/// Methods declared on superclass `NSObject`.
impl INInteraction {
    extern_methods!(
        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}
