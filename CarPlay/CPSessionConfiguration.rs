//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;

use crate::*;

/// The types of limitable user interface elements.
// NS_OPTIONS
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct CPLimitableUserInterface(pub NSUInteger);
bitflags::bitflags! {
    impl CPLimitableUserInterface: NSUInteger {
/// Indicates that the car is limiting the keyboard display.
        #[doc(alias = "CPLimitableUserInterfaceKeyboard")]
        const Keyboard = 1<<0;
/// Indicates that the car is limiting the display of lists.
        #[doc(alias = "CPLimitableUserInterfaceLists")]
        const Lists = 1<<1;
    }
}

unsafe impl Encode for CPLimitableUserInterface {
    const ENCODING: Encoding = NSUInteger::ENCODING;
}

unsafe impl RefEncode for CPLimitableUserInterface {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

/// The types of content style that the vehicle allows.
///
/// ## Overview
///
/// The vehicle selects the content style according to the ambient light level. Your navigation app can use this value to determine the most appropriate style of map content to draw in its base view. The content style is independent of the user interface style, which controls light and dark mode.
///
/// You donâ€™t create instances of `CPContentStyle`. Instead, the session configuration provides the current content style, and it notifies its delegate of any changes. See [`CPSessionConfiguration`](https://developer.apple.com/documentation/carplay/cpsessionconfiguration) for more information.
///
///
// NS_OPTIONS
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct CPContentStyle(pub NSUInteger);
bitflags::bitflags! {
    impl CPContentStyle: NSUInteger {
/// The indication from the vehicle to draw the content in a light style.
        #[doc(alias = "CPContentStyleLight")]
        const Light = 1<<0;
/// The indication from the vehicle to draw the content in a dark style.
        #[doc(alias = "CPContentStyleDark")]
        const Dark = 1<<1;
    }
}

unsafe impl Encode for CPContentStyle {
    const ENCODING: Encoding = NSUInteger::ENCODING;
}

unsafe impl RefEncode for CPContentStyle {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

extern_class!(
    /// An object that provides vehicle properties and configuration for the CarPlay environment.
    ///
    /// ## Overview
    ///
    /// You use a session configuration to determine any user interface limits the vehicle imposes, such as keyboard display and list length, and the content style the vehicle selects according to the ambient light level.
    ///
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct CPSessionConfiguration;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for CPSessionConfiguration {}
);

impl CPSessionConfiguration {
    extern_methods!(
        #[unsafe(method(initWithDelegate:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithDelegate(
            this: Allocated<Self>,
            delegate: &ProtocolObject<dyn CPSessionConfigurationDelegate>,
        ) -> Retained<Self>;

        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;

        #[unsafe(method(limitedUserInterfaces))]
        #[unsafe(method_family = none)]
        pub unsafe fn limitedUserInterfaces(&self) -> CPLimitableUserInterface;

        #[unsafe(method(contentStyle))]
        #[unsafe(method_family = none)]
        pub unsafe fn contentStyle(&self) -> CPContentStyle;

        #[unsafe(method(delegate))]
        #[unsafe(method_family = none)]
        pub unsafe fn delegate(
            &self,
            mtm: MainThreadMarker,
        ) -> Option<Retained<ProtocolObject<dyn CPSessionConfigurationDelegate>>>;

        /// Setter for [`delegate`][Self::delegate].
        ///
        /// This is a [weak property][objc2::topics::weak_property].
        #[unsafe(method(setDelegate:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setDelegate(
            &self,
            delegate: Option<&ProtocolObject<dyn CPSessionConfigurationDelegate>>,
        );
    );
}

extern_protocol!(
    /// A protocol for receiving notifications about changes to vehicle properties and configuration.
    pub unsafe trait CPSessionConfigurationDelegate:
        NSObjectProtocol + MainThreadOnly
    {
        #[optional]
        #[unsafe(method(sessionConfiguration:limitedUserInterfacesChanged:))]
        #[unsafe(method_family = none)]
        unsafe fn sessionConfiguration_limitedUserInterfacesChanged(
            &self,
            session_configuration: &CPSessionConfiguration,
            limited_user_interfaces: CPLimitableUserInterface,
        );

        #[optional]
        #[unsafe(method(sessionConfiguration:contentStyleChanged:))]
        #[unsafe(method_family = none)]
        unsafe fn sessionConfiguration_contentStyleChanged(
            &self,
            session_configuration: &CPSessionConfiguration,
            content_style: CPContentStyle,
        );
    }
);
