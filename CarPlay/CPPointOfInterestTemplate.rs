//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;
#[cfg(feature = "objc2-map-kit")]
use objc2_map_kit::*;

use crate::*;

extern_protocol!(
    /// The methods to handle a Point of Interest template’s events.
    ///
    /// ## Overview
    ///
    /// You use the `CPPointOfInterestTemplateDelegate` protocol to respond to a Point of Interest template’s events. The protocol defines methods that CarPlay calls in response to these events, and your implementation provides the appropriate behavior for when the events occur. For example, when the user pans the template’s map and the visible region changes, update the points of interest that the template displays to only those relevant to the new region.
    ///
    ///
    pub unsafe trait CPPointOfInterestTemplateDelegate:
        NSObjectProtocol + MainThreadOnly
    {
        #[cfg(all(feature = "CPTemplate", feature = "objc2-map-kit"))]
        /// The user has changed the map region on the
        /// `CPPointOfInterestTemplate.`Your application
        /// should respond by updating
        /// `pointsOfInterest`to show new points of interest for the new region.
        #[unsafe(method(pointOfInterestTemplate:didChangeMapRegion:))]
        #[unsafe(method_family = none)]
        unsafe fn pointOfInterestTemplate_didChangeMapRegion(
            &self,
            point_of_interest_template: &CPPointOfInterestTemplate,
            region: MKCoordinateRegion,
        );

        #[cfg(all(feature = "CPPointOfInterest", feature = "CPTemplate"))]
        /// The user has selected the
        /// `pointOfInterest`and the details are being shown.
        #[optional]
        #[unsafe(method(pointOfInterestTemplate:didSelectPointOfInterest:))]
        #[unsafe(method_family = none)]
        unsafe fn pointOfInterestTemplate_didSelectPointOfInterest(
            &self,
            point_of_interest_template: &CPPointOfInterestTemplate,
            point_of_interest: &CPPointOfInterest,
        );
    }
);

extern_class!(
    /// A template that displays a map with selectable points of interest.
    ///
    /// ## Overview
    ///
    /// The Point of Interest template displays selectable instances of [`CPPointOfInterest`](https://developer.apple.com/documentation/carplay/cppointofinterest) as annotations on the template’s map, and as items in a scrollable picker that the template overlays on the map. When the user selects a point of interest, the template displays a detail card that contains secondary information and optional actions the user can perform. The template manages clustering points of interest, selecting a point of interest, and zooming and panning the map.
    ///
    /// To create a Point of Interest template, you call the [`initWithTitle:pointsOfInterest:selectedIndex:`](https://developer.apple.com/documentation/carplay/cppointofinteresttemplate/init(title:pointsofinterest:selectedindex:)) method and provide an array of  `CPPointOfInterest` objects to display in the template’s map. Then call your interface controller’s [`pushTemplate:animated:completion:`](https://developer.apple.com/documentation/carplay/cpinterfacecontroller/pushtemplate(_:animated:completion:)) method to push it onto the navigation hierarchy, or add the template as a tab in your [`CPTabBarTemplate`](https://developer.apple.com/documentation/carplay/cptabbartemplate).
    ///
    /// You must create an object that implements the [`CPPointOfInterestTemplateDelegate`](https://developer.apple.com/documentation/carplay/cppointofinteresttemplatedelegate) protocol and set it as the template’s delegate using the [`pointOfInterestDelegate`](https://developer.apple.com/documentation/carplay/cppointofinteresttemplate/pointofinterestdelegate) property. The template informs its delegate about changes to the map’s visible region so you can update the points of interest the map displays.
    ///
    ///
    #[unsafe(super(CPTemplate, NSObject))]
    #[thread_kind = MainThreadOnly]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(feature = "CPTemplate")]
    pub struct CPPointOfInterestTemplate;
);

#[cfg(all(feature = "CPBarButtonProviding", feature = "CPTemplate"))]
extern_conformance!(
    unsafe impl CPBarButtonProviding for CPPointOfInterestTemplate {}
);

#[cfg(feature = "CPTemplate")]
extern_conformance!(
    unsafe impl NSCoding for CPPointOfInterestTemplate {}
);

#[cfg(feature = "CPTemplate")]
extern_conformance!(
    unsafe impl NSObjectProtocol for CPPointOfInterestTemplate {}
);

#[cfg(feature = "CPTemplate")]
extern_conformance!(
    unsafe impl NSSecureCoding for CPPointOfInterestTemplate {}
);

#[cfg(feature = "CPTemplate")]
impl CPPointOfInterestTemplate {
    extern_methods!(
        #[cfg(feature = "CPPointOfInterest")]
        /// CPPointOfInterestTemplate displays a map view with selectable points of interest.
        ///
        ///
        /// Parameter `title`: Template title
        ///
        /// Parameter `pointsOfInterest`: Points of interest to be presented in the map.
        ///
        /// Parameter `selectedIndex`: Index of selected point of interest instance referenced in the pointsOfInterest array. Use NSNotFound to indicate no selection.
        ///
        ///
        /// Note: the maximum number of POIs is 12. If you provide more than 12, only the first 12 will be used.
        #[unsafe(method(initWithTitle:pointsOfInterest:selectedIndex:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithTitle_pointsOfInterest_selectedIndex(
            this: Allocated<Self>,
            title: &NSString,
            points_of_interest: &NSArray<CPPointOfInterest>,
            selected_index: NSUInteger,
        ) -> Retained<Self>;

        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new(mtm: MainThreadMarker) -> Retained<Self>;

        /// Template title appears on the template point of interest picker
        #[unsafe(method(title))]
        #[unsafe(method_family = none)]
        pub unsafe fn title(&self) -> Retained<NSString>;

        /// Setter for [`title`][Self::title].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        #[unsafe(method(setTitle:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setTitle(&self, title: &NSString);

        #[cfg(feature = "CPPointOfInterest")]
        /// Update the template with a list of points of interests to dispay
        ///
        ///
        /// Parameter `pointsOfInterest`: Points of interest to be presented in the map.
        ///
        /// Parameter `selectedIndex`: Index of selected point of interest instance referenced in the pointsOfInterest array. Use NSNotFound to indicate no selection.
        ///
        ///
        /// Note: the maximum number of POIs is 12. If you provide more than 12, only the first 12 will be used.
        #[unsafe(method(setPointsOfInterest:selectedIndex:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setPointsOfInterest_selectedIndex(
            &self,
            points_of_interest: &NSArray<CPPointOfInterest>,
            selected_index: NSUInteger,
        );

        #[cfg(feature = "CPPointOfInterest")]
        #[unsafe(method(pointsOfInterest))]
        #[unsafe(method_family = none)]
        pub unsafe fn pointsOfInterest(&self) -> Retained<NSArray<CPPointOfInterest>>;

        /// Designate an instance in the pointsOfInterest array to highlight. Use NSNotFound to indicate no selection.
        #[unsafe(method(selectedIndex))]
        #[unsafe(method_family = none)]
        pub unsafe fn selectedIndex(&self) -> NSUInteger;

        /// Setter for [`selectedIndex`][Self::selectedIndex].
        #[unsafe(method(setSelectedIndex:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setSelectedIndex(&self, selected_index: NSUInteger);

        /// The Point of Interest template's delegate is informed of user events.
        #[unsafe(method(pointOfInterestDelegate))]
        #[unsafe(method_family = none)]
        pub unsafe fn pointOfInterestDelegate(
            &self,
        ) -> Option<Retained<ProtocolObject<dyn CPPointOfInterestTemplateDelegate>>>;

        /// Setter for [`pointOfInterestDelegate`][Self::pointOfInterestDelegate].
        ///
        /// This is a [weak property][objc2::topics::weak_property].
        #[unsafe(method(setPointOfInterestDelegate:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setPointOfInterestDelegate(
            &self,
            point_of_interest_delegate: Option<
                &ProtocolObject<dyn CPPointOfInterestTemplateDelegate>,
            >,
        );
    );
}
