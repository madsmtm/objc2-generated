//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

extern_class!(
    /// An object that associates virtual conferencing details with an event object in a user’s calendar.
    ///
    /// ## Overview
    ///
    /// [`EKVirtualConferenceProvider`](https://developer.apple.com/documentation/eventkit/ekvirtualconferenceprovider) lets apps that offer virtual conferencing services to integrate directly with events in users’ calendars. To add this support to your app, add a virtual conference extension. The principal class of the app extension is a custom subclass of [`EKVirtualConferenceProvider`](https://developer.apple.com/documentation/eventkit/ekvirtualconferenceprovider) that you create that provides the following:
    ///
    /// - A list of room types where events take place, such as Personal Room or Team Room
    ///
    /// - A descriptor for a virtual conference, including a user-visible title, one or more URLs, and additional details
    ///
    /// ### Providing Room Details
    ///
    /// To provide a list of rooms, you provide one or more _room type descriptors_ that contain details about where a virtual conference takes place. Each room type descriptor includes a user-visible title and an identifier that you choose. EventKit calls [`fetchAvailableRoomTypesWithCompletionHandler:`](https://developer.apple.com/documentation/eventkit/ekvirtualconferenceprovider/fetchavailableroomtypes(completionhandler:)) on your virtual conference provider to retrieve an array of [`EKVirtualConferenceRoomTypeDescriptor`](https://developer.apple.com/documentation/eventkit/ekvirtualconferenceroomtypedescriptor) objects.
    ///
    /// ### Providing Conference Details
    ///
    /// After EventKit has the room type descriptors, users can add an event that specifies one of your rooms as the location. To identify the virtual conference event, your virtual conference provider creates a _virtual conference descriptor_ that contains details about the virtual conference. The conference descriptor contains the following:
    ///
    /// - One or more [`EKVirtualConferenceURLDescriptor`](https://developer.apple.com/documentation/eventkit/ekvirtualconferenceurldescriptor) objects to specify how the user joins the virtual conference
    ///
    /// - An optional user-visible title that EventKit may display
    ///
    /// - An optional user-visible string with details about the virtual conference that EventKit displays
    ///
    /// EventKit calls [`fetchVirtualConferenceForIdentifier:completionHandler:`](https://developer.apple.com/documentation/eventkit/ekvirtualconferenceprovider/fetchvirtualconference(identifier:completionhandler:)) on your virtual conference provider to retrieve an instance of [`EKVirtualConferenceDescriptor`](https://developer.apple.com/documentation/eventkit/ekvirtualconferencedescriptor).
    ///
    /// <div class="warning">
    ///
    /// ### Important
    ///  Events that use your virtual conference descriptors may sync to other devices where your app isn’t installed. To support links to your virtual conference regardless of whether your app is installed, adopt universal links in your app. Universal links let you specify HTTP URLs that open your app if it’s installed or open a corresponding web page if it’s not. For more information about adopting universal links in your app, see [Supporting universal links in your app](https://developer.apple.com/documentation/xcode/supporting-universal-links-in-your-app).
    ///
    ///
    ///
    /// </div>
    ///
    /// Provides virtual conferences to Calendar.
    ///
    /// Subclass this class in your extension and override the below two methods.
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct EKVirtualConferenceProvider;
);

extern_conformance!(
    unsafe impl NSExtensionRequestHandling for EKVirtualConferenceProvider {}
);

extern_conformance!(
    unsafe impl NSObjectProtocol for EKVirtualConferenceProvider {}
);

impl EKVirtualConferenceProvider {
    extern_methods!(
        #[cfg(all(feature = "EKVirtualConferenceDescriptor", feature = "block2"))]
        /// Called to determine the available virtual conference room types that the user can add to a calendar event.
        ///
        /// Your extension must override this method in order to present virtual conference options in Calendar's UI.
        /// When your extension has finished determining what room types are available, call the completion handler with
        /// an array of EKVirtualConferenceRoomTypeDescriptors. Most extensions will only need to provide one room type.
        ///
        /// Parameter `completionHandler`: A block to call when your extension has finished retrieving available room types. If
        /// your extension is unable to provide any room types at this time, call this block with nil
        /// for the first argument and an appropriate NSError object for the second argument. Do not
        /// call this block with nil for both arguments. Similarly, do not call this block with both
        /// a non-nil array and a non-nil NSError. This block must be called when your extension has
        /// finished its work.
        #[unsafe(method(fetchAvailableRoomTypesWithCompletionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn fetchAvailableRoomTypesWithCompletionHandler(
            &self,
            completion_handler: &block2::DynBlock<
                dyn Fn(*mut NSArray<EKVirtualConferenceRoomTypeDescriptor>, *mut NSError),
            >,
        );

        #[cfg(all(feature = "EKVirtualConferenceDescriptor", feature = "block2"))]
        /// Called to fetch the specific virtual conference details to add to an event.
        ///
        /// Your extension must override this method in order to add virtual conferences to calendar events.
        /// When your extension has finished retrieving the requested virtual conference details, create an
        /// EKVirtualConferenceDescriptor object containing the virtual conference details and call the completion handler
        /// with the EKVirtualConferenceDescriptor object as the first argument.
        ///
        /// Parameter `identifier`: Represents the room type that the user chose. This is the same identifier that your extension
        /// chose for this EKVirtualConferenceRoomTypeDescriptor in an earlier call to
        /// fetchAvailableRoomTypesWithCompletionHandler:.
        ///
        /// Parameter `completionHandler`: A block to call when your extension has finished retrieving the virtual conference details.
        /// If your extension is unable to retrieve virtual conference details at this time (for example,
        /// because network access is not available), call this block with nil for the first argument and
        /// an appropriate NSError object for the second argument. Do not call this block with nil for
        /// both arguments. Similarly, do not call this block with both a non-nil
        /// EKVirtualConferenceDescriptor and a non-nil NSError.  This block must be called when your
        /// extension has finished its work.
        #[unsafe(method(fetchVirtualConferenceForIdentifier:completionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn fetchVirtualConferenceForIdentifier_completionHandler(
            &self,
            identifier: &EKVirtualConferenceRoomTypeIdentifier,
            completion_handler: &block2::DynBlock<
                dyn Fn(*mut EKVirtualConferenceDescriptor, *mut NSError),
            >,
        );
    );
}

/// Methods declared on superclass `NSObject`.
impl EKVirtualConferenceProvider {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}
