//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

/// The states of a match from when it’s created to when it ends.
/// Constants that describe the state of the overall match
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct GKTurnBasedMatchStatus(pub NSInteger);
impl GKTurnBasedMatchStatus {
    /// A match that is in an unknown state.
    #[doc(alias = "GKTurnBasedMatchStatusUnknown")]
    pub const Unknown: Self = Self(0);
    /// A match that participants are actively playing.
    #[doc(alias = "GKTurnBasedMatchStatusOpen")]
    pub const Open: Self = Self(1);
    /// A match that finishes.
    #[doc(alias = "GKTurnBasedMatchStatusEnded")]
    pub const Ended: Self = Self(2);
    /// A match with empty slots that Game Center is actively filling.
    #[doc(alias = "GKTurnBasedMatchStatusMatching")]
    pub const Matching: Self = Self(3);
}

unsafe impl Encode for GKTurnBasedMatchStatus {
    const ENCODING: Encoding = NSInteger::ENCODING;
}

unsafe impl RefEncode for GKTurnBasedMatchStatus {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

/// The state the participant is in during the match.
/// Constants that describe the state of individual participants in the match
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct GKTurnBasedParticipantStatus(pub NSInteger);
impl GKTurnBasedParticipantStatus {
    /// The participant is in an unexpected state.
    #[doc(alias = "GKTurnBasedParticipantStatusUnknown")]
    pub const Unknown: Self = Self(0);
    /// The participant is invited to the match, but hasn’t responded to the invitation.
    #[doc(alias = "GKTurnBasedParticipantStatusInvited")]
    pub const Invited: Self = Self(1);
    /// The participant declines the invitation to join the match, automatically terminating the match.
    #[doc(alias = "GKTurnBasedParticipantStatusDeclined")]
    pub const Declined: Self = Self(2);
    /// The participant represents an unfilled position in the match that Game Center promises to fill when needed.
    ///
    /// ## Discussion
    ///
    /// When you make this participant the next person to take a turn in the match, Game Center fills the position and updates the [`status`](https://developer.apple.com/documentation/gamekit/gkturnbasedparticipant/status-swift.property) and [`playerID`](https://developer.apple.com/documentation/gamekit/gkturnbasedparticipant/playerid) properties.
    ///
    ///
    #[doc(alias = "GKTurnBasedParticipantStatusMatching")]
    pub const Matching: Self = Self(3);
    /// The participant joins the match and is an active player.
    #[doc(alias = "GKTurnBasedParticipantStatusActive")]
    pub const Active: Self = Self(4);
    /// The participant leaves the match.
    ///
    /// ## Discussion
    ///
    /// You set the [`matchOutcome`](https://developer.apple.com/documentation/gamekit/gkturnbasedparticipant/matchoutcome) property to state the reason why the participant left.
    ///
    ///
    #[doc(alias = "GKTurnBasedParticipantStatusDone")]
    pub const Done: Self = Self(5);
}

unsafe impl Encode for GKTurnBasedParticipantStatus {
    const ENCODING: Encoding = NSInteger::ENCODING;
}

unsafe impl RefEncode for GKTurnBasedParticipantStatus {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

/// The state of a participant when they forfeit a match or when a match ends.
/// Constants that describe the game result for a given participant who has reached the done state.  The developer is free to use these constants or add additional ones
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct GKTurnBasedMatchOutcome(pub NSInteger);
impl GKTurnBasedMatchOutcome {
    /// The participant doesn’t reach an outcome.
    #[doc(alias = "GKTurnBasedMatchOutcomeNone")]
    pub const None: Self = Self(0);
    /// The participant forfeits the match.
    #[doc(alias = "GKTurnBasedMatchOutcomeQuit")]
    pub const Quit: Self = Self(1);
    /// The participant wins the match.
    #[doc(alias = "GKTurnBasedMatchOutcomeWon")]
    pub const Won: Self = Self(2);
    /// The participant loses the match.
    #[doc(alias = "GKTurnBasedMatchOutcomeLost")]
    pub const Lost: Self = Self(3);
    /// The participant ties the match.
    #[doc(alias = "GKTurnBasedMatchOutcomeTied")]
    pub const Tied: Self = Self(4);
    /// The match ends because the time limit expires.
    #[doc(alias = "GKTurnBasedMatchOutcomeTimeExpired")]
    pub const TimeExpired: Self = Self(5);
    /// The participant finishes in first place.
    #[doc(alias = "GKTurnBasedMatchOutcomeFirst")]
    pub const First: Self = Self(6);
    /// The participant finishes in second place.
    #[doc(alias = "GKTurnBasedMatchOutcomeSecond")]
    pub const Second: Self = Self(7);
    /// The participant finishes in third place.
    #[doc(alias = "GKTurnBasedMatchOutcomeThird")]
    pub const Third: Self = Self(8);
    /// The participant finishes in fourth place.
    #[doc(alias = "GKTurnBasedMatchOutcomeFourth")]
    pub const Fourth: Self = Self(9);
    /// The participant reaches a game-specific outcome.
    ///
    /// ## Discussion
    ///
    /// Use this outcome to represent custom results.
    ///
    ///
    #[doc(alias = "GKTurnBasedMatchOutcomeCustomRange")]
    pub const CustomRange: Self = Self(0x00FF0000);
}

unsafe impl Encode for GKTurnBasedMatchOutcome {
    const ENCODING: Encoding = NSInteger::ENCODING;
}

unsafe impl RefEncode for GKTurnBasedMatchOutcome {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

extern_class!(
    /// A participant in a turn-based match.
    ///
    /// ## Overview
    ///
    /// A `GKTurnBasedParticipant` represents a player in a turn-based match that Game Center uses to store and forward match data. In your game, use participant objects to show information about opponents during gameplay.
    ///
    /// You get `GKTurnBasedParticipant` objects from the [`participants`](https://developer.apple.com/documentation/gamekit/gkturnbasedmatch/participants) property of a [`GKTurnBasedMatch`](https://developer.apple.com/documentation/gamekit/gkturnbasedmatch) object that GameKit passes to [`GKTurnBasedEventListener`](https://developer.apple.com/documentation/gamekit/gkturnbasedeventlistener) protocol methods. If a participant represents a filled slot in the match, GameKit sets the [`player`](https://developer.apple.com/documentation/gamekit/gkturnbasedparticipant/player) property and the [`status`](https://developer.apple.com/documentation/gamekit/gkturnbasedparticipant/status-swift.property) accordingly. Get more information about a participant, such as the participant’s name and avatar, through the [`player`](https://developer.apple.com/documentation/gamekit/gkturnbasedparticipant/player) property.
    ///
    /// Before you end a match, you must set the [`matchOutcome`](https://developer.apple.com/documentation/gamekit/gkturnbasedparticipant/matchoutcome) property for every participant in the match.
    ///
    /// ### Subclassing
    ///
    /// You may not subclass this class.
    ///
    ///
    /// GKTurnBasedMatch represents an ongoing turn-based game among the matched group of participants
    /// Existing matches can be shown and new matches created using GKTurnBasedMatchmakerViewController
    /// A list of existing matches can be retrieved using +loadMatchesWithCompletionHandler:
    ///
    /// By default turn based events will badge your app.  To opt out of this add GKGameCenterBadgingDisabled  with a boolean value of YES to your info plist
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct GKTurnBasedParticipant;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for GKTurnBasedParticipant {}
);

impl GKTurnBasedParticipant {
    extern_methods!(
        #[cfg(all(feature = "GKBasePlayer", feature = "GKPlayer"))]
        #[unsafe(method(player))]
        #[unsafe(method_family = none)]
        pub unsafe fn player(&self) -> Option<Retained<GKPlayer>>;

        #[unsafe(method(lastTurnDate))]
        #[unsafe(method_family = none)]
        pub unsafe fn lastTurnDate(&self) -> Option<Retained<NSDate>>;

        #[unsafe(method(status))]
        #[unsafe(method_family = none)]
        pub unsafe fn status(&self) -> GKTurnBasedParticipantStatus;

        #[unsafe(method(matchOutcome))]
        #[unsafe(method_family = none)]
        pub unsafe fn matchOutcome(&self) -> GKTurnBasedMatchOutcome;

        /// Setter for [`matchOutcome`][Self::matchOutcome].
        #[unsafe(method(setMatchOutcome:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setMatchOutcome(&self, match_outcome: GKTurnBasedMatchOutcome);

        #[unsafe(method(timeoutDate))]
        #[unsafe(method_family = none)]
        pub unsafe fn timeoutDate(&self) -> Option<Retained<NSDate>>;
    );
}

/// Methods declared on superclass `NSObject`.
impl GKTurnBasedParticipant {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}

/// Obsoleted.
impl GKTurnBasedParticipant {
    extern_methods!(
        /// * This property is obsolete. **
        #[deprecated]
        #[unsafe(method(playerID))]
        #[unsafe(method_family = none)]
        pub unsafe fn playerID(&self) -> Option<Retained<NSString>>;
    );
}

extern_protocol!(
    /// The protocol that handles turn-based and data-exchange events between participants in a match.
    ///
    /// ## Overview
    ///
    /// To receive the `GKTurnBasedEventListener` call backs, register your game object with the local player object immediately after initialization.
    ///
    /// ```swift
    /// GKLocalPlayer.local.register(self)
    /// ```
    ///
    /// Adopt the [`GKLocalPlayerListener`](https://developer.apple.com/documentation/gamekit/gklocalplayerlistener) protocol to handle a variety of Game Center events instead of the individual [`GKChallengeListener`](https://developer.apple.com/documentation/gamekit/gkchallengelistener), [`GKInviteEventListener`](https://developer.apple.com/documentation/gamekit/gkinviteeventlistener), [`GKSavedGameListener`](https://developer.apple.com/documentation/gamekit/gksavedgamelistener), and [`GKTurnBasedEventListener`](https://developer.apple.com/documentation/gamekit/gkturnbasedeventlistener) protocols.
    ///
    /// Then implement the [`player:receivedTurnEventForMatch:didBecomeActive:`](https://developer.apple.com/documentation/gamekit/gkturnbasedeventlistener/player(_:receivedturneventfor:didbecomeactive:)) and other `GKTurnBasedEventListener` protocol methods to handle turn-based events that occur throughout a match.
    ///
    ///
    pub unsafe trait GKTurnBasedEventListener {
        #[cfg(all(feature = "GKBasePlayer", feature = "GKPlayer"))]
        /// If Game Center initiates a match the developer should create a GKTurnBasedMatch from playersToInvite and present a GKTurnbasedMatchmakerViewController.
        #[optional]
        #[unsafe(method(player:didRequestMatchWithOtherPlayers:))]
        #[unsafe(method_family = none)]
        unsafe fn player_didRequestMatchWithOtherPlayers(
            &self,
            player: &GKPlayer,
            players_to_invite: &NSArray<GKPlayer>,
        );

        #[cfg(all(feature = "GKBasePlayer", feature = "GKPlayer"))]
        /// called when it becomes this player's turn.  It also gets called under the following conditions:
        /// the player's turn has a timeout and it is about to expire.
        /// the player accepts an invite from another player.
        /// when the game is running it will additionally recieve turn events for the following:
        /// turn was passed to another player
        /// another player saved the match data
        /// Because of this the app needs to be prepared to handle this even while the player is taking a turn in an existing match.  The boolean indicates whether this event launched or brought to forground the app.
        #[optional]
        #[unsafe(method(player:receivedTurnEventForMatch:didBecomeActive:))]
        #[unsafe(method_family = none)]
        unsafe fn player_receivedTurnEventForMatch_didBecomeActive(
            &self,
            player: &GKPlayer,
            r#match: &GKTurnBasedMatch,
            did_become_active: bool,
        );

        #[cfg(all(feature = "GKBasePlayer", feature = "GKPlayer"))]
        /// called when the match has ended.
        #[optional]
        #[unsafe(method(player:matchEnded:))]
        #[unsafe(method_family = none)]
        unsafe fn player_matchEnded(&self, player: &GKPlayer, r#match: &GKTurnBasedMatch);

        #[cfg(all(feature = "GKBasePlayer", feature = "GKPlayer"))]
        /// this is called when a player receives an exchange request from another player.
        #[optional]
        #[unsafe(method(player:receivedExchangeRequest:forMatch:))]
        #[unsafe(method_family = none)]
        unsafe fn player_receivedExchangeRequest_forMatch(
            &self,
            player: &GKPlayer,
            exchange: &GKTurnBasedExchange,
            r#match: &GKTurnBasedMatch,
        );

        #[cfg(all(feature = "GKBasePlayer", feature = "GKPlayer"))]
        /// this is called when an exchange is canceled by the sender.
        #[optional]
        #[unsafe(method(player:receivedExchangeCancellation:forMatch:))]
        #[unsafe(method_family = none)]
        unsafe fn player_receivedExchangeCancellation_forMatch(
            &self,
            player: &GKPlayer,
            exchange: &GKTurnBasedExchange,
            r#match: &GKTurnBasedMatch,
        );

        #[cfg(all(feature = "GKBasePlayer", feature = "GKPlayer"))]
        /// called when all players either respond or timeout responding to this request.  This is sent to both the turn holder and the initiator of the exchange
        #[optional]
        #[unsafe(method(player:receivedExchangeReplies:forCompletedExchange:forMatch:))]
        #[unsafe(method_family = none)]
        unsafe fn player_receivedExchangeReplies_forCompletedExchange_forMatch(
            &self,
            player: &GKPlayer,
            replies: &NSArray<GKTurnBasedExchangeReply>,
            exchange: &GKTurnBasedExchange,
            r#match: &GKTurnBasedMatch,
        );

        #[cfg(all(feature = "GKBasePlayer", feature = "GKPlayer"))]
        /// Called when a player chooses to quit a match and that player has the current turn.  The developer should call participantQuitInTurnWithOutcome:nextParticipants:turnTimeout:matchData:completionHandler: on the match passing in appropriate values.  They can also update matchOutcome for other players as appropriate.
        #[optional]
        #[unsafe(method(player:wantsToQuitMatch:))]
        #[unsafe(method_family = none)]
        unsafe fn player_wantsToQuitMatch(&self, player: &GKPlayer, r#match: &GKTurnBasedMatch);

        #[cfg(all(feature = "GKBasePlayer", feature = "GKPlayer"))]
        /// Deprecated
        #[deprecated]
        #[optional]
        #[unsafe(method(player:didRequestMatchWithPlayers:))]
        #[unsafe(method_family = none)]
        unsafe fn player_didRequestMatchWithPlayers(
            &self,
            player: &GKPlayer,
            player_i_ds_to_invite: &NSArray<NSString>,
        );
    }
);

extern "C" {
    /// A one-week time limit to take a turn.
    pub static GKTurnTimeoutDefault: NSTimeInterval;
}

extern "C" {
    /// No timeout to take a turn.
    pub static GKTurnTimeoutNone: NSTimeInterval;
}

extern_class!(
    /// An object that encapsulates the match data for games where players take turns.
    ///
    /// ## Overview
    ///
    /// A `GKTurnBasedMatch` object represents a match in a turn-based game that Game Center stores and forwards to participants in the match. In a turn-based game, participants take turns to advance gameplay until they reach an outcome. You end the match when all participants reach an outcome or they can no longer continue.
    ///
    /// A turn-based match object contains the status of the match, list of participants, the participant whose turn it is, a message about the last turn, and your game-specific data. You can get more details about the participants through the [`GKTurnBasedParticipant`](https://developer.apple.com/documentation/gamekit/gkturnbasedparticipant) objects in the [`participants`](https://developer.apple.com/documentation/gamekit/gkturnbasedmatch/participants) property.
    ///
    /// You don’t create turn-based match objects directly. When a match event occurs, GameKit passes the match object to listeners that conform to the [`GKTurnBasedEventListener`](https://developer.apple.com/documentation/gamekit/gkturnbasedeventlistener) protocol. Retain the match object or its match ID in the protocol methods, so you can get the latest match data later during gameplay.
    ///
    /// Using the match object passed to `GKTurnBasedEventListener` protocol methods, you can perform these actions on behalf of the local player:
    ///
    /// - Save game data
    ///
    /// - End a turn
    ///
    /// - Forfeit a match
    ///
    /// - End a match
    ///
    /// - Send a reminder to the participant whose turn it is
    ///
    /// - Exchange data between participants
    ///
    /// - Remove a completed match from Game Center
    ///
    /// When you end a turn, forfeit a match, or end a match, you update the match data and if gameplay can continue, choose the next participant. If you end a match, you set the individual participant outcomes as well.
    ///
    /// If you present a [`GKTurnBasedMatchmakerViewController`](https://developer.apple.com/documentation/gamekit/gkturnbasedmatchmakerviewcontroller) object for players to manage their turn-based matches, the player can start a match, accept an invitation, open an existing match, and forfeit a match.
    ///
    /// ### Subclassing Notes
    ///
    /// Don’t subclass the [`GKTurnBasedMatch`](https://developer.apple.com/documentation/gamekit/gkturnbasedmatch) class.
    ///
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct GKTurnBasedMatch;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for GKTurnBasedMatch {}
);

impl GKTurnBasedMatch {
    extern_methods!(
        #[unsafe(method(matchID))]
        #[unsafe(method_family = none)]
        pub unsafe fn matchID(&self) -> Retained<NSString>;

        #[unsafe(method(creationDate))]
        #[unsafe(method_family = none)]
        pub unsafe fn creationDate(&self) -> Retained<NSDate>;

        #[unsafe(method(participants))]
        #[unsafe(method_family = none)]
        pub unsafe fn participants(&self) -> Retained<NSArray<GKTurnBasedParticipant>>;

        #[unsafe(method(status))]
        #[unsafe(method_family = none)]
        pub unsafe fn status(&self) -> GKTurnBasedMatchStatus;

        #[unsafe(method(currentParticipant))]
        #[unsafe(method_family = none)]
        pub unsafe fn currentParticipant(&self) -> Option<Retained<GKTurnBasedParticipant>>;

        #[unsafe(method(matchData))]
        #[unsafe(method_family = none)]
        pub unsafe fn matchData(&self) -> Option<Retained<NSData>>;

        #[unsafe(method(setLocalizableMessageWithKey:arguments:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setLocalizableMessageWithKey_arguments(
            &self,
            key: &NSString,
            arguments: Option<&NSArray<NSString>>,
        );

        #[unsafe(method(message))]
        #[unsafe(method_family = none)]
        pub unsafe fn message(&self) -> Option<Retained<NSString>>;

        /// Setter for [`message`][Self::message].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        #[unsafe(method(setMessage:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setMessage(&self, message: Option<&NSString>);

        #[unsafe(method(matchDataMaximumSize))]
        #[unsafe(method_family = none)]
        pub unsafe fn matchDataMaximumSize(&self) -> NSUInteger;

        #[unsafe(method(exchanges))]
        #[unsafe(method_family = none)]
        pub unsafe fn exchanges(&self) -> Option<Retained<NSArray<GKTurnBasedExchange>>>;

        #[unsafe(method(activeExchanges))]
        #[unsafe(method_family = none)]
        pub unsafe fn activeExchanges(&self) -> Option<Retained<NSArray<GKTurnBasedExchange>>>;

        #[unsafe(method(completedExchanges))]
        #[unsafe(method_family = none)]
        pub unsafe fn completedExchanges(&self) -> Option<Retained<NSArray<GKTurnBasedExchange>>>;

        #[unsafe(method(exchangeDataMaximumSize))]
        #[unsafe(method_family = none)]
        pub unsafe fn exchangeDataMaximumSize(&self) -> NSUInteger;

        #[unsafe(method(exchangeMaxInitiatedExchangesPerPlayer))]
        #[unsafe(method_family = none)]
        pub unsafe fn exchangeMaxInitiatedExchangesPerPlayer(&self) -> NSUInteger;

        #[cfg(all(feature = "GKMatchmaker", feature = "block2"))]
        #[unsafe(method(findMatchForRequest:withCompletionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn findMatchForRequest_withCompletionHandler(
            request: &GKMatchRequest,
            completion_handler: &block2::DynBlock<dyn Fn(*mut GKTurnBasedMatch, *mut NSError)>,
        );

        #[cfg(feature = "block2")]
        #[unsafe(method(loadMatchesWithCompletionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn loadMatchesWithCompletionHandler(
            completion_handler: Option<
                &block2::DynBlock<dyn Fn(*mut NSArray<GKTurnBasedMatch>, *mut NSError)>,
            >,
        );

        #[cfg(feature = "block2")]
        #[unsafe(method(loadMatchWithID:withCompletionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn loadMatchWithID_withCompletionHandler(
            match_id: &NSString,
            completion_handler: Option<
                &block2::DynBlock<dyn Fn(*mut GKTurnBasedMatch, *mut NSError)>,
            >,
        );

        #[cfg(feature = "block2")]
        #[unsafe(method(rematchWithCompletionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn rematchWithCompletionHandler(
            &self,
            completion_handler: Option<
                &block2::DynBlock<dyn Fn(*mut GKTurnBasedMatch, *mut NSError)>,
            >,
        );

        #[cfg(feature = "block2")]
        #[unsafe(method(acceptInviteWithCompletionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn acceptInviteWithCompletionHandler(
            &self,
            completion_handler: Option<
                &block2::DynBlock<dyn Fn(*mut GKTurnBasedMatch, *mut NSError)>,
            >,
        );

        #[cfg(feature = "block2")]
        #[unsafe(method(declineInviteWithCompletionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn declineInviteWithCompletionHandler(
            &self,
            completion_handler: Option<&block2::DynBlock<dyn Fn(*mut NSError)>>,
        );

        #[cfg(feature = "block2")]
        #[unsafe(method(removeWithCompletionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn removeWithCompletionHandler(
            &self,
            completion_handler: Option<&block2::DynBlock<dyn Fn(*mut NSError)>>,
        );

        #[cfg(feature = "block2")]
        #[unsafe(method(loadMatchDataWithCompletionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn loadMatchDataWithCompletionHandler(
            &self,
            completion_handler: Option<&block2::DynBlock<dyn Fn(*mut NSData, *mut NSError)>>,
        );

        #[cfg(feature = "block2")]
        #[unsafe(method(endTurnWithNextParticipants:turnTimeout:matchData:completionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn endTurnWithNextParticipants_turnTimeout_matchData_completionHandler(
            &self,
            next_participants: &NSArray<GKTurnBasedParticipant>,
            timeout: NSTimeInterval,
            match_data: &NSData,
            completion_handler: Option<&block2::DynBlock<dyn Fn(*mut NSError)>>,
        );

        #[cfg(feature = "block2")]
        #[unsafe(method(participantQuitInTurnWithOutcome:nextParticipants:turnTimeout:matchData:completionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn participantQuitInTurnWithOutcome_nextParticipants_turnTimeout_matchData_completionHandler(
            &self,
            match_outcome: GKTurnBasedMatchOutcome,
            next_participants: &NSArray<GKTurnBasedParticipant>,
            timeout: NSTimeInterval,
            match_data: &NSData,
            completion_handler: Option<&block2::DynBlock<dyn Fn(*mut NSError)>>,
        );

        #[cfg(feature = "block2")]
        #[unsafe(method(participantQuitOutOfTurnWithOutcome:withCompletionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn participantQuitOutOfTurnWithOutcome_withCompletionHandler(
            &self,
            match_outcome: GKTurnBasedMatchOutcome,
            completion_handler: Option<&block2::DynBlock<dyn Fn(*mut NSError)>>,
        );

        #[cfg(feature = "block2")]
        #[unsafe(method(endMatchInTurnWithMatchData:completionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn endMatchInTurnWithMatchData_completionHandler(
            &self,
            match_data: &NSData,
            completion_handler: Option<&block2::DynBlock<dyn Fn(*mut NSError)>>,
        );

        #[cfg(all(feature = "GKAchievement", feature = "GKScore", feature = "block2"))]
        #[deprecated]
        #[unsafe(method(endMatchInTurnWithMatchData:scores:achievements:completionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn endMatchInTurnWithMatchData_scores_achievements_completionHandler(
            &self,
            match_data: &NSData,
            scores: Option<&NSArray<GKScore>>,
            achievements: Option<&NSArray<GKAchievement>>,
            completion_handler: Option<&block2::DynBlock<dyn Fn(*mut NSError)>>,
        );

        #[cfg(all(feature = "GKLeaderboardScore", feature = "block2"))]
        /// # Safety
        ///
        /// `achievements` generic should be of the correct type.
        #[unsafe(method(endMatchInTurnWithMatchData:leaderboardScores:achievements:completionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn endMatchInTurnWithMatchData_leaderboardScores_achievements_completionHandler(
            &self,
            match_data: &NSData,
            scores: &NSArray<GKLeaderboardScore>,
            achievements: &NSArray,
            completion_handler: &block2::DynBlock<dyn Fn(*mut NSError)>,
        );

        #[cfg(feature = "block2")]
        #[unsafe(method(saveCurrentTurnWithMatchData:completionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn saveCurrentTurnWithMatchData_completionHandler(
            &self,
            match_data: &NSData,
            completion_handler: Option<&block2::DynBlock<dyn Fn(*mut NSError)>>,
        );

        #[cfg(feature = "block2")]
        #[unsafe(method(saveMergedMatchData:withResolvedExchanges:completionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn saveMergedMatchData_withResolvedExchanges_completionHandler(
            &self,
            match_data: &NSData,
            exchanges: &NSArray<GKTurnBasedExchange>,
            completion_handler: Option<&block2::DynBlock<dyn Fn(*mut NSError)>>,
        );

        #[cfg(feature = "block2")]
        #[unsafe(method(sendExchangeToParticipants:data:localizableMessageKey:arguments:timeout:completionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn sendExchangeToParticipants_data_localizableMessageKey_arguments_timeout_completionHandler(
            &self,
            participants: &NSArray<GKTurnBasedParticipant>,
            data: &NSData,
            key: &NSString,
            arguments: &NSArray<NSString>,
            timeout: NSTimeInterval,
            completion_handler: Option<
                &block2::DynBlock<dyn Fn(*mut GKTurnBasedExchange, *mut NSError)>,
            >,
        );

        #[cfg(feature = "block2")]
        #[unsafe(method(sendReminderToParticipants:localizableMessageKey:arguments:completionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn sendReminderToParticipants_localizableMessageKey_arguments_completionHandler(
            &self,
            participants: &NSArray<GKTurnBasedParticipant>,
            key: &NSString,
            arguments: &NSArray<NSString>,
            completion_handler: Option<&block2::DynBlock<dyn Fn(*mut NSError)>>,
        );

        #[cfg(feature = "block2")]
        #[deprecated]
        #[unsafe(method(endTurnWithNextParticipant:matchData:completionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn endTurnWithNextParticipant_matchData_completionHandler(
            &self,
            next_participant: &GKTurnBasedParticipant,
            match_data: &NSData,
            completion_handler: Option<&block2::DynBlock<dyn Fn(*mut NSError)>>,
        );

        #[cfg(feature = "block2")]
        #[deprecated]
        #[unsafe(method(participantQuitInTurnWithOutcome:nextParticipant:matchData:completionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn participantQuitInTurnWithOutcome_nextParticipant_matchData_completionHandler(
            &self,
            match_outcome: GKTurnBasedMatchOutcome,
            next_participant: &GKTurnBasedParticipant,
            match_data: &NSData,
            completion_handler: Option<&block2::DynBlock<dyn Fn(*mut NSError)>>,
        );
    );
}

/// Methods declared on superclass `NSObject`.
impl GKTurnBasedMatch {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}

/// The status of an exchange or reply.
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct GKTurnBasedExchangeStatus(pub i8);
impl GKTurnBasedExchangeStatus {
    /// The state of the exchange request is unknown.
    #[doc(alias = "GKTurnBasedExchangeStatusUnknown")]
    pub const Unknown: Self = Self(0);
    /// GameKit sent the exchange request to recipients but not all recipients replied.
    #[doc(alias = "GKTurnBasedExchangeStatusActive")]
    pub const Active: Self = Self(1);
    /// All recipients of the exchange request replied.
    #[doc(alias = "GKTurnBasedExchangeStatusComplete")]
    pub const Complete: Self = Self(2);
    /// The current participant saved the exchange request.
    #[doc(alias = "GKTurnBasedExchangeStatusResolved")]
    pub const Resolved: Self = Self(3);
    /// The sender canceled the exchange request.
    #[doc(alias = "GKTurnBasedExchangeStatusCanceled")]
    pub const Canceled: Self = Self(4);
}

unsafe impl Encode for GKTurnBasedExchangeStatus {
    const ENCODING: Encoding = i8::ENCODING;
}

unsafe impl RefEncode for GKTurnBasedExchangeStatus {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

extern "C" {
    /// A one-day exchange request timeout.
    pub static GKExchangeTimeoutDefault: NSTimeInterval;
}

extern "C" {
    /// An exchange request timeout that doesn’t expire.
    pub static GKExchangeTimeoutNone: NSTimeInterval;
}

extern_class!(
    /// Exchange request information that participants send in a turn-based match.
    ///
    /// ## Overview
    ///
    /// GameKit sends exchange objects to [`GKTurnBasedEventListener`](https://developer.apple.com/documentation/gamekit/gkturnbasedeventlistener) protocol methods when the local player receives an exchange request or recipients reply to an exchange request. The exchange object encapsulates your custom game data that you want to communicate to other players.
    ///
    /// You initiate an exchange request using the `GKTurnBasedMatch` [`sendExchangeToParticipants:data:localizableMessageKey:arguments:timeout:completionHandler:`](https://developer.apple.com/documentation/gamekit/gkturnbasedmatch/sendexchange(to:data:localizablemessagekey:arguments:timeout:completionhandler:)) method. Then GameKit sends the request to the recipients passing the exchange object to the `GKTurnBasedEventListener` [`player:receivedExchangeRequest:forMatch:`](https://developer.apple.com/documentation/gamekit/gkturnbasedeventlistener/player(_:receivedexchangerequest:for:)) protocol method. GameKit sets the status of the exchange object to [`GKTurnBasedExchangeStatusActive`](https://developer.apple.com/documentation/gamekit/gkturnbasedexchangestatus/active).
    ///
    /// After all recipients respond to the request, using the [`replyWithLocalizableMessageKey:arguments:data:completionHandler:`](https://developer.apple.com/documentation/gamekit/gkturnbasedexchange/reply(withlocalizablemessagekey:arguments:data:completionhandler:)) method, or exceed the time out specified in the request, GameKit sends the exchange to the sender and the current participant. GameKit sets the exchange status to [`GKTurnBasedExchangeStatusComplete`](https://developer.apple.com/documentation/gamekit/gkturnbasedexchangestatus/complete) and then passes it to the `GKTurnBasedEventListener` [`player:receivedExchangeReplies:forCompletedExchange:forMatch:`](https://developer.apple.com/documentation/gamekit/gkturnbasedeventlistener/player(_:receivedexchangereplies:forcompletedexchange:for:)) method.
    ///
    /// Before the current participant ends their turn, save the completed exchanges using the `GKTurnBasedMatch` [`saveMergedMatchData:withResolvedExchanges:completionHandler:`](https://developer.apple.com/documentation/gamekit/gkturnbasedmatch/savemergedmatch(_:withresolvedexchanges:completionhandler:)) method. Get the exchanges from the match object using the [`completedExchanges`](https://developer.apple.com/documentation/gamekit/gkturnbasedmatch/completedexchanges) property. Alternatively, save exchange data in the [`player:receivedExchangeReplies:forCompletedExchange:forMatch:`](https://developer.apple.com/documentation/gamekit/gkturnbasedeventlistener/player(_:receivedexchangereplies:forcompletedexchange:for:)) protocol method when all recipients reply to specific exchange requests.
    ///
    /// To cancel an active or complete exchange, use the [`cancelWithLocalizableMessageKey:arguments:completionHandler:`](https://developer.apple.com/documentation/gamekit/gkturnbasedexchange/cancel(withlocalizablemessagekey:arguments:completionhandler:)) method. GameKit notifies the recipients when the player cancels an exchange, using the `GKTurnBasedEventListener` [`player:receivedExchangeCancellation:forMatch:`](https://developer.apple.com/documentation/gamekit/gkturnbasedeventlistener/player(_:receivedexchangecancellation:for:)) protocol method.
    ///
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct GKTurnBasedExchange;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for GKTurnBasedExchange {}
);

impl GKTurnBasedExchange {
    extern_methods!(
        #[unsafe(method(exchangeID))]
        #[unsafe(method_family = none)]
        pub unsafe fn exchangeID(&self) -> Retained<NSString>;

        #[unsafe(method(sender))]
        #[unsafe(method_family = none)]
        pub unsafe fn sender(&self) -> Retained<GKTurnBasedParticipant>;

        #[unsafe(method(recipients))]
        #[unsafe(method_family = none)]
        pub unsafe fn recipients(&self) -> Retained<NSArray<GKTurnBasedParticipant>>;

        #[unsafe(method(status))]
        #[unsafe(method_family = none)]
        pub unsafe fn status(&self) -> GKTurnBasedExchangeStatus;

        #[unsafe(method(message))]
        #[unsafe(method_family = none)]
        pub unsafe fn message(&self) -> Option<Retained<NSString>>;

        #[unsafe(method(data))]
        #[unsafe(method_family = none)]
        pub unsafe fn data(&self) -> Option<Retained<NSData>>;

        #[unsafe(method(sendDate))]
        #[unsafe(method_family = none)]
        pub unsafe fn sendDate(&self) -> Retained<NSDate>;

        #[unsafe(method(timeoutDate))]
        #[unsafe(method_family = none)]
        pub unsafe fn timeoutDate(&self) -> Option<Retained<NSDate>>;

        #[unsafe(method(completionDate))]
        #[unsafe(method_family = none)]
        pub unsafe fn completionDate(&self) -> Option<Retained<NSDate>>;

        #[unsafe(method(replies))]
        #[unsafe(method_family = none)]
        pub unsafe fn replies(&self) -> Option<Retained<NSArray<GKTurnBasedExchangeReply>>>;

        #[cfg(feature = "block2")]
        #[unsafe(method(cancelWithLocalizableMessageKey:arguments:completionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn cancelWithLocalizableMessageKey_arguments_completionHandler(
            &self,
            key: &NSString,
            arguments: &NSArray<NSString>,
            completion_handler: Option<&block2::DynBlock<dyn Fn(*mut NSError)>>,
        );

        #[cfg(feature = "block2")]
        #[unsafe(method(replyWithLocalizableMessageKey:arguments:data:completionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn replyWithLocalizableMessageKey_arguments_data_completionHandler(
            &self,
            key: &NSString,
            arguments: &NSArray<NSString>,
            data: &NSData,
            completion_handler: Option<&block2::DynBlock<dyn Fn(*mut NSError)>>,
        );
    );
}

/// Methods declared on superclass `NSObject`.
impl GKTurnBasedExchange {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}

extern_class!(
    /// Details about a recipient’s response to an exchange request.
    ///
    /// ## Overview
    ///
    /// When you accept an exchange request using the [`replyWithLocalizableMessageKey:arguments:data:completionHandler:`](https://developer.apple.com/documentation/gamekit/gkturnbasedexchange/reply(withlocalizablemessagekey:arguments:data:completionhandler:)) method, GameKit sends a `GKTurnBasedExchangeReply` object to participants using the [`player:receivedExchangeReplies:forCompletedExchange:forMatch:`](https://developer.apple.com/documentation/gamekit/gkturnbasedeventlistener/player(_:receivedexchangereplies:forcompletedexchange:for:)) protocol method. You can also get responses to exchange requests from the [`GKTurnBasedExchange`](https://developer.apple.com/documentation/gamekit/gkturnbasedexchange) object using the [`replies`](https://developer.apple.com/documentation/gamekit/gkturnbasedexchange/replies) parameter.
    ///
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct GKTurnBasedExchangeReply;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for GKTurnBasedExchangeReply {}
);

impl GKTurnBasedExchangeReply {
    extern_methods!(
        #[unsafe(method(recipient))]
        #[unsafe(method_family = none)]
        pub unsafe fn recipient(&self) -> Retained<GKTurnBasedParticipant>;

        #[unsafe(method(message))]
        #[unsafe(method_family = none)]
        pub unsafe fn message(&self) -> Option<Retained<NSString>>;

        #[unsafe(method(data))]
        #[unsafe(method_family = none)]
        pub unsafe fn data(&self) -> Option<Retained<NSData>>;

        #[unsafe(method(replyDate))]
        #[unsafe(method_family = none)]
        pub unsafe fn replyDate(&self) -> Retained<NSDate>;
    );
}

/// Methods declared on superclass `NSObject`.
impl GKTurnBasedExchangeReply {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}

extern_protocol!(
    /// The [`GKTurnBasedEventHandlerDelegate`](https://developer.apple.com/documentation/gamekit/gkturnbasedeventhandlerdelegate) protocol is implemented by an object to receive notifications events for turn-based matches. All methods are called on the main thread.
    ///
    /// ## Overview
    ///
    /// This protocol has been deprecated in iOS 7, use [`GKTurnBasedEventListener`](https://developer.apple.com/documentation/gamekit/gkturnbasedeventlistener).
    ///
    ///
    #[deprecated]
    pub unsafe trait GKTurnBasedEventHandlerDelegate {
        #[deprecated]
        #[unsafe(method(handleInviteFromGameCenter:))]
        #[unsafe(method_family = none)]
        unsafe fn handleInviteFromGameCenter(&self, players_to_invite: &NSArray<NSString>);

        #[deprecated]
        #[unsafe(method(handleTurnEventForMatch:didBecomeActive:))]
        #[unsafe(method_family = none)]
        unsafe fn handleTurnEventForMatch_didBecomeActive(
            &self,
            r#match: &GKTurnBasedMatch,
            did_become_active: bool,
        );

        #[deprecated]
        #[optional]
        #[unsafe(method(handleTurnEventForMatch:))]
        #[unsafe(method_family = none)]
        unsafe fn handleTurnEventForMatch(&self, r#match: &GKTurnBasedMatch);

        #[deprecated]
        #[optional]
        #[unsafe(method(handleMatchEnded:))]
        #[unsafe(method_family = none)]
        unsafe fn handleMatchEnded(&self, r#match: &GKTurnBasedMatch);
    }
);

extern_class!(
    /// The [`GKTurnBasedEventHandler`](https://developer.apple.com/documentation/gamekit/gkturnbasedeventhandler) class is used to respond to important messages related to turn-based matches. To use it, call the [`sharedTurnBasedEventHandler`](https://developer.apple.com/documentation/gamekit/gkturnbasedeventhandler/shared()) class method to get the singleton instance and assign an object that implements the [`GKTurnBasedEventHandlerDelegate`](https://developer.apple.com/documentation/gamekit/gkturnbasedeventhandlerdelegate) protocol to its [`delegate`](https://developer.apple.com/documentation/gamekit/gkturnbasedeventhandler/delegate) property. All methods are called on the main thread.
    ///
    /// ## Overview
    ///
    /// <div class="warning">
    ///
    /// ### Important
    ///  Your game must initialize a local player before you can use any Game Center classes. If there is no initialized player, your game receives a [`GKErrorNotAuthenticated`](https://developer.apple.com/documentation/gamekit/gkerror/code/notauthenticated) error. For more information, see [Authenticating a player](https://developer.apple.com/documentation/gamekit/authenticating-a-player).
    ///
    ///
    ///
    /// </div>
    /// This framework has been deprecated in iOS 7. Use [`GKTurnBasedEventListener`](https://developer.apple.com/documentation/gamekit/gkturnbasedeventlistener).
    ///
    /// ### Subclassing Notes
    ///
    /// This class may not be subclassed.
    ///
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[deprecated]
    pub struct GKTurnBasedEventHandler;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for GKTurnBasedEventHandler {}
);

impl GKTurnBasedEventHandler {
    extern_methods!(
        #[deprecated]
        #[unsafe(method(sharedTurnBasedEventHandler))]
        #[unsafe(method_family = none)]
        pub unsafe fn sharedTurnBasedEventHandler() -> Retained<GKTurnBasedEventHandler>;

        #[deprecated]
        #[unsafe(method(delegate))]
        #[unsafe(method_family = none)]
        pub unsafe fn delegate(&self) -> Option<Retained<NSObject>>;

        /// Setter for [`delegate`][Self::delegate].
        ///
        /// This is a [weak property][objc2::topics::weak_property].
        ///
        /// # Safety
        ///
        /// `delegate` must implement GKTurnBasedEventHandlerDelegate.
        #[deprecated]
        #[unsafe(method(setDelegate:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setDelegate(&self, delegate: Option<&NSObject>);
    );
}

/// Methods declared on superclass `NSObject`.
impl GKTurnBasedEventHandler {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}
