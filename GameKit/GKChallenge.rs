//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
#[cfg(feature = "objc2-app-kit")]
#[cfg(target_os = "macos")]
use objc2_app_kit::*;
use objc2_foundation::*;

use crate::*;

/// The state of a challenge.
// NS_ENUM
#[deprecated]
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct GKChallengeState(pub NSInteger);
impl GKChallengeState {
    /// The challenge isn’t valid because an error occurred.
    #[doc(alias = "GKChallengeStateInvalid")]
    #[deprecated]
    pub const Invalid: Self = Self(0);
    /// The player issued a challenge, but the other player hasn’t accepted or refused it.
    #[doc(alias = "GKChallengeStatePending")]
    #[deprecated]
    pub const Pending: Self = Self(1);
    /// The player successfully completed the challenge.
    #[doc(alias = "GKChallengeStateCompleted")]
    #[deprecated]
    pub const Completed: Self = Self(2);
    /// The player declined the challenge.
    #[doc(alias = "GKChallengeStateDeclined")]
    #[deprecated]
    pub const Declined: Self = Self(3);
}

unsafe impl Encode for GKChallengeState {
    const ENCODING: Encoding = NSInteger::ENCODING;
}

unsafe impl RefEncode for GKChallengeState {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

extern_class!(
    /// A challenge issued by the local player to another player.
    ///
    /// ## Overview
    ///
    /// Players can use Game Center to challenge other players to beat their scores and achievements that they earn in your game. When a player issues a challenge to another player, Game Center sends a push notification to the other player. That player can then accept or refuse the challenge. If the player accepts the challenge, Game Center adds the challenge to the player’s list of challenges. Later, if the player beats the challenge, Game Center notifies both players.
    ///
    /// Game Center supports two kinds of challenges:
    ///
    /// - score challenge ([`GKScoreChallenge`](https://developer.apple.com/documentation/gamekit/gkscorechallenge)): When a player challenges another player to beat their leaderboard score. When the player beats the score, Game Center issues a new score challenge to the player who initiated the challenge and continues issuing challenges between the players until a player refuses the challenge.
    ///
    /// - achievement challenge ([`GKAchievementChallenge`](https://developer.apple.com/documentation/gamekit/gkachievementchallenge)): When a player challenges another player to earn an achievement. This challenge ends when the player earns the achievement.
    ///
    /// You never subclass the [`GKChallenge`](https://developer.apple.com/documentation/gamekit/gkchallenge) class directly. However, you can subclass [`GKScoreChallenge`](https://developer.apple.com/documentation/gamekit/gkscorechallenge) or [`GKAchievementChallenge`](https://developer.apple.com/documentation/gamekit/gkachievementchallenge) to create specific kinds of challenges.
    ///
    /// ### Enable Challenges
    ///
    /// You must enable challenges for your game in App Store Connect before you can use the challenges features. For details, see [Enable challenges](https://developer.apple.com/help/app-store-connect/configure-game-center/enable-challenges/) in App Store Connect Help.
    ///
    /// ### Load and Issue Challenges
    ///
    /// You can load the challenges issued by the local player using the [`loadReceivedChallengesWithCompletionHandler:`](https://developer.apple.com/documentation/gamekit/gkchallenge/loadreceivedchallenges(completionhandler:)) class method. You can issue challenges with the player’s permission using the [`challengeComposeControllerWithMessage:players:completion:`](https://developer.apple.com/documentation/gamekit/gkscore/challengecomposecontroller(withmessage:players:completion:)) method in the [`GKLeaderboardEntry`](https://developer.apple.com/documentation/gamekit/gkleaderboard/entry), [`GKScore`](https://developer.apple.com/documentation/gamekit/gkscore), or [`GKAchievement`](https://developer.apple.com/documentation/gamekit/gkachievement) class.
    ///
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[deprecated]
    pub struct GKChallenge;
);

extern_conformance!(
    unsafe impl NSCoding for GKChallenge {}
);

extern_conformance!(
    unsafe impl NSObjectProtocol for GKChallenge {}
);

extern_conformance!(
    unsafe impl NSSecureCoding for GKChallenge {}
);

impl GKChallenge {
    extern_methods!(
        #[cfg(feature = "block2")]
        /// Query challenges for the current game issued to the local player -- equivalent GKChallenge objects are not guaranteed to be pointer equivalent across calls, but equal GKChallenge objects will have equal hashes
        #[deprecated]
        #[unsafe(method(loadReceivedChallengesWithCompletionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn loadReceivedChallengesWithCompletionHandler(
            completion_handler: Option<
                &block2::DynBlock<dyn Fn(*mut NSArray<GKChallenge>, *mut NSError)>,
            >,
        );

        /// Any GKChallenge object to be declined must be in a state of GKChallengeStatePending in order to be successfully cancelled
        #[deprecated]
        #[unsafe(method(decline))]
        #[unsafe(method_family = none)]
        pub unsafe fn decline(&self);

        #[cfg(all(feature = "GKBasePlayer", feature = "GKPlayer"))]
        /// The GKPlayer who issued the challenge
        #[unsafe(method(issuingPlayer))]
        #[unsafe(method_family = none)]
        pub unsafe fn issuingPlayer(&self) -> Option<Retained<GKPlayer>>;

        #[cfg(all(feature = "GKBasePlayer", feature = "GKPlayer"))]
        /// The GKPlayer who has received the challenge
        #[unsafe(method(receivingPlayer))]
        #[unsafe(method_family = none)]
        pub unsafe fn receivingPlayer(&self) -> Option<Retained<GKPlayer>>;

        /// Current state of the challenge
        #[deprecated]
        #[unsafe(method(state))]
        #[unsafe(method_family = none)]
        pub unsafe fn state(&self) -> GKChallengeState;

        /// Date the challenge was issued
        #[deprecated]
        #[unsafe(method(issueDate))]
        #[unsafe(method_family = none)]
        pub unsafe fn issueDate(&self) -> Retained<NSDate>;

        /// Date the challenge was completed or aborted
        #[deprecated]
        #[unsafe(method(completionDate))]
        #[unsafe(method_family = none)]
        pub unsafe fn completionDate(&self) -> Option<Retained<NSDate>>;

        /// The message sent to receivers of this challenge
        #[deprecated]
        #[unsafe(method(message))]
        #[unsafe(method_family = none)]
        pub unsafe fn message(&self) -> Option<Retained<NSString>>;
    );
}

/// Methods declared on superclass `NSObject`.
impl GKChallenge {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}

/// Obsoleted.
impl GKChallenge {
    extern_methods!(
        /// * This property is obsolete. **
        #[deprecated]
        #[unsafe(method(issuingPlayerID))]
        #[unsafe(method_family = none)]
        pub unsafe fn issuingPlayerID(&self) -> Option<Retained<NSString>>;

        /// * This property is obsolete. **
        #[deprecated]
        #[unsafe(method(receivingPlayerID))]
        #[unsafe(method_family = none)]
        pub unsafe fn receivingPlayerID(&self) -> Option<Retained<NSString>>;
    );
}

extern_class!(
    /// A type of challenge where a player must beat the leaderboard score of another player.
    ///
    /// ## Overview
    ///
    /// To complete the challenge, the player must score an equal or better score than the other player. When the player completes the challenge, Game Center issues a new score challenge to the player who initiated the challenge and continues issuing challenges between the players until a player refuses the challenge.
    ///
    ///
    #[unsafe(super(GKChallenge, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[deprecated]
    pub struct GKScoreChallenge;
);

extern_conformance!(
    unsafe impl NSCoding for GKScoreChallenge {}
);

extern_conformance!(
    unsafe impl NSObjectProtocol for GKScoreChallenge {}
);

extern_conformance!(
    unsafe impl NSSecureCoding for GKScoreChallenge {}
);

impl GKScoreChallenge {
    extern_methods!(
        #[cfg(feature = "GKScore")]
        /// The score to meet to satisfy this challenge
        #[deprecated]
        #[unsafe(method(score))]
        #[unsafe(method_family = none)]
        pub unsafe fn score(&self) -> Option<Retained<GKScore>>;

        #[cfg(feature = "GKLeaderboardEntry")]
        /// The leaderboard entry to meet to satisfy this challenge
        #[unsafe(method(leaderboardEntry))]
        #[unsafe(method_family = none)]
        pub unsafe fn leaderboardEntry(&self) -> Option<Retained<GKLeaderboardEntry>>;
    );
}

/// Methods declared on superclass `NSObject`.
impl GKScoreChallenge {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}

extern_class!(
    /// A type of challenge where a player must earn another player’s achievement.
    #[unsafe(super(GKChallenge, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[deprecated]
    pub struct GKAchievementChallenge;
);

extern_conformance!(
    unsafe impl NSCoding for GKAchievementChallenge {}
);

extern_conformance!(
    unsafe impl NSObjectProtocol for GKAchievementChallenge {}
);

extern_conformance!(
    unsafe impl NSSecureCoding for GKAchievementChallenge {}
);

impl GKAchievementChallenge {
    extern_methods!(
        #[cfg(feature = "GKAchievement")]
        /// The achievement to achieve to satisfy this challenge
        #[deprecated]
        #[unsafe(method(achievement))]
        #[unsafe(method_family = none)]
        pub unsafe fn achievement(&self) -> Option<Retained<GKAchievement>>;
    );
}

/// Methods declared on superclass `NSObject`.
impl GKAchievementChallenge {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}

/// GKChallenge.
///
/// Use the following category methods to issue GKScoreChallenges and GKAchievementChallenges to an array of playerIDs. Players may not issue challenges to themselves nor to non-friends. Please see the GameKit reference documentation for further details on these methods.
#[cfg(feature = "GKScore")]
impl GKScore {
    extern_methods!(
        #[cfg(feature = "block2")]
        /// Use this alternative to reportScores:withCompletionHandler: to allow only certain specific challenges to be completed. Pass nil to avoid completing any challenges.
        #[deprecated]
        #[unsafe(method(reportScores:withEligibleChallenges:withCompletionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn reportScores_withEligibleChallenges_withCompletionHandler(
            scores: &NSArray<GKScore>,
            challenges: &NSArray<GKChallenge>,
            completion_handler: Option<&block2::DynBlock<dyn Fn(*mut NSError)>>,
        );

        #[cfg(all(feature = "GKLeaderboardScore", feature = "block2"))]
        #[deprecated]
        #[unsafe(method(reportLeaderboardScores:withEligibleChallenges:withCompletionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn reportLeaderboardScores_withEligibleChallenges_withCompletionHandler(
            scores: &NSArray<GKLeaderboardScore>,
            challenges: &NSArray<GKChallenge>,
            completion_handler: Option<&block2::DynBlock<dyn Fn(*mut NSError)>>,
        );
    );
}

/// GKChallenge.
#[cfg(feature = "GKAchievement")]
impl GKAchievement {
    extern_methods!(
        #[cfg(all(feature = "GKBasePlayer", feature = "GKPlayer", feature = "block2"))]
        /// Given a list of players, return a subset of that list containing only players that are eligible to receive a challenge for the achievement.
        #[deprecated]
        #[unsafe(method(selectChallengeablePlayers:withCompletionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn selectChallengeablePlayers_withCompletionHandler(
            &self,
            players: &NSArray<GKPlayer>,
            completion_handler: Option<
                &block2::DynBlock<dyn Fn(*mut NSArray<GKPlayer>, *mut NSError)>,
            >,
        );

        #[cfg(feature = "block2")]
        /// Use this alternative to reportAchievements:withCompletionHandler: to allow only certain specific challenges to be completed. Pass nil to avoid completing any challenges.
        #[deprecated]
        #[unsafe(method(reportAchievements:withEligibleChallenges:withCompletionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn reportAchievements_withEligibleChallenges_withCompletionHandler(
            achievements: &NSArray<GKAchievement>,
            challenges: &NSArray<GKChallenge>,
            completion_handler: Option<&block2::DynBlock<dyn Fn(*mut NSError)>>,
        );
    );
}

/// GKChallengeObsoleted.
#[cfg(feature = "GKScore")]
impl GKScore {
    extern_methods!(
        /// * This method is obsolete. It will never be invoked and its implementation does nothing**
        #[deprecated]
        #[unsafe(method(issueChallengeToPlayers:message:))]
        #[unsafe(method_family = none)]
        pub unsafe fn issueChallengeToPlayers_message(
            &self,
            player_i_ds: Option<&NSArray<NSString>>,
            message: Option<&NSString>,
        );
    );
}

/// GKChallengeObsoleted.
#[cfg(feature = "GKAchievement")]
impl GKAchievement {
    extern_methods!(
        /// * This method is obsolete. It will never be invoked and its implementation does nothing**
        #[deprecated]
        #[unsafe(method(issueChallengeToPlayers:message:))]
        #[unsafe(method_family = none)]
        pub unsafe fn issueChallengeToPlayers_message(
            &self,
            player_i_ds: Option<&NSArray<NSString>>,
            message: Option<&NSString>,
        );

        #[cfg(feature = "block2")]
        /// * This method is obsolete. It will never be invoked and its implementation does nothing**
        #[deprecated = "This method is obsolete."]
        #[unsafe(method(selectChallengeablePlayerIDs:withCompletionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn selectChallengeablePlayerIDs_withCompletionHandler(
            &self,
            player_i_ds: Option<&NSArray<NSString>>,
            completion_handler: Option<
                &block2::DynBlock<dyn Fn(*mut NSArray<NSString>, *mut NSError)>,
            >,
        );
    );
}

/// A completion block that provides information about the player who issues a challenge and the players who receive it.
///
/// Parameters:
/// - composeController: View controller for the challenge.
///
/// - didIssueChallenge: A Boolean value that indicates whether the player issues the challenge.
///
/// - sentPlayerIDs: The identifiers for the players that receive the challenge.
///
#[deprecated]
#[cfg(all(feature = "block2", feature = "objc2-app-kit"))]
#[cfg(target_os = "macos")]
pub type GKChallengeComposeCompletionBlock =
    *mut block2::DynBlock<dyn Fn(NonNull<NSViewController>, Bool, *mut NSArray<NSString>)>;

/// A completion block that provides information about the player who issues a challenge and the players who receive it.
///
/// Parameters:
/// - composeController: The view controller for the challenge.
///
/// - didIssueChallenge: A Boolean value that indicates whether the player issues the challenge.
///
/// - sentPlayers: The players that receive the challenge.
///
#[deprecated]
#[cfg(all(
    feature = "GKBasePlayer",
    feature = "GKPlayer",
    feature = "block2",
    feature = "objc2-app-kit"
))]
#[cfg(target_os = "macos")]
pub type GKChallengeComposeHandler =
    *mut block2::DynBlock<dyn Fn(NonNull<NSViewController>, Bool, *mut NSArray<GKPlayer>)>;

/// GKChallengeUI.
#[cfg(feature = "GKScore")]
impl GKScore {
    extern_methods!(
        #[cfg(all(
            feature = "GKBasePlayer",
            feature = "GKPlayer",
            feature = "block2",
            feature = "objc2-app-kit"
        ))]
        #[cfg(target_os = "macos")]
        /// # Safety
        ///
        /// `completion_handler` must be a valid pointer or null.
        #[deprecated]
        #[unsafe(method(challengeComposeControllerWithMessage:players:completionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn challengeComposeControllerWithMessage_players_completionHandler(
            &self,
            message: Option<&NSString>,
            players: Option<&NSArray<GKPlayer>>,
            completion_handler: GKChallengeComposeCompletionBlock,
            mtm: MainThreadMarker,
        ) -> Retained<NSViewController>;

        #[cfg(all(
            feature = "GKBasePlayer",
            feature = "GKPlayer",
            feature = "block2",
            feature = "objc2-app-kit"
        ))]
        #[cfg(target_os = "macos")]
        /// # Safety
        ///
        /// `completion_handler` must be a valid pointer or null.
        #[deprecated]
        #[unsafe(method(challengeComposeControllerWithMessage:players:completion:))]
        #[unsafe(method_family = none)]
        pub unsafe fn challengeComposeControllerWithMessage_players_completion(
            &self,
            message: Option<&NSString>,
            players: Option<&NSArray<GKPlayer>>,
            completion_handler: GKChallengeComposeHandler,
            mtm: MainThreadMarker,
        ) -> Retained<NSViewController>;
    );
}

/// GKChallengeUI.
#[cfg(feature = "GKLeaderboardEntry")]
impl GKLeaderboardEntry {
    extern_methods!(
        #[cfg(all(
            feature = "GKBasePlayer",
            feature = "GKPlayer",
            feature = "block2",
            feature = "objc2-app-kit"
        ))]
        #[cfg(target_os = "macos")]
        /// # Safety
        ///
        /// `completion_handler` must be a valid pointer or null.
        #[deprecated]
        #[unsafe(method(challengeComposeControllerWithMessage:players:completionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn challengeComposeControllerWithMessage_players_completionHandler(
            &self,
            message: Option<&NSString>,
            players: Option<&NSArray<GKPlayer>>,
            completion_handler: GKChallengeComposeCompletionBlock,
            mtm: MainThreadMarker,
        ) -> Retained<NSViewController>;

        #[cfg(all(
            feature = "GKBasePlayer",
            feature = "GKPlayer",
            feature = "block2",
            feature = "objc2-app-kit"
        ))]
        #[cfg(target_os = "macos")]
        /// # Safety
        ///
        /// `completion_handler` must be a valid pointer or null.
        #[deprecated]
        #[unsafe(method(challengeComposeControllerWithMessage:players:completion:))]
        #[unsafe(method_family = none)]
        pub unsafe fn challengeComposeControllerWithMessage_players_completion(
            &self,
            message: Option<&NSString>,
            players: Option<&NSArray<GKPlayer>>,
            completion_handler: GKChallengeComposeHandler,
            mtm: MainThreadMarker,
        ) -> Retained<NSViewController>;
    );
}

/// GKChallengeUI.
#[cfg(feature = "GKAchievement")]
impl GKAchievement {
    extern_methods!(
        #[cfg(all(
            feature = "GKBasePlayer",
            feature = "GKPlayer",
            feature = "block2",
            feature = "objc2-app-kit"
        ))]
        #[cfg(target_os = "macos")]
        /// # Safety
        ///
        /// `completion_handler` must be a valid pointer or null.
        #[deprecated]
        #[unsafe(method(challengeComposeControllerWithMessage:players:completionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn challengeComposeControllerWithMessage_players_completionHandler(
            &self,
            message: Option<&NSString>,
            players: &NSArray<GKPlayer>,
            completion_handler: GKChallengeComposeCompletionBlock,
            mtm: MainThreadMarker,
        ) -> Retained<NSViewController>;

        #[cfg(all(
            feature = "GKBasePlayer",
            feature = "GKPlayer",
            feature = "block2",
            feature = "objc2-app-kit"
        ))]
        #[cfg(target_os = "macos")]
        /// # Safety
        ///
        /// `completion_handler` must be a valid pointer or null.
        #[deprecated]
        #[unsafe(method(challengeComposeControllerWithMessage:players:completion:))]
        #[unsafe(method_family = none)]
        pub unsafe fn challengeComposeControllerWithMessage_players_completion(
            &self,
            message: Option<&NSString>,
            players: &NSArray<GKPlayer>,
            completion_handler: GKChallengeComposeHandler,
            mtm: MainThreadMarker,
        ) -> Retained<NSViewController>;
    );
}

/// GKChallengeObsoletedUI.
#[cfg(feature = "GKScore")]
impl GKScore {
    extern_methods!(
        #[cfg(all(feature = "block2", feature = "objc2-app-kit"))]
        #[cfg(target_os = "macos")]
        /// * This method is obsolete. Calling this method does nothing and will return nil **
        ///
        /// # Safety
        ///
        /// `completion_handler` must be a valid pointer or null.
        #[unsafe(method(challengeComposeControllerWithPlayers:message:completionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn challengeComposeControllerWithPlayers_message_completionHandler(
            &self,
            player_i_ds: Option<&NSArray<NSString>>,
            message: Option<&NSString>,
            completion_handler: GKChallengeComposeCompletionBlock,
            mtm: MainThreadMarker,
        ) -> Option<Retained<NSViewController>>;
    );
}

/// GKChallengeObsoletedUI.
#[cfg(feature = "GKAchievement")]
impl GKAchievement {
    extern_methods!(
        #[cfg(all(feature = "block2", feature = "objc2-app-kit"))]
        #[cfg(target_os = "macos")]
        /// * This method is obsolete. Calling this method does nothing and will return nil **
        ///
        /// # Safety
        ///
        /// `completion_handler` must be a valid pointer or null.
        #[unsafe(method(challengeComposeControllerWithPlayers:message:completionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn challengeComposeControllerWithPlayers_message_completionHandler(
            &self,
            player_i_ds: Option<&NSArray<NSString>>,
            message: Option<&NSString>,
            completion_handler: GKChallengeComposeCompletionBlock,
            mtm: MainThreadMarker,
        ) -> Option<Retained<NSViewController>>;
    );
}
