//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
#[cfg(feature = "objc2-app-kit")]
#[cfg(target_os = "macos")]
use objc2_app_kit::*;
use objc2_foundation::*;

use crate::*;

extern "C" {
    /// A constant for a player ID that’s no longer available.
    ///
    /// ## Discussion
    ///
    /// Deprecated methods that previously returned the player ID return this constant.
    ///
    ///
    /// Deprecated methods that previously returned player IDs will return GKPlayerIDNoLongerAvailable instead.
    pub static GKPlayerIDNoLongerAvailable: &'static NSString;
}

extern_class!(
    /// A remote player who the local player running your game can invite and communicate with through Game Center.
    ///
    /// ## Overview
    ///
    /// Before using Game Center for the first time, players create a single account that identifies them across all Game Center games. The player only needs to sign in to Game Center once per device to start using GameKit features in your game. A player sets a nickname and avatar in their account that provide a consistent and familiar look in your game. Game Center then uses the account to record leaderboard scores and achievements, and to start games with other players.
    ///
    /// In your code, [`GKPlayer`](https://developer.apple.com/documentation/gamekit/gkplayer) represents remote or other players who the local player running your app can invite and communicate with. [`GKPlayer`](https://developer.apple.com/documentation/gamekit/gkplayer) is also the superclass for the local player [`GKLocalPlayer`](https://developer.apple.com/documentation/gamekit/gklocalplayer) class that provides common data and methods for all players. For example, use the [`alias`](https://developer.apple.com/documentation/gamekit/gkplayer/alias) property to get the nickname for a player. To load the player avatars, use the [`loadPhotoForSize:withCompletionHandler:`](https://developer.apple.com/documentation/gamekit/gkplayer/loadphoto(for:withcompletionhandler:)) method.
    ///
    /// To create a guest player who doesn’t have a Game Center account, use the [`anonymousGuestPlayerWithIdentifier:`](https://developer.apple.com/documentation/gamekit/gkplayer/anonymousguestplayer(withidentifier:)) method. GameKit treats guest players similar to Game Center players except they can’t earn achievements, post to leaderboards, or participate in challenges.
    ///
    /// Use the [`gamePlayerID`](https://developer.apple.com/documentation/gamekit/gkplayer/gameplayerid) property as a unique identifier for just your game, and the [`teamPlayerID`](https://developer.apple.com/documentation/gamekit/gkplayer/teamplayerid) property as a unique identifier for all games that you offer through your developer account. For more information, see [Protecting the player’s privacy using scoped identifiers](https://developer.apple.com/documentation/gamekit/protecting-the-player-s-privacy-using-scoped-identifiers).
    ///
    ///
    #[unsafe(super(GKBasePlayer, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(feature = "GKBasePlayer")]
    pub struct GKPlayer;
);

#[cfg(feature = "GKBasePlayer")]
extern_conformance!(
    unsafe impl NSCopying for GKPlayer {}
);

#[cfg(feature = "GKBasePlayer")]
unsafe impl CopyingHelper for GKPlayer {
    type Result = Self;
}

#[cfg(feature = "GKBasePlayer")]
extern_conformance!(
    unsafe impl NSObjectProtocol for GKPlayer {}
);

#[cfg(feature = "GKBasePlayer")]
impl GKPlayer {
    extern_methods!(
        /// This convenience method checks if the gamePlayerID and the teamPlayerID (scopedIDs) are persistent or unique for the instantiation of this app.
        #[unsafe(method(scopedIDsArePersistent))]
        #[unsafe(method_family = none)]
        pub unsafe fn scopedIDsArePersistent(&self) -> bool;

        /// This is the player's unique and persistent ID that is scoped to this application.
        #[unsafe(method(gamePlayerID))]
        #[unsafe(method_family = none)]
        pub unsafe fn gamePlayerID(&self) -> Retained<NSString>;

        /// This is the player's unique and persistent ID that is scoped to the Apple Store Connect Team identifier of this application.
        #[unsafe(method(teamPlayerID))]
        #[unsafe(method_family = none)]
        pub unsafe fn teamPlayerID(&self) -> Retained<NSString>;

        /// This is player's alias to be displayed. The display name may be very long, so be sure to use appropriate string truncation API when drawing.
        #[unsafe(method(displayName))]
        #[unsafe(method_family = none)]
        pub unsafe fn displayName(&self) -> Retained<NSString>;

        /// The alias property contains the player's nickname. When you need to display the name to the user, consider using displayName instead. The nickname is unique but not invariant: the player may change their nickname. The nickname may be very long, so be sure to use appropriate string truncation API when drawing.
        #[unsafe(method(alias))]
        #[unsafe(method_family = none)]
        pub unsafe fn alias(&self) -> Retained<NSString>;

        #[unsafe(method(anonymousGuestPlayerWithIdentifier:))]
        #[unsafe(method_family = none)]
        pub unsafe fn anonymousGuestPlayerWithIdentifier(
            guest_identifier: &NSString,
        ) -> Retained<Self>;

        #[unsafe(method(guestIdentifier))]
        #[unsafe(method_family = none)]
        pub unsafe fn guestIdentifier(&self) -> Option<Retained<NSString>>;

        #[unsafe(method(isInvitable))]
        #[unsafe(method_family = none)]
        pub unsafe fn isInvitable(&self) -> bool;
    );
}

/// Methods declared on superclass `NSObject`.
#[cfg(feature = "GKBasePlayer")]
impl GKPlayer {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}

/// The size of a photo that Game Center loads.
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct GKPhotoSize(pub NSInteger);
impl GKPhotoSize {
    /// Loads a small photo.
    #[doc(alias = "GKPhotoSizeSmall")]
    pub const Small: Self = Self(0);
    /// Loads a normal-sized photo.
    #[doc(alias = "GKPhotoSizeNormal")]
    pub const Normal: Self = Self(1);
}

unsafe impl Encode for GKPhotoSize {
    const ENCODING: Encoding = NSInteger::ENCODING;
}

unsafe impl RefEncode for GKPhotoSize {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

/// UI.
#[cfg(feature = "GKBasePlayer")]
impl GKPlayer {
    extern_methods!(
        #[cfg(all(feature = "block2", feature = "objc2-app-kit"))]
        #[cfg(target_os = "macos")]
        /// Asynchronously load the player's photo. Error will be nil on success.
        /// Possible reasons for error:
        /// 1. Communications failure
        #[unsafe(method(loadPhotoForSize:withCompletionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn loadPhotoForSize_withCompletionHandler(
            &self,
            size: GKPhotoSize,
            completion_handler: Option<&block2::DynBlock<dyn Fn(*mut NSImage, *mut NSError)>>,
        );
    );
}

extern "C" {
    /// A notification that posts when a player object’s data changes.
    /// Notification will be posted whenever the player details changes. The object of the notification will be the player.
    pub static GKPlayerDidChangeNotificationName: &'static NSNotificationName;
}

/// Deprecated.
#[cfg(feature = "GKBasePlayer")]
impl GKPlayer {
    extern_methods!(
        #[deprecated]
        #[unsafe(method(isFriend))]
        #[unsafe(method_family = none)]
        pub unsafe fn isFriend(&self) -> bool;

        #[deprecated = "Use ``GKPlayer/gamePlayerID`` or ``GKPlayer/teamPlayerID`` instead."]
        #[unsafe(method(playerID))]
        #[unsafe(method_family = none)]
        pub unsafe fn playerID(&self) -> Retained<NSString>;

        #[cfg(feature = "block2")]
        /// Load the Game Center players for the playerIDs provided. Error will be nil on success.
        /// Possible reasons for error:
        /// 1. Unauthenticated local player
        /// 2. Communications failure
        /// 3. Invalid player identifier
        #[deprecated]
        #[unsafe(method(loadPlayersForIdentifiers:withCompletionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn loadPlayersForIdentifiers_withCompletionHandler(
            identifiers: &NSArray<NSString>,
            completion_handler: Option<
                &block2::DynBlock<dyn Fn(*mut NSArray<GKPlayer>, *mut NSError)>,
            >,
        );
    );
}
