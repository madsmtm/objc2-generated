//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;

use crate::*;

extern_class!(
    /// The host app context from which an app extension is invoked.
    ///
    /// ## Overview
    ///
    /// When a host app sends a request to an app extension, it provides an extension context. For many app extensions, the most important part of the context is the data the user wants to work with, which is contained in the [`inputItems`](https://developer.apple.com/documentation/foundation/nsextensioncontext/inputitems) property.
    ///
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct NSExtensionContext;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for NSExtensionContext {}
);

impl NSExtensionContext {
    extern_methods!(
        #[cfg(feature = "NSArray")]
        #[unsafe(method(inputItems))]
        #[unsafe(method_family = none)]
        pub fn inputItems(&self) -> Retained<NSArray>;

        #[cfg(all(feature = "NSArray", feature = "block2"))]
        /// # Safety
        ///
        /// - `items` generic should be of the correct type.
        /// - `completion_handler` block must be sendable.
        #[unsafe(method(completeRequestReturningItems:completionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn completeRequestReturningItems_completionHandler(
            &self,
            items: Option<&NSArray>,
            completion_handler: Option<&block2::DynBlock<dyn Fn(Bool)>>,
        );

        #[cfg(feature = "NSError")]
        #[unsafe(method(cancelRequestWithError:))]
        #[unsafe(method_family = none)]
        pub fn cancelRequestWithError(&self, error: &NSError);

        #[cfg(all(feature = "NSURL", feature = "block2"))]
        /// # Safety
        ///
        /// `completion_handler` block must be sendable.
        #[unsafe(method(openURL:completionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn openURL_completionHandler(
            &self,
            url: &NSURL,
            completion_handler: Option<&block2::DynBlock<dyn Fn(Bool)>>,
        );
    );
}

/// Methods declared on superclass `NSObject`.
impl NSExtensionContext {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub fn new() -> Retained<Self>;
    );
}

impl DefaultRetained for NSExtensionContext {
    #[inline]
    fn default_retained() -> Retained<Self> {
        Self::new()
    }
}

extern "C" {
    /// The extension items and errors key.
    ///
    /// ## Discussion
    ///
    /// This key appears in the [`userInfo`](https://developer.apple.com/documentation/foundation/nserror/userinfo) dictionary of the [`NSError`](https://developer.apple.com/documentation/foundation/nserror) object that [`cancelRequestWithError:`](https://developer.apple.com/documentation/foundation/nsextensioncontext/cancelrequest(witherror:)) returns.
    ///
    /// This key’s value is a dictionary of [`NSExtensionItem`](https://developer.apple.com/documentation/foundation/nsextensionitem) objects and associated [`NSError`](https://developer.apple.com/documentation/foundation/nserror) instances.
    ///
    ///
    #[cfg(feature = "NSString")]
    pub static NSExtensionItemsAndErrorsKey: Option<&'static NSString>;
}

extern "C" {
    /// Posted when the extension’s host app begins running in the foreground.
    ///
    /// ## Discussion
    ///
    /// Extensions can use this notification to restart tasks that it stopped when they moved to the background. The `object` parameter contains the `NSExtensionContext` object. This notification does not contain a `userInfo` dictionary.
    ///
    ///
    #[cfg(feature = "NSString")]
    pub static NSExtensionHostWillEnterForegroundNotification: Option<&'static NSString>;
}

extern "C" {
    /// Posted when the extension’s host app begins running in the background.
    ///
    /// ## Discussion
    ///
    /// Extensions can use this notification to stop tasks and prepare the extension to be suspended. The `object` parameter contains the `NSExtensionContext` object. This notification does not contain a `userInfo` dictionary.
    ///
    /// Extensions receive only a short amount of time to perform any background work. If you need more time to complete critical tasks, use the methods of the [`NSProcessInfo`](https://developer.apple.com/documentation/foundation/processinfo) class to request that time.
    ///
    ///
    #[cfg(feature = "NSString")]
    pub static NSExtensionHostDidEnterBackgroundNotification: Option<&'static NSString>;
}

extern "C" {
    /// Posted when the extension’s host app moves from the active to the inactive state.
    ///
    /// ## Discussion
    ///
    /// Extensions can use this notification to adjust their activity when they become inactive. For example, you might use this notification to save any unsaved data to prevent it from being lost. The `object` parameter contains the `NSExtensionContext` object. This notification does not contain a `userInfo` dictionary.
    ///
    ///
    #[cfg(feature = "NSString")]
    pub static NSExtensionHostWillResignActiveNotification: Option<&'static NSString>;
}

extern "C" {
    /// Posted when the extension’s host app moves from the inactive to the active state.
    ///
    /// ## Discussion
    ///
    /// Extensions can use this notification to adjust their activity when they become active. The `object` parameter contains the `NSExtensionContext` object. This notification does not contain a `userInfo` dictionary.
    ///
    ///
    #[cfg(feature = "NSString")]
    pub static NSExtensionHostDidBecomeActiveNotification: Option<&'static NSString>;
}
