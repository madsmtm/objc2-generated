//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;

use crate::*;

/// Named value transformers defined by `NSValueTransformer`.
// NS_TYPED_EXTENSIBLE_ENUM
#[cfg(feature = "NSString")]
pub type NSValueTransformerName = NSString;

extern "C" {
    /// This value transformer negates a boolean value, transforming true to false and false to true.
    ///
    /// ## Discussion
    ///
    /// This transformer is reversible.
    ///
    ///
    #[cfg(feature = "NSString")]
    pub static NSNegateBooleanTransformerName: &'static NSValueTransformerName;
}

extern "C" {
    /// This value transformer returns true if the value is nil.
    ///
    /// ## Discussion
    ///
    /// This transformer is not reversible.
    ///
    ///
    #[cfg(feature = "NSString")]
    pub static NSIsNilTransformerName: &'static NSValueTransformerName;
}

extern "C" {
    /// This value transformer returns true if the value is non-nil.
    ///
    /// ## Discussion
    ///
    /// This transformer is not reversible.
    ///
    ///
    #[cfg(feature = "NSString")]
    pub static NSIsNotNilTransformerName: &'static NSValueTransformerName;
}

extern "C" {
    /// The name of the value transformer that attempts to unarchive data from an object you provide.
    ///
    /// ## Discussion
    ///
    /// The transformer this property references returns the [`NSData`](https://developer.apple.com/documentation/foundation/nsdata) instance created by archiving the value. This transformer requires that an object supports [`NSCoding`](https://developer.apple.com/documentation/foundation/nscoding) in order for the transformer to archive and unarchive.
    ///
    ///
    #[cfg(feature = "NSString")]
    #[deprecated]
    pub static NSUnarchiveFromDataTransformerName: &'static NSValueTransformerName;
}

extern "C" {
    /// The name of the value transformer that attempts to unarchive data stored inside a keyed archive in an object you provide.
    ///
    /// ## Discussion
    ///
    /// The transformer this property references returns the [`NSData`](https://developer.apple.com/documentation/foundation/nsdata) instance created by archiving the value using keyed archiving. This transformer requires that an object implement the [`NSCoding`](https://developer.apple.com/documentation/foundation/nscoding) protocol using keyed archiving in order to archive and unarchive with this transformer.
    ///
    ///
    #[cfg(feature = "NSString")]
    #[deprecated]
    pub static NSKeyedUnarchiveFromDataTransformerName: &'static NSValueTransformerName;
}

extern "C" {
    /// The name of the value transformer that creates then returns an object by attempting to unarchive the data to a class that supports secure coding.
    ///
    /// ## Discussion
    ///
    /// The transformer this property references returns the [`NSData`](https://developer.apple.com/documentation/foundation/nsdata) instance created by archiving the value using secure keyed archiving. This transformer requires that an object implement the [`NSSecureCoding`](https://developer.apple.com/documentation/foundation/nssecurecoding) protocol in order to archive and unarchive with this transformer.
    ///
    ///
    #[cfg(feature = "NSString")]
    pub static NSSecureUnarchiveFromDataTransformerName: &'static NSValueTransformerName;
}

extern_class!(
    /// An abstract class used to transform values from one representation to another.
    ///
    /// ## Overview
    ///
    /// You create a value transformer by subclassing [`NSValueTransformer`](https://developer.apple.com/documentation/foundation/valuetransformer) and overriding the necessary methods to provide the required custom transformation. You then register the value transformer using the [`setValueTransformer:forName:`](https://developer.apple.com/documentation/foundation/valuetransformer/setvaluetransformer(_:forname:)) method, so that other parts of your app can access it by name with [`valueTransformerForName:`](https://developer.apple.com/documentation/foundation/valuetransformer/init(forname:)).
    ///
    /// Use the [`transformedValue:`](https://developer.apple.com/documentation/foundation/valuetransformer/transformedvalue(_:)) method to transform a value from one representation into another. If a value transformer designates that its transformation is reversible by returning [`true`](https://developer.apple.com/documentation/swift/true) for [`allowsReverseTransformation`](https://developer.apple.com/documentation/foundation/valuetransformer/allowsreversetransformation()), you can also use the [`reverseTransformedValue:`](https://developer.apple.com/documentation/foundation/valuetransformer/reversetransformedvalue(_:)) to perform the transformation in reverse. For example, reversing the characters in a string is a reversible operation, whereas changing the characters in a string to be uppercase is a nonreversible operation.
    ///
    /// A value transformer can take inputs of one type and return a value of a different type. For example,  a value transformer could take an [`NSImage`](https://developer.apple.com/documentation/appkit/nsimage) or [`UIImage`](https://developer.apple.com/documentation/uikit/uiimage) object and return an [`NSData`](https://developer.apple.com/documentation/foundation/nsdata) object containing the PNG representation of that image.
    ///
    /// ### Example Usage
    ///
    /// The following example defines a new value transformer that takes an object and returns a string based on the object’s class type. This transformer isn’t reversible because it doesn’t make sense to transform a class name into an object.
    ///
    /// (TODO tabnav: TabNavigator { tabs: [TabItem { title: "Swift", content: [CodeListing { syntax: Some("swift"), code: ["class ClassNameTransformer: ValueTransformer {", "    override class func transformedValueClass() -> AnyClass {", "        return NSString.self", "    }", "    ", "    override class func allowsReverseTransformation() -> Bool {", "        return false", "    }", "    ", "    override func transformedValue(_ value: Any?) -> Any? {", "        return (value as AnyObject).className", "    }", "}", "", "extension NSValueTransformerName {", "    static let classNameTransformerName = NSValueTransformerName(rawValue: \"ClassNameTransformer\")", "}", "", "ValueTransformer.setValueTransformer(ClassNameTransformer(), forName: .classNameTransformerName)"], metadata: None }] }, TabItem { title: "Objective-C", content: [CodeListing { syntax: Some("objc"), code: ["@interface ClassNameTransformer: NSValueTransformer {}", "@end", "@implementation ClassNameTransformer", "+ (Class)transformedValueClass { ", "    return [NSString class]; ", "}", "+ (BOOL)allowsReverseTransformation { ", "    return NO; ", "}", "- (id)transformedValue:(id)value {", "    return (value == nil) ? nil : NSStringFromClass([value class]);", "}", "@end"], metadata: None }] }] })
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct NSValueTransformer;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for NSValueTransformer {}
);

impl NSValueTransformer {
    extern_methods!(
        #[cfg(feature = "NSString")]
        #[unsafe(method(setValueTransformer:forName:))]
        #[unsafe(method_family = none)]
        pub fn setValueTransformer_forName(
            transformer: Option<&NSValueTransformer>,
            name: &NSValueTransformerName,
        );

        #[cfg(feature = "NSString")]
        #[unsafe(method(valueTransformerForName:))]
        #[unsafe(method_family = none)]
        pub fn valueTransformerForName(
            name: &NSValueTransformerName,
        ) -> Option<Retained<NSValueTransformer>>;

        #[cfg(all(feature = "NSArray", feature = "NSString"))]
        #[unsafe(method(valueTransformerNames))]
        #[unsafe(method_family = none)]
        pub fn valueTransformerNames() -> Retained<NSArray<NSValueTransformerName>>;

        #[unsafe(method(transformedValueClass))]
        #[unsafe(method_family = none)]
        pub fn transformedValueClass() -> &'static AnyClass;

        #[unsafe(method(allowsReverseTransformation))]
        #[unsafe(method_family = none)]
        pub fn allowsReverseTransformation() -> bool;

        /// # Safety
        ///
        /// `value` should be of the correct type.
        #[unsafe(method(transformedValue:))]
        #[unsafe(method_family = none)]
        pub unsafe fn transformedValue(
            &self,
            value: Option<&AnyObject>,
        ) -> Option<Retained<AnyObject>>;

        /// # Safety
        ///
        /// `value` should be of the correct type.
        #[unsafe(method(reverseTransformedValue:))]
        #[unsafe(method_family = none)]
        pub unsafe fn reverseTransformedValue(
            &self,
            value: Option<&AnyObject>,
        ) -> Option<Retained<AnyObject>>;
    );
}

/// Methods declared on superclass `NSObject`.
impl NSValueTransformer {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub fn new() -> Retained<Self>;
    );
}

impl DefaultRetained for NSValueTransformer {
    #[inline]
    fn default_retained() -> Retained<Self> {
        Self::new()
    }
}

extern_class!(
    /// A value transformer that converts data to and from classes that support secure coding.
    ///
    /// ## Overview
    ///
    /// This class provides a default [`NSValueTransformer`](https://developer.apple.com/documentation/foundation/valuetransformer) implementation for secure decoding. This class attempts to decode data into the classes listed within [`allowedTopLevelClasses`](https://developer.apple.com/documentation/foundation/nssecureunarchivefromdatatransformer/allowedtoplevelclasses), which includes [`NSArray`](https://developer.apple.com/documentation/foundation/nsarray), [`NSDictionary`](https://developer.apple.com/documentation/foundation/nsdictionary), [`NSSet`](https://developer.apple.com/documentation/foundation/nsset), [`NSString`](https://developer.apple.com/documentation/foundation/nsstring), [`NSNumber`](https://developer.apple.com/documentation/foundation/nsnumber), [`NSDate`](https://developer.apple.com/documentation/foundation/nsdate), [`NSData`](https://developer.apple.com/documentation/foundation/nsdata), [`NSURL`](https://developer.apple.com/documentation/foundation/nsurl), [`NSUUID`](https://developer.apple.com/documentation/foundation/nsuuid), and [`NSNull`](https://developer.apple.com/documentation/foundation/nsnull).
    ///
    /// To archive or unarchive other classes that support [`NSSecureCoding`](https://developer.apple.com/documentation/foundation/nssecurecoding), create a subclass and override [`allowedTopLevelClasses`](https://developer.apple.com/documentation/foundation/nssecureunarchivefromdatatransformer/allowedtoplevelclasses) to list the classes to transform.
    ///
    /// To use [`NSSecureUnarchiveFromDataTransformer`](https://developer.apple.com/documentation/foundation/nssecureunarchivefromdatatransformer) with [`Core Data`](https://developer.apple.com/documentation/coredata), use the name of this class, or the name of a subclass you implement, as the name of the transformer for an entity’s attribute within a Core Data Model. If you use your own transformer subclass, register it with your app before intializing your persistent container with Core Data.
    ///
    /// For an example of subclassing [`NSSecureUnarchiveFromDataTransformer`](https://developer.apple.com/documentation/foundation/nssecureunarchivefromdatatransformer), see [Handling Different Data Types in Core Data](https://developer.apple.com/documentation/coredata/handling-different-data-types-in-core-data), which has a `ColorToDataTransformer` class that transforms [`UIColor`](https://developer.apple.com/documentation/uikit/uicolor) to [`NSData`](https://developer.apple.com/documentation/foundation/nsdata) and the reverse, to support archiving instances of [`UIColor`](https://developer.apple.com/documentation/uikit/uicolor).
    ///
    ///
    /// A value transformer which transforms values to and from
    /// `NSData`by archiving and unarchiving using secure coding.
    #[unsafe(super(NSValueTransformer, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct NSSecureUnarchiveFromDataTransformer;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for NSSecureUnarchiveFromDataTransformer {}
);

impl NSSecureUnarchiveFromDataTransformer {
    extern_methods!(
        #[cfg(feature = "NSArray")]
        /// The list of allowable classes which the top-level object in the archive must conform to on encoding and decoding.
        ///
        /// Returns the result of
        /// `+transformedValueClass`if not
        /// `Nil;`otherwise, currently returns
        /// `NSArray,``NSDictionary,``NSSet,``NSString,``NSNumber,``NSDate,``NSData,``NSURL,``NSUUID,`and
        /// `NSNull.`
        /// Can be overridden by subclasses to provide an expanded or different set of allowed transformation classes.
        #[unsafe(method(allowedTopLevelClasses))]
        #[unsafe(method_family = none)]
        pub fn allowedTopLevelClasses() -> Retained<NSArray<AnyClass>>;
    );
}

/// Methods declared on superclass `NSObject`.
impl NSSecureUnarchiveFromDataTransformer {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub fn new() -> Retained<Self>;
    );
}

impl DefaultRetained for NSSecureUnarchiveFromDataTransformer {
    #[inline]
    fn default_retained() -> Retained<Self> {
        Self::new()
    }
}
