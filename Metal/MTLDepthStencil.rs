//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

/// Options used to specify how a sample compare operation should be performed on a depth texture.
///
/// ## Overview
///
/// Whenever the comparison test passes, the incoming fragment is compared to the stored data at the specified location.
///
///
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct MTLCompareFunction(pub NSUInteger);
impl MTLCompareFunction {
    /// A new value never passes the comparison test.
    #[doc(alias = "MTLCompareFunctionNever")]
    pub const Never: Self = Self(0);
    /// A new value passes the comparison test if it is less than the existing value.
    #[doc(alias = "MTLCompareFunctionLess")]
    pub const Less: Self = Self(1);
    /// A new value passes the comparison test if it is equal to the existing value.
    #[doc(alias = "MTLCompareFunctionEqual")]
    pub const Equal: Self = Self(2);
    /// A new value passes the comparison test if it is less than or equal to the existing value.
    #[doc(alias = "MTLCompareFunctionLessEqual")]
    pub const LessEqual: Self = Self(3);
    /// A new value passes the comparison test if it is greater than the existing value.
    #[doc(alias = "MTLCompareFunctionGreater")]
    pub const Greater: Self = Self(4);
    /// A new value passes the comparison test if it is not equal to the existing value.
    #[doc(alias = "MTLCompareFunctionNotEqual")]
    pub const NotEqual: Self = Self(5);
    /// A new value passes the comparison test if it is greater than or equal to the existing value.
    #[doc(alias = "MTLCompareFunctionGreaterEqual")]
    pub const GreaterEqual: Self = Self(6);
    /// A new value always passes the comparison test.
    #[doc(alias = "MTLCompareFunctionAlways")]
    pub const Always: Self = Self(7);
}

unsafe impl Encode for MTLCompareFunction {
    const ENCODING: Encoding = NSUInteger::ENCODING;
}

unsafe impl RefEncode for MTLCompareFunction {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

/// The operation performed on a currently stored stencil value when a comparison test passes or fails.
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct MTLStencilOperation(pub NSUInteger);
impl MTLStencilOperation {
    /// Keep the current stencil value.
    #[doc(alias = "MTLStencilOperationKeep")]
    pub const Keep: Self = Self(0);
    /// Set the stencil value to zero.
    #[doc(alias = "MTLStencilOperationZero")]
    pub const Zero: Self = Self(1);
    /// Replace the stencil value with the stencil reference value, which is set by the [`setStencilReferenceValue:`](https://developer.apple.com/documentation/metal/mtlrendercommandencoder/setstencilreferencevalue(_:)) method of [`MTLRenderCommandEncoder`](https://developer.apple.com/documentation/metal/mtlrendercommandencoder).
    #[doc(alias = "MTLStencilOperationReplace")]
    pub const Replace: Self = Self(2);
    /// If the current stencil value is not the maximum representable value, increase the stencil value by one. Otherwise, if the current stencil value is the maximum representable value, do not change the stencil value.
    #[doc(alias = "MTLStencilOperationIncrementClamp")]
    pub const IncrementClamp: Self = Self(3);
    /// If the current stencil value is not zero, decrease the stencil value by one. Otherwise, if the current stencil value is zero, do not change the stencil value.
    #[doc(alias = "MTLStencilOperationDecrementClamp")]
    pub const DecrementClamp: Self = Self(4);
    /// Perform a logical bitwise invert operation on the current stencil value.
    #[doc(alias = "MTLStencilOperationInvert")]
    pub const Invert: Self = Self(5);
    /// If the current stencil value is not the maximum representable value, increase the stencil value by one. Otherwise, if the current stencil value is the maximum representable value, set the stencil value to zero.
    #[doc(alias = "MTLStencilOperationIncrementWrap")]
    pub const IncrementWrap: Self = Self(6);
    /// If the current stencil value is not zero, decrease the stencil value by one. Otherwise, if the current stencil value is zero, set the stencil value to the maximum representable value.
    #[doc(alias = "MTLStencilOperationDecrementWrap")]
    pub const DecrementWrap: Self = Self(7);
}

unsafe impl Encode for MTLStencilOperation {
    const ENCODING: Encoding = NSUInteger::ENCODING;
}

unsafe impl RefEncode for MTLStencilOperation {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

extern_class!(
    /// An object that defines the front-facing or back-facing stencil operations of a depth and stencil state object.
    ///
    /// ## Overview
    ///
    /// A stencil test is a comparison between a masked reference value and a masked value stored in a stencil attachment. (A value is _masked_ by performing a logical AND operation on it with the [`readMask`](https://developer.apple.com/documentation/metal/mtlstencildescriptor/readmask) value.) The [`MTLStencilDescriptor`](https://developer.apple.com/documentation/metal/mtlstencildescriptor) object defines how to update the contents of the stencil attachment, based on the results of the stencil test and the depth test.
    ///
    /// The [`stencilCompareFunction`](https://developer.apple.com/documentation/metal/mtlstencildescriptor/stencilcomparefunction) property defines the stencil test. The [`stencilFailureOperation`](https://developer.apple.com/documentation/metal/mtlstencildescriptor/stencilfailureoperation), [`depthFailureOperation`](https://developer.apple.com/documentation/metal/mtlstencildescriptor/depthfailureoperation), and [`depthStencilPassOperation`](https://developer.apple.com/documentation/metal/mtlstencildescriptor/depthstencilpassoperation) properties specify what to do to a stencil value stored in the stencil attachment for three different test outcomes: if the stencil test fails, if the stencil test passes and the depth test fails, or if both stencil and depth tests succeed, respectively. [`writeMask`](https://developer.apple.com/documentation/metal/mtlstencildescriptor/writemask) determines which stencil bits can be modified as the result of a stencil operation.
    ///
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct MTLStencilDescriptor;
);

extern_conformance!(
    unsafe impl NSCopying for MTLStencilDescriptor {}
);

unsafe impl CopyingHelper for MTLStencilDescriptor {
    type Result = Self;
}

extern_conformance!(
    unsafe impl NSObjectProtocol for MTLStencilDescriptor {}
);

impl MTLStencilDescriptor {
    extern_methods!(
        #[unsafe(method(stencilCompareFunction))]
        #[unsafe(method_family = none)]
        pub fn stencilCompareFunction(&self) -> MTLCompareFunction;

        /// Setter for [`stencilCompareFunction`][Self::stencilCompareFunction].
        #[unsafe(method(setStencilCompareFunction:))]
        #[unsafe(method_family = none)]
        pub fn setStencilCompareFunction(&self, stencil_compare_function: MTLCompareFunction);

        /// Stencil is tested first.  stencilFailureOperation declares how the stencil buffer is updated when the stencil test fails.
        #[unsafe(method(stencilFailureOperation))]
        #[unsafe(method_family = none)]
        pub fn stencilFailureOperation(&self) -> MTLStencilOperation;

        /// Setter for [`stencilFailureOperation`][Self::stencilFailureOperation].
        #[unsafe(method(setStencilFailureOperation:))]
        #[unsafe(method_family = none)]
        pub fn setStencilFailureOperation(&self, stencil_failure_operation: MTLStencilOperation);

        /// If stencil passes, depth is tested next.  Declare what happens when the depth test fails.
        #[unsafe(method(depthFailureOperation))]
        #[unsafe(method_family = none)]
        pub fn depthFailureOperation(&self) -> MTLStencilOperation;

        /// Setter for [`depthFailureOperation`][Self::depthFailureOperation].
        #[unsafe(method(setDepthFailureOperation:))]
        #[unsafe(method_family = none)]
        pub fn setDepthFailureOperation(&self, depth_failure_operation: MTLStencilOperation);

        /// If both the stencil and depth tests pass, declare how the stencil buffer is updated.
        #[unsafe(method(depthStencilPassOperation))]
        #[unsafe(method_family = none)]
        pub fn depthStencilPassOperation(&self) -> MTLStencilOperation;

        /// Setter for [`depthStencilPassOperation`][Self::depthStencilPassOperation].
        #[unsafe(method(setDepthStencilPassOperation:))]
        #[unsafe(method_family = none)]
        pub fn setDepthStencilPassOperation(
            &self,
            depth_stencil_pass_operation: MTLStencilOperation,
        );

        #[unsafe(method(readMask))]
        #[unsafe(method_family = none)]
        pub fn readMask(&self) -> u32;

        /// Setter for [`readMask`][Self::readMask].
        #[unsafe(method(setReadMask:))]
        #[unsafe(method_family = none)]
        pub fn setReadMask(&self, read_mask: u32);

        #[unsafe(method(writeMask))]
        #[unsafe(method_family = none)]
        pub fn writeMask(&self) -> u32;

        /// Setter for [`writeMask`][Self::writeMask].
        #[unsafe(method(setWriteMask:))]
        #[unsafe(method_family = none)]
        pub fn setWriteMask(&self, write_mask: u32);
    );
}

/// Methods declared on superclass `NSObject`.
impl MTLStencilDescriptor {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub fn new() -> Retained<Self>;
    );
}

impl DefaultRetained for MTLStencilDescriptor {
    #[inline]
    fn default_retained() -> Retained<Self> {
        Self::new()
    }
}

extern_class!(
    /// An instance that configures new [`MTLDepthStencilState`](https://developer.apple.com/documentation/metal/mtldepthstencilstate) instances.
    ///
    /// ## Overview
    ///
    /// An [`MTLDepthStencilDescriptor`](https://developer.apple.com/documentation/metal/mtldepthstencildescriptor) instance is used to define a specific configuration of the depth and stencil stages of a rendering pipeline. To create an [`MTLDepthStencilDescriptor`](https://developer.apple.com/documentation/metal/mtldepthstencildescriptor) instance, use standard allocation and initialization techniques.
    ///
    /// To enable writing the depth value to a depth attachment, set the depthWriteEnabled property to [`true`](https://developer.apple.com/documentation/swift/true).
    ///
    /// The depthCompareFunction property specifies how the depth test is performed. If a fragmentâ€™s depth value fails the depth test, the fragment is discarded. [`MTLCompareFunctionLess`](https://developer.apple.com/documentation/metal/mtlcomparefunction/less) is a commonly used value for [`depthCompareFunction`](https://developer.apple.com/documentation/metal/mtldepthstencildescriptor/depthcomparefunction), because fragment values that are farther away from the viewer than the pixel depth value (a previously written fragment) fail the depth test and are considered occluded by the earlier depth value.
    ///
    /// The [`frontFaceStencil`](https://developer.apple.com/documentation/metal/mtldepthstencildescriptor/frontfacestencil) and [`backFaceStencil`](https://developer.apple.com/documentation/metal/mtldepthstencildescriptor/backfacestencil) properties define two independent stencil descriptors: one for front-facing primitives and the other for back-facing primitives, respectively. Both properties can be set to the same MTLStencilDescriptor instance.
    ///
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct MTLDepthStencilDescriptor;
);

extern_conformance!(
    unsafe impl NSCopying for MTLDepthStencilDescriptor {}
);

unsafe impl CopyingHelper for MTLDepthStencilDescriptor {
    type Result = Self;
}

extern_conformance!(
    unsafe impl NSObjectProtocol for MTLDepthStencilDescriptor {}
);

impl MTLDepthStencilDescriptor {
    extern_methods!(
        #[unsafe(method(depthCompareFunction))]
        #[unsafe(method_family = none)]
        pub fn depthCompareFunction(&self) -> MTLCompareFunction;

        /// Setter for [`depthCompareFunction`][Self::depthCompareFunction].
        #[unsafe(method(setDepthCompareFunction:))]
        #[unsafe(method_family = none)]
        pub fn setDepthCompareFunction(&self, depth_compare_function: MTLCompareFunction);

        #[unsafe(method(isDepthWriteEnabled))]
        #[unsafe(method_family = none)]
        pub fn isDepthWriteEnabled(&self) -> bool;

        /// Setter for [`isDepthWriteEnabled`][Self::isDepthWriteEnabled].
        #[unsafe(method(setDepthWriteEnabled:))]
        #[unsafe(method_family = none)]
        pub fn setDepthWriteEnabled(&self, depth_write_enabled: bool);

        #[unsafe(method(frontFaceStencil))]
        #[unsafe(method_family = none)]
        pub fn frontFaceStencil(&self) -> Retained<MTLStencilDescriptor>;

        /// Setter for [`frontFaceStencil`][Self::frontFaceStencil].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        #[unsafe(method(setFrontFaceStencil:))]
        #[unsafe(method_family = none)]
        pub fn setFrontFaceStencil(&self, front_face_stencil: Option<&MTLStencilDescriptor>);

        #[unsafe(method(backFaceStencil))]
        #[unsafe(method_family = none)]
        pub fn backFaceStencil(&self) -> Retained<MTLStencilDescriptor>;

        /// Setter for [`backFaceStencil`][Self::backFaceStencil].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        #[unsafe(method(setBackFaceStencil:))]
        #[unsafe(method_family = none)]
        pub fn setBackFaceStencil(&self, back_face_stencil: Option<&MTLStencilDescriptor>);

        /// A string to help identify the created object.
        #[unsafe(method(label))]
        #[unsafe(method_family = none)]
        pub fn label(&self) -> Option<Retained<NSString>>;

        /// Setter for [`label`][Self::label].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        #[unsafe(method(setLabel:))]
        #[unsafe(method_family = none)]
        pub fn setLabel(&self, label: Option<&NSString>);
    );
}

/// Methods declared on superclass `NSObject`.
impl MTLDepthStencilDescriptor {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub fn new() -> Retained<Self>;
    );
}

impl DefaultRetained for MTLDepthStencilDescriptor {
    #[inline]
    fn default_retained() -> Retained<Self> {
        Self::new()
    }
}

extern_protocol!(
    /// A depth and stencil state instance that specifies the depth and stencil configuration and operations used in a render pass.
    ///
    /// ## Overview
    ///
    /// The [`MTLDepthStencilState`](https://developer.apple.com/documentation/metal/mtldepthstencilstate) protocol defines the interface for a lightweight instance used to encode how a graphics rendering pass should perform depth and stencil operations. The [`MTLRenderCommandEncoder`](https://developer.apple.com/documentation/metal/mtlrendercommandencoder) uses an [`MTLDepthStencilState`](https://developer.apple.com/documentation/metal/mtldepthstencilstate) instance to set the depth and stencil state for a rendering pass.
    ///
    /// Do not use standard allocation and initialization techniques to create an [`MTLDepthStencilState`](https://developer.apple.com/documentation/metal/mtldepthstencilstate) instance. To create an [`MTLDepthStencilState`](https://developer.apple.com/documentation/metal/mtldepthstencilstate) instance:
    ///
    /// 1. Create an [`MTLDepthStencilDescriptor`](https://developer.apple.com/documentation/metal/mtldepthstencildescriptor) instance that defines the operations you want the rendering pass to use.
    ///
    /// 2. Then call the [`newDepthStencilStateWithDescriptor:`](https://developer.apple.com/documentation/metal/mtldevice/makedepthstencilstate(descriptor:)) method of [`MTLDevice`](https://developer.apple.com/documentation/metal/mtldevice) to create an [`MTLDepthStencilState`](https://developer.apple.com/documentation/metal/mtldepthstencilstate) instance.
    ///
    /// Typically, you create [`MTLDepthStencilState`](https://developer.apple.com/documentation/metal/mtldepthstencilstate) instances when your app is first initialized and then reuse them throughout the lifetime of your app.
    ///
    ///
    pub unsafe trait MTLDepthStencilState: NSObjectProtocol + Send + Sync {
        /// A string to help identify this object.
        #[unsafe(method(label))]
        #[unsafe(method_family = none)]
        fn label(&self) -> Option<Retained<NSString>>;

        #[cfg(feature = "MTLDevice")]
        /// The device this resource was created against.  This resource can only be used with this device.
        #[unsafe(method(device))]
        #[unsafe(method_family = none)]
        fn device(&self) -> Retained<ProtocolObject<dyn MTLDevice>>;

        #[cfg(feature = "MTLTypes")]
        /// Handle of the GPU resource suitable for storing in an Argument Buffer
        #[unsafe(method(gpuResourceID))]
        #[unsafe(method_family = none)]
        fn gpuResourceID(&self) -> MTLResourceID;
    }
);
