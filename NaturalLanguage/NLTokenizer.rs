//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

/// Constants representing linguistic units.
///
/// ## Overview
///
/// You use these constants with these methods:
///
/// - [`availableTagSchemesForUnit:language:`](https://developer.apple.com/documentation/naturallanguage/nltagger/availabletagschemes(for:language:))
///
/// - [`tagsInRange:unit:scheme:options:tokenRanges:`](https://developer.apple.com/documentation/naturallanguage/nltagger/tagsinrange:unit:scheme:options:tokenranges:)
///
/// - [`enumerateTagsInRange:unit:scheme:options:usingBlock:`](https://developer.apple.com/documentation/naturallanguage/nltagger/enumeratetagsinrange:unit:scheme:options:usingblock:)
///
///
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct NLTokenUnit(pub NSInteger);
impl NLTokenUnit {
    /// An individual word.
    ///
    /// ## Discussion
    ///
    /// Use this linguistic unit to tokenize text into individual words, like in the following example:
    ///
    /// ```swift
    /// let text = "This is a sentence containing several words. ðŸ˜€"
    ///
    /// let tokenizer = NLTokenizer(unit: .word)
    /// tokenizer.string = text
    ///
    /// let range = text.startIndex..<text.endIndex
    ///
    /// let tokenArray = tokenizer.tokens(for: range)
    /// print("Number of tokens: \(tokenArray.count)")
    ///
    /// tokenizer.enumerateTokens(in: range) { tokenRange, _ in
    ///     print(text[tokenRange])
    ///     return true
    /// }
    /// ```
    ///
    /// For more information, see [Tokenizing natural language text](https://developer.apple.com/documentation/naturallanguage/tokenizing-natural-language-text).
    ///
    ///
    #[doc(alias = "NLTokenUnitWord")]
    pub const Word: Self = Self(0);
    /// An individual sentence.
    ///
    /// ## Discussion
    ///
    /// Use this linguistic unit to tokenize text into sentences, like in the following example:
    ///
    /// ```swift
    /// let text = "This is a sentence. This is another sentence."
    ///     
    /// let tokenizer = NLTokenizer(unit: .sentence)
    /// tokenizer.string = text
    ///     
    /// let range = text.startIndex..<text.endIndex
    ///     
    /// let tokenArray = tokenizer.tokens(for: range)
    /// print("Number of tokens: \(tokenArray.count)")
    ///     
    /// tokenizer.enumerateTokens(in: range) { tokenRange, _ in
    ///     print(text[tokenRange])
    ///     return true
    /// }
    /// ```
    ///
    /// For more information, see [Tokenizing natural language text](https://developer.apple.com/documentation/naturallanguage/tokenizing-natural-language-text).
    ///
    ///
    #[doc(alias = "NLTokenUnitSentence")]
    pub const Sentence: Self = Self(1);
    /// An individual paragraph.
    ///
    /// ## Discussion
    ///
    /// Use this linguistic unit to tokenize text into paragraphs, like in the following example:
    ///
    /// ```swift
    /// let text = "This is a sentence. This is another sentence.\nThis is a second paragraph."
    ///
    /// let tokenizer = NLTokenizer(unit: .paragraph)
    /// tokenizer.string = text
    ///
    /// let range = text.startIndex..<text.endIndex
    ///
    /// let tokenArray = tokenizer.tokens(for: range)
    /// print("Number of tokens: \(tokenArray.count)")
    ///
    /// tokenizer.enumerateTokens(in: range) { tokenRange, _ in
    ///     print(text[tokenRange])
    ///     return true
    /// }
    /// ```
    ///
    /// For more information, see [Tokenizing natural language text](https://developer.apple.com/documentation/naturallanguage/tokenizing-natural-language-text).
    ///
    ///
    #[doc(alias = "NLTokenUnitParagraph")]
    pub const Paragraph: Self = Self(2);
    /// The document in its entirety.
    #[doc(alias = "NLTokenUnitDocument")]
    pub const Document: Self = Self(3);
}

unsafe impl Encode for NLTokenUnit {
    const ENCODING: Encoding = NSInteger::ENCODING;
}

unsafe impl RefEncode for NLTokenUnit {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

/// Hints about the contents of the string for the tokenizer.
// NS_OPTIONS
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct NLTokenizerAttributes(pub NSUInteger);
bitflags::bitflags! {
    impl NLTokenizerAttributes: NSUInteger {
/// The string contains numbers.
        #[doc(alias = "NLTokenizerAttributeNumeric")]
        const Numeric = 1<<0;
/// The string contains symbols.
        #[doc(alias = "NLTokenizerAttributeSymbolic")]
        const Symbolic = 1<<1;
/// The string contains emoji.
        #[doc(alias = "NLTokenizerAttributeEmoji")]
        const Emoji = 1<<2;
    }
}

unsafe impl Encode for NLTokenizerAttributes {
    const ENCODING: Encoding = NSUInteger::ENCODING;
}

unsafe impl RefEncode for NLTokenizerAttributes {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

extern_class!(
    /// A tokenizer that segments natural language text into semantic units.
    ///
    /// ## Overview
    ///
    /// [`NLTokenizer`](https://developer.apple.com/documentation/naturallanguage/nltokenizer) creates individual units from natural language text. Define the desired unit (word, sentence, paragraph, or document as declared in the [`NLTokenUnit`](https://developer.apple.com/documentation/naturallanguage/nltokenunit)) for tokenization, and then assign a string to tokenize. The [`enumerateTokensInRange:usingBlock:`](https://developer.apple.com/documentation/naturallanguage/nltokenizer/enumeratetokensinrange:usingblock:) method provides the ranges of the tokens in the string based on the tokenization unit.
    ///
    /// For more information, see [Tokenizing natural language text](https://developer.apple.com/documentation/naturallanguage/tokenizing-natural-language-text).
    ///
    /// <div class="warning">
    ///
    /// ### Important
    ///  Use an [`NLTokenizer`](https://developer.apple.com/documentation/naturallanguage/nltokenizer) instance on one thread or one dispatch queue at a time. You do this by either serializing method calls to the tokenizer, or by creating a separate tokenizer instance for each thread and dispatch queue.
    ///
    ///
    ///
    /// </div>
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct NLTokenizer;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for NLTokenizer {}
);

impl NLTokenizer {
    extern_methods!(
        #[unsafe(method(initWithUnit:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithUnit(this: Allocated<Self>, unit: NLTokenUnit) -> Retained<Self>;

        #[unsafe(method(unit))]
        #[unsafe(method_family = none)]
        pub unsafe fn unit(&self) -> NLTokenUnit;

        #[unsafe(method(string))]
        #[unsafe(method_family = none)]
        pub unsafe fn string(&self) -> Option<Retained<NSString>>;

        /// Setter for [`string`][Self::string].
        #[unsafe(method(setString:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setString(&self, string: Option<&NSString>);

        #[cfg(feature = "NLLanguage")]
        #[unsafe(method(setLanguage:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setLanguage(&self, language: &NLLanguage);

        #[unsafe(method(tokenRangeAtIndex:))]
        #[unsafe(method_family = none)]
        pub unsafe fn tokenRangeAtIndex(&self, character_index: NSUInteger) -> NSRange;

        #[unsafe(method(tokenRangeForRange:))]
        #[unsafe(method_family = none)]
        pub unsafe fn tokenRangeForRange(&self, range: NSRange) -> NSRange;

        #[unsafe(method(tokensForRange:))]
        #[unsafe(method_family = none)]
        pub unsafe fn tokensForRange(&self, range: NSRange) -> Retained<NSArray<NSValue>>;

        #[cfg(feature = "block2")]
        #[unsafe(method(enumerateTokensInRange:usingBlock:))]
        #[unsafe(method_family = none)]
        pub unsafe fn enumerateTokensInRange_usingBlock(
            &self,
            range: NSRange,
            block: &block2::DynBlock<dyn Fn(NSRange, NLTokenizerAttributes, NonNull<Bool>) + '_>,
        );
    );
}

/// Methods declared on superclass `NSObject`.
impl NLTokenizer {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}
