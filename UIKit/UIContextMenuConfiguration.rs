//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

/// Constants that define the ordering strategy for menu elements in a context menu.
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct UIContextMenuConfigurationElementOrder(pub NSInteger);
impl UIContextMenuConfigurationElementOrder {
    /// A constant that allows the system to choose an ordering strategy according to the current context.
    #[doc(alias = "UIContextMenuConfigurationElementOrderAutomatic")]
    pub const Automatic: Self = Self(0);
    /// A constant that displays menu elements according to their priority.
    ///
    /// ## Discussion
    ///
    /// This ordering strategy displays the first menu element in the [`UIMenu`](https://developer.apple.com/documentation/uikit/uimenu) closest to the location of the user interaction.
    ///
    ///
    /// Allows the system to choose the appropriate ordering strategy for the current context.
    #[doc(alias = "UIContextMenuConfigurationElementOrderPriority")]
    pub const Priority: Self = Self(1);
    /// A constant that displays menu elements in a fixed order.
    ///
    /// ## Discussion
    ///
    /// This ordering strategy displays the menu elements in the order they appear in the [`children`](https://developer.apple.com/documentation/uikit/uimenu/children) array of the [`UIMenu`](https://developer.apple.com/documentation/uikit/uimenu).
    ///
    ///
    /// Order menu elements according to priority. Keeping the first element in the UIMenu closest to user's interaction point.
    #[doc(alias = "UIContextMenuConfigurationElementOrderFixed")]
    pub const Fixed: Self = Self(2);
}

unsafe impl Encode for UIContextMenuConfigurationElementOrder {
    const ENCODING: Encoding = NSInteger::ENCODING;
}

unsafe impl RefEncode for UIContextMenuConfigurationElementOrder {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

/// Returns an action-based contextual menu, optionally incorporating the system-suggested actions.
///
/// Parameters:
/// - suggestedActions: Suggested actions for you to include in your menu. UIKit collects these actions from responders in the current responder chain. You are not required to include the actions in your menu.
///
///
/// ## Return Value
///
/// The menu object containing the actions for the user to select.
///
///
///
/// ## Discussion
///
/// Use this handler to create [`UIAction`](https://developer.apple.com/documentation/uikit/uiaction) objects representing the actions the user may choose from your menu. To organize groups of actions hierarchically, create a [`UIMenu`](https://developer.apple.com/documentation/uikit/uimenu) object to represent a submenu and add nested actions to it. Finally, build your top-level [`UIMenu`](https://developer.apple.com/documentation/uikit/uimenu) object from the actions and submenus you created, and return that menu object from your handler.
///
///
/// Return a UIAction-based UIMenu describing the desired action hierarchy.
///
///
/// Parameter `suggestedActions`: An array of suggested actions gathered from the UIResponder chain. You may choose to include
/// some of these actions in the hierarchy returned from this block to display them in the resulting menu.
#[cfg(all(feature = "UIMenu", feature = "UIMenuElement", feature = "block2"))]
pub type UIContextMenuActionProvider =
    *mut block2::DynBlock<dyn Fn(NonNull<NSArray<UIMenuElement>>) -> *mut UIMenu>;

/// Returns the custom view controller to use when previewing your content.
///
/// ## Return Value
///
/// The view controller to display in place of the systemâ€™s standard view controller. If you want UIKit to present your content using a default view controller, return `nil`.
///
///
///
/// ## Discussion
///
/// Use this handler to load or create your custom view controller, configure it with your content, and return it to UIKit.
///
///
/// Return a UIViewController to be displayed as this menu's preview component.
#[cfg(all(
    feature = "UIResponder",
    feature = "UIViewController",
    feature = "block2"
))]
pub type UIContextMenuContentPreviewProvider =
    *mut block2::DynBlock<dyn Fn() -> *mut UIViewController>;

extern_class!(
    /// An object containing the configuration details for the contextual menu.
    ///
    /// ## Overview
    ///
    /// Before displaying a contextual menu, the system asks your [`UIContextMenuInteractionDelegate`](https://developer.apple.com/documentation/uikit/uicontextmenuinteractiondelegate) to provide a [`UIContextMenuConfiguration`](https://developer.apple.com/documentation/uikit/uicontextmenuconfiguration) object with details about that menu. In your [`contextMenuInteraction:configurationForMenuAtLocation:`](https://developer.apple.com/documentation/uikit/uicontextmenuinteractiondelegate/contextmenuinteraction(_:configurationformenuatlocation:)) method, use the location parameter to determine where the interaction occurred, and use the content at that location to configure your contextual menu and view controller. Provide custom blocks to generate:
    ///
    /// - The contextual menu with the actions for your content.
    ///
    /// - An optional view controller to use when displaying your content.
    ///
    /// If you specify a default object without any custom handler blocks, the system displays a default preview interface with no menu.
    ///
    ///
    #[unsafe(super(NSObject))]
    #[thread_kind = MainThreadOnly]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct UIContextMenuConfiguration;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for UIContextMenuConfiguration {}
);

impl UIContextMenuConfiguration {
    extern_methods!(
        /// This configuration's identifier. When representing multiple items in your app, this identifier
        /// corresponds to the primary item (i.e. the one with which the user interacted when invoking the menu).
        #[unsafe(method(identifier))]
        #[unsafe(method_family = none)]
        pub fn identifier(&self) -> Retained<ProtocolObject<dyn NSCopying>>;

        /// When this menu acts on multiple items, you may include the identifiers of secondary items to display a multi-item menu.
        #[unsafe(method(secondaryItemIdentifiers))]
        #[unsafe(method_family = none)]
        pub fn secondaryItemIdentifiers(&self) -> Retained<NSSet<ProtocolObject<dyn NSCopying>>>;

        /// Setter for [`secondaryItemIdentifiers`][Self::secondaryItemIdentifiers].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        ///
        /// # Safety
        ///
        /// `secondary_item_identifiers` generic should be of the correct type.
        #[unsafe(method(setSecondaryItemIdentifiers:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setSecondaryItemIdentifiers(
            &self,
            secondary_item_identifiers: &NSSet<ProtocolObject<dyn NSCopying>>,
        );

        /// Number of items on which this menu acts. Used to badge a multi-item menu's preview stack.
        /// When unset, this value is determined automatically by the system. Values lower than 2 hide the badge.
        #[unsafe(method(badgeCount))]
        #[unsafe(method_family = none)]
        pub fn badgeCount(&self) -> NSInteger;

        /// Setter for [`badgeCount`][Self::badgeCount].
        #[unsafe(method(setBadgeCount:))]
        #[unsafe(method_family = none)]
        pub fn setBadgeCount(&self, badge_count: NSInteger);

        /// Preferred menu element ordering strategy for this menu.
        #[unsafe(method(preferredMenuElementOrder))]
        #[unsafe(method_family = none)]
        pub fn preferredMenuElementOrder(&self) -> UIContextMenuConfigurationElementOrder;

        /// Setter for [`preferredMenuElementOrder`][Self::preferredMenuElementOrder].
        #[unsafe(method(setPreferredMenuElementOrder:))]
        #[unsafe(method_family = none)]
        pub fn setPreferredMenuElementOrder(
            &self,
            preferred_menu_element_order: UIContextMenuConfigurationElementOrder,
        );

        #[cfg(all(
            feature = "UIMenu",
            feature = "UIMenuElement",
            feature = "UIResponder",
            feature = "UIViewController",
            feature = "block2"
        ))]
        /// Returns a UIContextMenuConfiguration.
        ///
        ///
        /// Parameter `identifier`: Optional unique identifier. If omitted, an NSUUID will be generated. May be used to
        /// identify this configuration throughout the interaction's lifecycle.
        ///
        /// Parameter `previewProvider`: Optional preview view controller provider block, called when the menu is about to be presented.
        ///
        /// Parameter `actionProvider`: Optional action provider block, called when the menu is about to be presented.
        ///
        /// # Safety
        ///
        /// - `identifier` should be of the correct type.
        /// - `preview_provider` must be a valid pointer or null.
        /// - `action_provider` must be a valid pointer or null.
        #[unsafe(method(configurationWithIdentifier:previewProvider:actionProvider:))]
        #[unsafe(method_family = none)]
        pub unsafe fn configurationWithIdentifier_previewProvider_actionProvider(
            identifier: Option<&ProtocolObject<dyn NSCopying>>,
            preview_provider: UIContextMenuContentPreviewProvider,
            action_provider: UIContextMenuActionProvider,
            mtm: MainThreadMarker,
        ) -> Retained<Self>;
    );
}

/// Methods declared on superclass `NSObject`.
impl UIContextMenuConfiguration {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub fn new(mtm: MainThreadMarker) -> Retained<Self>;
    );
}
