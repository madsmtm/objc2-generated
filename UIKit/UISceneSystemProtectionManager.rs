//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

extern "C" {
    /// A notification posted when the system-protection attributes of a scene change.
    ///
    /// ## Discussion
    ///
    /// The object of the notification is the scene for which protection attributes changed.
    ///
    ///
    /// A notification posted when the system protection attributes of a scene change. The object of
    /// the notification is the scene whose protection attributes changed.
    pub static UISceneSystemProtectionDidChangeNotification: &'static NSNotificationName;
}

extern_class!(
    /// A class that represents the status of system protection for the scene.
    ///
    /// ## Overview
    ///
    /// Use this class to determine if the system protects a scene, such as by locking the app and requiring authentication with Face ID or Touch ID. You may want to disable your own app’s privacy shielding if the system already requires authentication.
    ///
    /// The following example shows how a scene can use the manager’s [`userAuthenticationEnabled`](https://developer.apple.com/documentation/uikit/uiscene/systemprotectionmanager-swift.class/isuserauthenticationenabled) property to decide whether to provide its own UI shielding. When the scene becomes active, the app shows an authentication challenge if the system doesn’t already provide protection. When the scene resigns the active role, the app provides its own shielding only if the system isn’t already doing so.
    ///
    /// (TODO tabnav: TabNavigator { tabs: [TabItem { title: "Swift", content: [CodeListing { syntax: Some("swift"), code: ["func sceneDidBecomeActive(_ scene: UIScene) {", "    guard scene.systemProtectionManager?.isUserAuthenticationEnabled ?? false else {", "        // Show custom authentication.", "    }", "}", "", "func sceneWillResignActive(_ scene: UIScene) {", "    guard scene.systemProtectionManager?.isUserAuthenticationEnabled ?? false else {", "        // Show custom shield to hide sensitive information.", "    }", "}", ""], metadata: None }] }, TabItem { title: "Objective-C", content: [CodeListing { syntax: Some("objc"), code: ["- (void)sceneDidBecomeActive:(UIScene *)scene {", "    if ( scene.systemProtectionManager.userAuthenticationEnabled ) {", "        // Don't show custom authentication.", "    } else {", "        // Show custom shield to hide sensitive information.", "    }", "}", "", "- (void)sceneWillResignActive:(UIScene *)scene {", "    if ( scene.systemProtectionManager.userAuthenticationEnabled ) {", "        // Don't show custom shield; system already does so.", "    } else {", "        // Show custom shield to hide sensitive information.", "    }", "}"], metadata: None }] }] })
    ///
    #[unsafe(super(NSObject))]
    #[thread_kind = MainThreadOnly]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct UISceneSystemProtectionManager;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for UISceneSystemProtectionManager {}
);

impl UISceneSystemProtectionManager {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new(mtm: MainThreadMarker) -> Retained<Self>;

        /// `YES`if the system requires requires device owner authentication challenges to reveal the
        /// content of the scene associated with this manager, else
        /// `NO`. Note in particular that this
        /// is
        /// _not_the instantaneous state of whether any system-provided shield is covering the UI at
        /// the moment, but whether protection is enabled in general.
        #[unsafe(method(isUserAuthenticationEnabled))]
        #[unsafe(method_family = none)]
        pub fn isUserAuthenticationEnabled(&self) -> bool;
    );
}

/// SystemProtection.
#[cfg(all(feature = "UIResponder", feature = "UIScene"))]
impl UIScene {
    extern_methods!(
        #[unsafe(method(systemProtectionManager))]
        #[unsafe(method_family = none)]
        pub fn systemProtectionManager(&self) -> Option<Retained<UISceneSystemProtectionManager>>;
    );
}
