//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
#[cfg(feature = "objc2-core-foundation")]
use objc2_core_foundation::*;

use crate::*;

/// Constants that indicate whether a band selection interaction object is inactive or currently tracking an interaction.
///
/// ## Overview
///
/// Use the [`UIBandSelectionInteractionState`](https://developer.apple.com/documentation/uikit/uibandselectioninteraction/state-swift.enum) constants in the handler of a [`UIBandSelectionInteraction`](https://developer.apple.com/documentation/uikit/uibandselectioninteraction) object to determine the current state of the interaction. When the interaction object is idle, it sets the state to [`UIBandSelectionInteractionStatePossible`](https://developer.apple.com/documentation/uikit/uibandselectioninteraction/state-swift.enum/possible). After the interaction starts, the state changes to other values to reflect the progress toward the completion of that interaction.
///
///
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct UIBandSelectionInteractionState(pub NSInteger);
impl UIBandSelectionInteractionState {
    /// A state that indicates the interaction object is ready to start a new interaction.
    ///
    /// ## Discussion
    ///
    /// A [`UIBandSelectionInteraction`](https://developer.apple.com/documentation/uikit/uibandselectioninteraction) object in this state is waiting for events to occur that start the interaction. When an interaction concludes, the interaction returns to this state until a new interaction begins.
    ///
    ///
    #[doc(alias = "UIBandSelectionInteractionStatePossible")]
    pub const Possible: Self = Self(0);
    /// A state that indicates the interaction object began a new interaction.
    ///
    /// ## Discussion
    ///
    /// The interaction object enters this state once at the beginning of each interaction, and subsequently transitions to the [`UIBandSelectionInteractionStateSelecting`](https://developer.apple.com/documentation/uikit/uibandselectioninteraction/state-swift.enum/selecting) or [`UIBandSelectionInteractionStateEnded`](https://developer.apple.com/documentation/uikit/uibandselectioninteraction/state-swift.enum/ended) state. When in this state, perform any one-time tasks that you need to manage your app’s state. For example, you might prepare your view to start the selection of items.
    ///
    ///
    #[doc(alias = "UIBandSelectionInteractionStateBegan")]
    pub const Began: Self = Self(1);
    /// A state that indicates the interaction object is tracking changes to the selection rectangle.
    ///
    /// ## Discussion
    ///
    /// Use this state to select items that intersect the current selection rectangle.
    ///
    ///
    #[doc(alias = "UIBandSelectionInteractionStateSelecting")]
    pub const Selecting: Self = Self(2);
    /// A state that indicates the current interaction ended.
    ///
    /// ## Discussion
    ///
    /// Use this state to finalize the interaction. For example, you might finalize the selection of items in your view.
    ///
    ///
    #[doc(alias = "UIBandSelectionInteractionStateEnded")]
    pub const Ended: Self = Self(3);
}

unsafe impl Encode for UIBandSelectionInteractionState {
    const ENCODING: Encoding = NSInteger::ENCODING;
}

unsafe impl RefEncode for UIBandSelectionInteractionState {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

extern_class!(
    /// An object that tracks the selection of multiple items using pointer-based input.
    ///
    /// ## Overview
    ///
    /// Attach a [`UIBandSelectionInteraction`](https://developer.apple.com/documentation/uikit/uibandselectioninteraction) object to a custom view that contains one or more selectable items. On devices with pointer-based input, such as an iPad with a Magic Keyboard, this interaction object displays a visible selection rectangle over the view when someone clicks and drags on it. As the pointer moves, the selection rectangle expands or contracts to match. Use your interaction object’s handler to select items based on the current selection rectangle.
    ///
    /// You create a band selection interaction object and add it to a view that contains one or more selectable items. When you create the interaction object, specify a handler to process changes to the selection rectangle. In the example, the custom view defines an `itemsInRect` method to get the items that intersect the selection rectangle. It also defines custom methods to modify the selection and commit the changes. If someone presses the Shift key at the start of the interaction, the code extends the current selection instead of replacing it.
    ///
    /// ```swift
    /// // Create a UIBandSelectionInteraction object.
    /// let bandSelectionInteraction = UIBandSelectionInteraction { [weak self] interaction in
    ///     guard let strongSelf = self else { return }
    ///     
    ///     switch interaction.state {
    ///     case .began:
    ///         // Prepare the view to handle selection changes.
    ///         strongSelf.selectionSession.begin()
    ///     case .selecting:
    ///         // Get the custom view items that intersect the selection rectangle.
    ///         let newItems = strongSelf.itemsInRect(interaction.selectionRect)
    ///         
    ///         if interaction.initialModifierFlags == .shift {
    ///             // If Shift is held, extend the view's current selection...
    ///             strongSelf.selectionSession.append(newItems)
    ///         } else {
    ///             // ...otherwise, replace the view's selection with the new items.
    ///             strongSelf.selectionSession.setSelection(newItems)
    ///         }
    ///     case .ended:
    ///         // When the interaction ends, commit the selection changes.
    ///         strongSelf.selectionSession.commit()
    ///     }
    /// }
    ///     
    /// // Add the interaction object to the view.
    /// view.addInteraction(bandSelectionInteraction)
    /// ```
    ///
    /// <div class="warning">
    ///
    /// ### Note
    ///  You don’t need to add this interaction object to a collection view to handle the selection of items. [`UICollectionView`](https://developer.apple.com/documentation/uikit/uicollectionview) already supports its own multiple selection interface. For a list of methods you use to manage selections in a collection view, see [`UICollectionViewDelegate`](https://developer.apple.com/documentation/uikit/uicollectionviewdelegate).
    ///
    ///
    ///
    /// </div>
    ///
    #[unsafe(super(NSObject))]
    #[thread_kind = MainThreadOnly]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct UIBandSelectionInteraction;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for UIBandSelectionInteraction {}
);

#[cfg(feature = "UIInteraction")]
extern_conformance!(
    unsafe impl UIInteraction for UIBandSelectionInteraction {}
);

impl UIBandSelectionInteraction {
    extern_methods!(
        /// Indicates whether the interaction is enabled. Defaults to YES.
        #[unsafe(method(isEnabled))]
        #[unsafe(method_family = none)]
        pub fn isEnabled(&self) -> bool;

        /// Setter for [`isEnabled`][Self::isEnabled].
        #[unsafe(method(setEnabled:))]
        #[unsafe(method_family = none)]
        pub fn setEnabled(&self, enabled: bool);

        /// The interaction's current state.
        #[unsafe(method(state))]
        #[unsafe(method_family = none)]
        pub fn state(&self) -> UIBandSelectionInteractionState;

        #[cfg(feature = "objc2-core-foundation")]
        /// The current selection rect. Returns CGRectNull when the interaction is inactive.
        #[unsafe(method(selectionRect))]
        #[unsafe(method_family = none)]
        pub fn selectionRect(&self) -> CGRect;

        #[cfg(feature = "UICommand")]
        /// Modifier keys held at the beginning of the interaction.
        #[unsafe(method(initialModifierFlags))]
        #[unsafe(method_family = none)]
        pub fn initialModifierFlags(&self) -> UIKeyModifierFlags;

        #[cfg(all(feature = "block2", feature = "objc2-core-foundation"))]
        /// Called when the interaction is about to begin.
        /// Return a boolean indicating whether the interaction should begin at the given location.
        ///
        /// # Safety
        ///
        /// The returned block's argument 1 must be a valid pointer.
        #[unsafe(method(shouldBeginHandler))]
        #[unsafe(method_family = none)]
        pub unsafe fn shouldBeginHandler(
            &self,
        ) -> *mut block2::DynBlock<dyn Fn(NonNull<UIBandSelectionInteraction>, CGPoint) -> Bool>;

        #[cfg(all(feature = "block2", feature = "objc2-core-foundation"))]
        /// Setter for [`shouldBeginHandler`][Self::shouldBeginHandler].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        #[unsafe(method(setShouldBeginHandler:))]
        #[unsafe(method_family = none)]
        pub fn setShouldBeginHandler(
            &self,
            should_begin_handler: Option<
                &block2::DynBlock<dyn Fn(NonNull<UIBandSelectionInteraction>, CGPoint) -> Bool>,
            >,
        );

        #[cfg(feature = "block2")]
        /// Creates a UIBandSelectionInteraction with the given selection handler.
        ///
        ///
        /// Parameter `selectionHandler`: Called when the interaction's state and/or selection rect change.
        #[unsafe(method(initWithSelectionHandler:))]
        #[unsafe(method_family = init)]
        pub fn initWithSelectionHandler(
            this: Allocated<Self>,
            selection_handler: &block2::DynBlock<dyn Fn(NonNull<UIBandSelectionInteraction>)>,
        ) -> Retained<Self>;

        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new(mtm: MainThreadMarker) -> Retained<Self>;
    );
}
