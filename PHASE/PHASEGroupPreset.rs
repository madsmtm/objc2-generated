//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

extern_class!(
    /// Settings for group presets.
    ///
    /// ## Overview
    ///
    /// This class defines playback speed and volume rates of change that an app can apply to groups. To create a group preset setting, instantiate an object of this type and pass it to the `settings` parameter of [`initWithEngine:settings:timeToTarget:timeToReset:`](https://developer.apple.com/documentation/phase/phasegrouppreset/init(engine:settings:timetotarget:timetoreset:)).
    ///
    /// For an example of preset settings, see [`PHASEGroupPreset`](https://developer.apple.com/documentation/phase/phasegrouppreset).
    ///
    ///
    /// *************************************************************************************************
    ///
    ///
    ///
    /// A PHASEGroupPresetSetting is an object that holds settings that can be applied to a PHASEGroup object.
    ///
    /// These can be either be manually created and added to a PHASEGroupPreset object, or created inline using PHASEGroupPreset addGroup.
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct PHASEGroupPresetSetting;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for PHASEGroupPresetSetting {}
);

impl PHASEGroupPresetSetting {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;

        #[cfg(feature = "PHASETypes")]
        /// Initialize the PHASEGroupPresetSetting object with an existing PHASEGroup object.
        ///
        /// Parameter `gain`: The main gain setting to apply to the group. Values are clamped to the range [0, 1]. Default value is 1.
        ///
        /// Parameter `rate`: The playback rate setting to apply to the group. Values are clamped to the range [0.25, 4]. Default value is 1.
        ///
        /// Parameter `gainCurveType`: The type of curve to apply to the gain as the preset changes to this new setting.
        ///
        /// Parameter `rateCurveType`: The type of curve to apply to the rate as the preset changes to this new setting.
        #[unsafe(method(initWithGain:rate:gainCurveType:rateCurveType:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithGain_rate_gainCurveType_rateCurveType(
            this: Allocated<Self>,
            gain: c_double,
            rate: c_double,
            gain_curve_type: PHASECurveType,
            rate_curve_type: PHASECurveType,
        ) -> Retained<Self>;

        /// Linear gain scalar.
        ///
        /// Note: Values are clamped to the range [0, 1]. Default value is 1.
        #[unsafe(method(gain))]
        #[unsafe(method_family = none)]
        pub unsafe fn gain(&self) -> c_double;

        /// Linear rate scalar.
        #[unsafe(method(rate))]
        #[unsafe(method_family = none)]
        pub unsafe fn rate(&self) -> c_double;

        #[cfg(feature = "PHASETypes")]
        /// The type of curve to apply to the gain as the preset changes to this new setting.
        #[unsafe(method(gainCurveType))]
        #[unsafe(method_family = none)]
        pub unsafe fn gainCurveType(&self) -> PHASECurveType;

        #[cfg(feature = "PHASETypes")]
        /// The type of curve to apply to the rate as the preset changes to this new setting.
        #[unsafe(method(rateCurveType))]
        #[unsafe(method_family = none)]
        pub unsafe fn rateCurveType(&self) -> PHASECurveType;
    );
}

extern_class!(
    /// A collection of settings for groups.
    ///
    /// ## Overview
    ///
    /// Group presets pair groups with audio settings that your app can apply to specific sounds at a particular time in your app’s life cycle. This class enables many predefined group settings to take effect all at once.
    ///
    /// ### Toggle Between Group Presets
    ///
    /// The group preset’s utility materializes when you switch between settings. The following example creates two group presets: one for an in-game experience and another for a menu that displays when the user pauses the app.
    ///
    /// (TODO tabnav: TabNavigator { tabs: [TabItem { title: "Swift", content: [CodeListing { syntax: Some("swift"), code: ["// Create sound group objects.", "let bgmGroup = PHASEGroup(identifier:\"backgroundMusicGroup\")", "let voGroup = PHASEGroup(identifier:\"voiceOverGroup\")", "let menuGroup = PHASEGroup(identifier:\"menuSoundsGroup\")", "", "// Register the groups with the engine.", "bgmGroup.register(engine: myEngine)", "voGroup.register(engine: myEngine)", "menuGroup.register(engine: myEngine)", "        ", "// Create settings for the groups.", "let groupSettingFullVolume = PHASEGroupPresetSetting(gain: 1.0, rate: 1.0, gainCurveType: .linear, rateCurveType: .linear)", "let groupSettingZeroVolume = PHASEGroupPresetSetting(gain: 0.0, rate: 1.0, gainCurveType: .linear, rateCurveType: .linear)", "        ", "// Create a dictionary for the `settings` argument of the group preset initializer.", "var pauseMenuDictionary: [String : PHASEGroupPresetSetting] = [:]", "        ", "// Enable volume only for menu group sounds.", "pauseMenuDictionary[menuGroup.identifier] = groupSettingFullVolume", "pauseMenuDictionary[bgmGroup.identifier] = groupSettingZeroVolume", "pauseMenuDictionary[voGroup.identifier] = groupSettingZeroVolume", "let pauseMenuPreset = PHASEGroupPreset(engine: myEngine, settings: pauseMenuDictionary, timeToTarget: 1.0, timeToReset: 1.0)", "        ", "// Create a settings dictionary for the in-game experience.", "var inGameDictionary: [String : PHASEGroupPresetSetting] = [:]", "", "// Enable volume only for in-game sounds.", "inGameDictionary[menuGroup.identifier] = groupSettingZeroVolume", "inGameDictionary[bgmGroup.identifier] = groupSettingFullVolume", "inGameDictionary[voGroup.identifier] = groupSettingFullVolume", "let inGamePreset = PHASEGroupPreset(engine: myEngine, settings: inGameDictionary, timeToTarget: 1.0, timeToReset: 1.0)", "        ", "// Activate the pause menu preset when the user pauses the app.", "pauseMenuPreset.activate()", "", "// Activate the in-game preset when the user resumes the app.", "inGamePreset.activate()", "", "// Clear the current preset by deactivating it.", "if let groupPreset = myEngine.activeGroupPreset {", "    groupPreset.deactivate()", "}"], metadata: None }] }, TabItem { title: "Objective-C", content: [CodeListing { syntax: Some("objc"), code: ["// Create groups for the sounds. ", "PHASEGroup* bgmGroup = [[PHASEGroup alloc] initWithEngine:_objects->mEngine uid:@\"backgroundMusicGroup\"];", "PHASEGroup* voGroup = [[PHASEGroup alloc] initWithEngine:_objects->mEngine uid:@\"voiceOverGroup\"];", "PHASEGroup* menuGroup = [[PHASEGroup alloc] initWithEngine:_objects->mEngine uid:@\"menuSoundsGroup\"];", "", "// Create settings for the groups.", "PHASEGroupPresetSetting* groupSettingFullVolume = [PHASEGroupPresetSetting alloc] initWithGain:1", "    rate:1 gainCurveType:PHASECurveTypeLinear rateCurveType:PHASECurveTypeLinear];", "                                                ", "PHASEGroupPresetSetting* groupSettingZeroVolume = [PHASEGroupPresetSetting alloc] initWithGain:0", "    rate:1 gainCurveType:PHASECurveTypeLinear rateCurveType:PHASECurveTypeLinear];", "", "// Create a dictionary for the `settings` argument of the group preset initializer.", "NSMutableDictionary<PHASEGroup*, PHASEGroupPresetSetting*> pauseMenuDictionary;", "", "// Enable volume only for menu group sounds.", "[pauseMenuDictionary setObject:groupSettingFullVolume forKey:menuGroup]", "[pauseMenuDictionary setObject:groupSettingZeroVolume forKey:bgmGroup]", "[pauseMenuDictionary setObject:groupSettingZeroVolume forKey:voGroup]", "PHASEGroupPreset* pauseMenuPreset = [[PHASEGroupPreset alloc] initWithEngine:myPHASEEngine", "    settings:pauseMenuDictionary timeToTarget:1 timeToReset:1];", "", "// Create a settings dictionary for the in-game experience.", "NSMutableDictionary<PHASEGroup*, PHASEGroupPresetSetting*> inGameDictionary;", "", "// Enable volume only for in-game sounds.", "[inGameDictionary setObject:groupSettingZeroVolume forKey:menuGroup]", "[inGameDictionary setObject:groupSettingFullVolume forKey:bgmGroup]", "[inGameDictionary setObject:groupSettingFullVolume forKey:voGroup]", "PHASEGroupPreset* inGamePreset = [[PHASEGroupPreset alloc] initWithEngine:myPHASEEngine", "    settings:inGameDictionary timeToTarget:1 timeToReset:1];", "", "// Activate the pause menu preset when the user pauses the app.", "[pauseMenuPreset activate];", "", "// Activate the in-game preset when the user resumes the app. ", "[inGamePreset activate];", "", "// Clear the current preset by deactivating it.", "[myPHASEEngine.activeGroupPreset deactivate]", ""], metadata: None }] }] })
    ///
    /// *************************************************************************************************
    ///
    ///
    ///
    /// A PHASEGroupPreset holds a collection of PHASEGroupPresetSetting objects and other parameters to be applied all at once during playback.
    ///
    /// Initialize beforehand, and use activate or deactivate to switch to the new preset during playback.
    /// Activating a preset will automatically deactivate the current one.
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct PHASEGroupPreset;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for PHASEGroupPreset {}
);

impl PHASEGroupPreset {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;

        #[cfg(feature = "PHASEEngine")]
        /// Create a new PHASEGroupPreset object with a given PHASEEngine object.
        ///
        /// Parameter `engine`: The PHASEEngine object to register this preset with.
        ///
        /// Parameter `settings`: A dictionary containing PHASEGroupPresetSetting objects paired with PHASEGroup objects as keys.
        ///
        /// Parameter `timeToTarget`: The time interval that all group settings in this preset will take to gradually fade to the new value
        ///
        /// Parameter `timeToReset`: The time interval that all group settings in this preset will take to gradually fade to the unity value
        ///
        /// Note: The timeToTarget and timeToReset are scaled by unitsPerSecond internally, so can be provided at the client's native time scale.
        #[unsafe(method(initWithEngine:settings:timeToTarget:timeToReset:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithEngine_settings_timeToTarget_timeToReset(
            this: Allocated<Self>,
            engine: &PHASEEngine,
            settings: &NSDictionary<NSString, PHASEGroupPresetSetting>,
            time_to_target: c_double,
            time_to_reset: c_double,
        ) -> Retained<Self>;

        /// The collection of PHASEGroupPresetSetting objects to apply when this preset is activated.
        #[unsafe(method(settings))]
        #[unsafe(method_family = none)]
        pub unsafe fn settings(&self) -> Retained<NSDictionary<NSString, PHASEGroupPresetSetting>>;

        /// The time interval that all group settings in this preset will take to gradually fade to the new value
        ///
        /// Note: The timeToTarget is scaled by unitsPerSecond internally, so can be provided at the client's native time scale.
        #[unsafe(method(timeToTarget))]
        #[unsafe(method_family = none)]
        pub unsafe fn timeToTarget(&self) -> c_double;

        /// The time interval that all group settings in this preset will take to gradually fade to the unity value
        ///
        /// Note: The timeToReset is scaled by unitsPerSecond internally, so can be provided at the client's native time scale.
        #[unsafe(method(timeToReset))]
        #[unsafe(method_family = none)]
        pub unsafe fn timeToReset(&self) -> c_double;

        /// Activate this preset in the PHASEEngine object it was initialized with. The internal timeToTarget value is used.
        /// The current preset will be deactivated automatically.
        #[unsafe(method(activate))]
        #[unsafe(method_family = none)]
        pub unsafe fn activate(&self);

        /// Activate this preset in the PHASEEngine object it was initialized with.
        /// The current preset will be deactivated automatically.
        ///
        /// Parameter `timeToTargetOverride`: Override the timeToTarget value in the preset with this value.
        ///
        /// Note: The timeToTargetOverride is scaled by unitsPerSecond internally, so can be provided at the client's native time scale.
        #[unsafe(method(activateWithTimeToTargetOverride:))]
        #[unsafe(method_family = none)]
        pub unsafe fn activateWithTimeToTargetOverride(&self, time_to_target_override: c_double);

        /// Deactivate this preset and return the system to default unity values. The internal timeToReset value is used.
        #[unsafe(method(deactivate))]
        #[unsafe(method_family = none)]
        pub unsafe fn deactivate(&self);

        /// Deactivate this preset and return the system to default unity values.
        ///
        /// Parameter `timeToResetOverride`: Override the timeToReset value in the preset with this value.
        ///
        /// Note: The timeToResetOverride is scaled by unitsPerSecond internally, so can be provided at the client's native time scale.
        #[unsafe(method(deactivateWithTimeToResetOverride:))]
        #[unsafe(method_family = none)]
        pub unsafe fn deactivateWithTimeToResetOverride(&self, time_to_reset_override: c_double);
    );
}
