//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

extern_class!(
    /// An ordered pair that defines a bounding box for an envelope.
    ///
    /// ## Overview
    ///
    /// A [`PHASEEnvelope`](https://developer.apple.com/documentation/phase/phaseenvelope) object uses this class to bound the value of its [`range`](https://developer.apple.com/documentation/phase/phaseenvelope/range) and [`domain`](https://developer.apple.com/documentation/phase/phaseenvelope/domain).
    ///
    ///
    /// *************************************************************************************************
    ///
    ///
    ///
    /// A numeric pair.
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct PHASENumericPair;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for PHASENumericPair {}
);

impl PHASENumericPair {
    extern_methods!(
        /// Initialize a numeric pair with a first and second value.
        ///
        /// Parameter `first`: The first value in the pair.
        ///
        /// Parameter `second`: The second value in the pair.
        ///
        /// Returns: A new pair.
        #[unsafe(method(initWithFirstValue:secondValue:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithFirstValue_secondValue(
            this: Allocated<Self>,
            first: c_double,
            second: c_double,
        ) -> Retained<Self>;

        /// The first value in the numeric pair.
        ///
        /// The default value is 0.0.
        #[unsafe(method(first))]
        #[unsafe(method_family = none)]
        pub unsafe fn first(&self) -> c_double;

        /// Setter for [`first`][Self::first].
        #[unsafe(method(setFirst:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setFirst(&self, first: c_double);

        /// The second value in the numeric pair.
        ///
        /// The default value is 0.0.
        #[unsafe(method(second))]
        #[unsafe(method_family = none)]
        pub unsafe fn second(&self) -> c_double;

        /// Setter for [`second`][Self::second].
        #[unsafe(method(setSecond:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setSecond(&self, second: c_double);
    );
}

/// Methods declared on superclass `NSObject`.
impl PHASENumericPair {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}

extern_class!(
    /// A curved portion of an envelope.
    ///
    /// ## Overview
    ///
    /// This class specifies a curve that determines the _y-_value rate of change over a particular portion of an envelope’s graph. For example, the difference between a [`PHASECurveTypeCubed`](https://developer.apple.com/documentation/phase/phasecurvetype/cubed) segment and an [`PHASECurveTypeInverseCubed`](https://developer.apple.com/documentation/phase/phasecurvetype/inversecubed) segment is that they share opposite rates of change; where the cubed curve’s _y_ value changes fastest in the segment’s domain, the inverse-cubed curve changes slowest, and vice versa.
    ///
    ///
    /// *************************************************************************************************
    ///
    ///
    ///
    /// An envelope segment defined by an end point and a curve type.
    ///
    /// Envelope segments do 'not' contain a start point.
    /// We do this so we can connect envelope segments together end to end and gaurantee continuity along the x and y axes.
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct PHASEEnvelopeSegment;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for PHASEEnvelopeSegment {}
);

impl PHASEEnvelopeSegment {
    extern_methods!(
        #[cfg(feature = "PHASETypes")]
        /// The curve type of the envelope segment.
        ///
        /// The default value is PHASECurveTypeLinear.
        #[unsafe(method(curveType))]
        #[unsafe(method_family = none)]
        pub unsafe fn curveType(&self) -> PHASECurveType;

        #[cfg(feature = "PHASETypes")]
        /// Setter for [`curveType`][Self::curveType].
        #[unsafe(method(setCurveType:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setCurveType(&self, curve_type: PHASECurveType);
    );
}

/// Methods declared on superclass `NSObject`.
impl PHASEEnvelopeSegment {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}

extern_class!(
    /// A collection of segments that connect to graph a complex curve over a linear input.
    ///
    /// ## Overview
    ///
    /// In traditional audio uses, an _envelope_ defines a complex graph that determines the volume of audio data over an input duration. PHASE uses envelopes in a similar way. Given a value on the envelope’s input axis, the [`evaluateForValue:`](https://developer.apple.com/documentation/phase/phaseenvelope/evaluate(x:)) function plots and returns the result on the output axis. The following are possible uses of this class:
    ///
    /// - Sound event nodes, such as [`PHASEBlendNodeDefinition`](https://developer.apple.com/documentation/phase/phaseblendnodedefinition), can shape their volume using an envelope; see [`addRangeWithEnvelope:subtree:`](https://developer.apple.com/documentation/phase/phaseblendnodedefinition/addrange(envelope:subtree:)).
    ///
    /// - Distance models shape sounds with a 3D position using an envelope; see [`PHASEEnvelopeDistanceModelParameters`](https://developer.apple.com/documentation/phase/phaseenvelopedistancemodelparameters).
    ///
    /// - An envelope can do more than shape audio. To gradually change an envelope’s input value over time, use the [`PHASEMappedMetaParameterDefinition`](https://developer.apple.com/documentation/phase/phasemappedmetaparameterdefinition) class, which creates a function with a metaparameter value as input. An app can use the numeric result for any purpose. For example, the x-axis can be distance and the y-axis can be playback rate.
    ///
    /// At runtime, PHASE determines whether a particular member of the [`segments`](https://developer.apple.com/documentation/phase/phaseenvelope/segments) array slopes up or down along the domain depending on the envelope’s particular use case.
    ///
    /// ### Create an Envelope and Shape its Curve
    ///
    /// To use an envelope in your app, define its shape by defining a series of segments. Each segment specifies a curve that collectively connect to form a graph. The following code creates an envelope with a single segment that’s shaped like the lettter _s:_
    ///
    /// (TODO tabnav: TabNavigator { tabs: [TabItem { title: "Swift", content: [CodeListing { syntax: Some("swift"), code: ["// Create a segments array.", "var segments: [PHASEEnvelopeSegment] = []", "", "// Create a single segment with a sigmoid curve to give \"ease in, ", "//  ease out\" movement along the domain. Define an endpoint of (1, 1).", "let segment = PHASEEnvelopeSegment(", "    endPoint: simd_make_double2(1.0, 1.0), curveType: .sigmoid)", "", "// Add the segment to the array.", "segments.append(segment)", "", "// Create the envelope and set the start point to (-1, -1).", "let envelope = PHASEEnvelope(startPoint: simd_make_double2(-1.0, -1.0),", "    segments: segments)"], metadata: None }] }, TabItem { title: "Objective-C", content: [CodeListing { syntax: Some("objc"), code: ["// Create a segments array.", "NSMutableArray<PHASEEnvelopeSegment*>* segments = ", "    [NSMutableArray new];", "", "// Create a single segment with a sigmoid curve to give \"ease in, ", "//  ease out\" movement along the domain. Define an endpoint of (1, 1).", "PHASEEnvelopeSegment* segment = [[PHASEEnvelopeSegment alloc] ", "    initWithEndPoint:simd_make_double2(1.0, 1.0) ", "    curveType:PHASECurveTypeSigmoid];", "", "// Add the segment to the array.", "[segments addObject:segment];", "", "// Create the envelope and set the start point to (-1, -1).", "PHASEEnvelope* envelope = [[PHASEEnvelope alloc] ", "    initWithStartPoint:simd_make_double2(-1.0, -1.0) ", "    segments:segments];"], metadata: None }] }] })
    /// The graph flexes at runtime depending on the source content on which the envelope operates. A [`PHASEEnvelope`](https://developer.apple.com/documentation/phase/phaseenvelope) doesn’t constrain the [`evaluateForValue:`](https://developer.apple.com/documentation/phase/phaseenvelope/evaluate(x:)) function’s output to predertermined values. Instead, PHASE applies the envelope’s curves to the source content as a rate of change.
    ///
    ///
    /// *************************************************************************************************
    ///
    ///
    ///
    /// A segmented envelope.
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct PHASEEnvelope;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for PHASEEnvelope {}
);

impl PHASEEnvelope {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;

        /// Evaluates the envelope.
        ///
        /// If required, x will be clamped to the envelope's domain.
        ///
        /// Parameter `x`: The input along the x-axis.
        ///
        /// Returns: The output along the y-axis.
        #[unsafe(method(evaluateForValue:))]
        #[unsafe(method_family = none)]
        pub unsafe fn evaluateForValue(&self, x: c_double) -> c_double;

        /// The segments of the envelope.
        #[unsafe(method(segments))]
        #[unsafe(method_family = none)]
        pub unsafe fn segments(&self) -> Retained<NSArray<PHASEEnvelopeSegment>>;

        /// The domain (along the x-axis).
        ///
        /// The first value in the pair is the minimum value of the domain.
        /// The second value in the pair is the maximum value of the domain.
        #[unsafe(method(domain))]
        #[unsafe(method_family = none)]
        pub unsafe fn domain(&self) -> Retained<PHASENumericPair>;

        /// The range (along the y-axis).
        ///
        /// The first value in the pair is the minimum value of the range.
        /// The second value in the pair is the maximum value of the range.
        #[unsafe(method(range))]
        #[unsafe(method_family = none)]
        pub unsafe fn range(&self) -> Retained<PHASENumericPair>;
    );
}
