//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::cell::UnsafeCell;
use core::ffi::*;
use core::marker::{PhantomData, PhantomPinned};
use core::ptr::NonNull;
#[cfg(feature = "objc2")]
use objc2::__framework_prelude::*;
use objc2_core_foundation::*;

use crate::*;

/// A font descriptor.
///
/// ## Overview
///
/// A font descriptor is a dictionary of attributes (such as name, point size, and variation) that can completely specify a font.
///
/// A font descriptor can be an incomplete specification, in which case the system chooses the most appropriate font to match the given attributes.
///
///
///
/// This is toll-free bridged with `NSFontDescriptor`.
#[doc(alias = "CTFontDescriptorRef")]
#[repr(C)]
pub struct CTFontDescriptor {
    inner: [u8; 0],
    _p: UnsafeCell<PhantomData<(*const UnsafeCell<()>, PhantomPinned)>>,
}

cf_type!(
    unsafe impl CTFontDescriptor {}
);
#[cfg(feature = "objc2")]
cf_objc2_type!(
    unsafe impl RefEncode<"__CTFontDescriptor"> for CTFontDescriptor {}
);

unsafe impl ConcreteType for CTFontDescriptor {
    /// Returns the type identifier for Core Text font descriptor references.
    ///
    /// ## Return Value
    ///
    /// The identifier for the [`CTFontDescriptorRef`](https://developer.apple.com/documentation/coretext/ctfontdescriptor) opaque type.
    ///
    ///
    /// Returns the type identifier for Core Text font descriptor
    /// references.
    ///
    /// Returns: The identifier for the opaque type CTFontDescriptorRef.
    #[doc(alias = "CTFontDescriptorGetTypeID")]
    #[inline]
    fn type_id() -> CFTypeID {
        extern "C-unwind" {
            fn CTFontDescriptorGetTypeID() -> CFTypeID;
        }
        unsafe { CTFontDescriptorGetTypeID() }
    }
}

extern "C" {
    /// The font URL from the font descriptor.
    ///
    /// ## Discussion
    ///
    /// The value associated with this key is a doc://com.apple.documentation/documentation/corefoundation/cfurl-rd7 object.
    ///
    ///
    /// kCTFontURLAttribute
    ///
    /// The font URL.
    ///
    /// This is the key for accessing the font URL from the font descriptor. The value associated with this key is a CFURLRef.
    pub static kCTFontURLAttribute: &'static CFString;
}

extern "C" {
    /// The PostScript name from the font descriptor.
    ///
    /// ## Discussion
    ///
    /// The value associated with this key is a [`CFStringRef`](https://developer.apple.com/documentation/corefoundation/cfstring) object. If the value is unspecified, it defaults to `Helvetica`, and if that font is unavailable, it falls back to the global font cascade list.
    ///
    ///
    /// kCTFontNameAttribute
    ///
    /// The PostScript name.
    ///
    /// This is the key for retrieving the PostScript name from the font descriptor. When matching, this is treated more generically: the system first tries to find fonts with this PostScript name. If none is found, the system tries to find fonts with this family name, and, finally, if still nothing, tries to find fonts with this display name. The value associated with this key is a CFStringRef. If unspecified, defaults to "Helvetica", if unavailable falls back to global font cascade list.
    pub static kCTFontNameAttribute: &'static CFString;
}

extern "C" {
    /// The name used to display the font.
    ///
    /// ## Discussion
    ///
    /// Most commonly this is the full name. The value associated with this key is a [`CFStringRef`](https://developer.apple.com/documentation/corefoundation/cfstring) object. If the value is unspecified, it defaults to `Helvetica`, and if that font is unavailable, it falls back to the global font cascade list.
    ///
    ///
    /// kCTFontDisplayNameAttribute
    ///
    /// The display name.
    ///
    /// This is the key for accessing the name used to display the font. Most commonly this is the full name. The value associated with this key is a CFStringRef.
    pub static kCTFontDisplayNameAttribute: &'static CFString;
}

extern "C" {
    /// The font family name from the font descriptor.
    ///
    /// ## Discussion
    ///
    /// The value associated with this key is a [`CFStringRef`](https://developer.apple.com/documentation/corefoundation/cfstring) object.
    ///
    ///
    /// kCTFontFamilyNameAttribute
    ///
    /// The family name.
    ///
    /// This is the key for accessing the family name from the font descriptor. The value associated with this key is a CFStringRef.
    pub static kCTFontFamilyNameAttribute: &'static CFString;
}

extern "C" {
    /// The style name of the font.
    ///
    /// ## Discussion
    ///
    /// This name represents the designer’s description of the font’s style. The value associated with this key is a [`CFStringRef`](https://developer.apple.com/documentation/corefoundation/cfstring) object.
    ///
    ///
    /// kCTFontStyleNameAttribute
    ///
    /// The style name.
    ///
    /// This is the key for accessing the style name of the font. This name represents the designer's description of the font's style. The value associated with this key is a CFStringRef.
    pub static kCTFontStyleNameAttribute: &'static CFString;
}

extern "C" {
    /// The dictionary of font traits for stylistic information.
    ///
    /// ## Discussion
    ///
    /// See Accessing Font Traits for the list of font traits. The value associated with this key is a [`CFDictionaryRef`](https://developer.apple.com/documentation/corefoundation/cfdictionary) object.
    ///
    ///
    /// kCTFontTraitsAttribute
    ///
    /// The font traits dictionary.
    ///
    /// This is the key for accessing the dictionary of font traits for stylistic information. See CTFontTraits.h for the list of font traits. The value associated with this key is a CFDictionaryRef.
    pub static kCTFontTraitsAttribute: &'static CFString;
}

extern "C" {
    /// The dictionary of font variation.
    ///
    /// ## Discussion
    ///
    /// If specified in a font descriptor, fonts with the specified axes are primary match candidates; if no such fonts exist, this attribute is ignored.
    ///
    /// The value associated with this key is a [`CFDictionaryRef`](https://developer.apple.com/documentation/corefoundation/cfdictionary) object.
    ///
    ///
    /// kCTFontVariationAttribute
    ///
    /// The font variation dictionary.
    ///
    /// This key is used to obtain the font variation instance as a CFDictionaryRef. If specified in a font descriptor, fonts with the specified axes will be primary match candidates, if no such fonts exist, this attribute will be ignored.
    pub static kCTFontVariationAttribute: &'static CFString;
}

extern "C" {
    /// kCTFontVariationAxesAttribute
    ///
    /// An array of variation axis dictionaries or null if the font does not support variations. Each variation axis dictionary contains the five kCTFontVariationAxis-prefixed keys.
    /// Unlike the result of CTFontCopyVariationAxes(), kCTFontVariationAxisNameKey values for this attribute are not localized.
    /// Before macOS 13.0 and iOS 16.0 this attribute is not accurate and CTFontCopyVariationAxes() should be used instead.
    ///
    ///
    /// See also: CTFontCopyVariationAxes
    pub static kCTFontVariationAxesAttribute: &'static CFString;
}

extern "C" {
    /// The font point size.
    ///
    /// ## Discussion
    ///
    /// Creating a font with this unspecified will default to a point size of 12.0. The value for this key is represented as a [`CFNumberRef`](https://developer.apple.com/documentation/corefoundation/cfnumber) object.
    ///
    ///
    /// kCTFontSizeAttribute
    ///
    /// The font point size.
    ///
    /// This key is used to obtain or specify the font point size. Creating a font with this unspecified will default to a point size of 12.0. The value for this key is represented as a CFNumberRef.
    pub static kCTFontSizeAttribute: &'static CFString;
}

extern "C" {
    /// The font transformation matrix when creating a font.
    ///
    /// ## Discussion
    ///
    /// If unspecified it defaults to the unit matrix. The value for this key is a [`CFDataRef`](https://developer.apple.com/documentation/corefoundation/cfdata) object containing a [`CGAffineTransform`](https://developer.apple.com/documentation/corefoundation/cgaffinetransform) object.
    ///
    ///
    /// kCTFontMatrixAttribute
    ///
    /// The font transformation matrix.
    ///
    /// This key is used to specify the font transformation matrix when creating a font. The default value is CGAffineTransformIdentity. The value for this key is a CFDataRef containing a CGAffineTransform, of which only the a, b, c, and d fields are used.
    pub static kCTFontMatrixAttribute: &'static CFString;
}

extern "C" {
    /// The cascade list used for a font reference.
    ///
    /// ## Discussion
    ///
    /// The cascade list is a [`CFArrayRef`](https://developer.apple.com/documentation/corefoundation/cfarray) object containing [`CTFontDescriptorRef`](https://developer.apple.com/documentation/coretext/ctfontdescriptor) elements. If unspecified, the global cascade list is used.
    ///
    ///
    /// kCTFontCascadeListAttribute
    ///
    /// The font cascade list.
    ///
    /// This key is used to specify or obtain the cascade list used for a font reference. The cascade list is a CFArrayRef containing CTFontDescriptorRefs. If unspecified, the global cascade list is used. This list is not consulted for private-use characters on OS X 10.10, iOS 8, or earlier.
    pub static kCTFontCascadeListAttribute: &'static CFString;
}

extern "C" {
    /// The Unicode character coverage set for a font reference.
    ///
    /// ## Discussion
    ///
    /// The value for this key is a [`CFCharacterSetRef`](https://developer.apple.com/documentation/corefoundation/cfcharacterset) object. If specified, this attribute can be used to restrict the font to a subset of its actual character set. If unspecified, this attribute is ignored and the actual character set is used.
    ///
    ///
    /// kCTFontCharacterSetAttribute
    ///
    /// The font Unicode character coverage set.
    ///
    /// The value for this key is a CFCharacterSetRef. Creating a font with this attribute will restrict the font to a subset of its actual character set.
    pub static kCTFontCharacterSetAttribute: &'static CFString;
}

extern "C" {
    /// A list of covered languages for a font reference.
    ///
    /// ## Discussion
    ///
    /// The value for this key is a [`CFArrayRef`](https://developer.apple.com/documentation/corefoundation/cfarray) object containing [`CFStringRef`](https://developer.apple.com/documentation/corefoundation/cfstring) elements. If specified, this attribute restricts the search to matching fonts that support the specified languages. The language identifier string should conform to the RFC 3066bis standard. If unspecified, this attribute is ignored.
    ///
    ///
    /// kCTFontLanguagesAttribute
    ///
    /// The list of supported languages.
    ///
    /// The value for this key is a CFArrayRef of CFStringRef language identifiers conforming to UTS #35. It can be requested from any font. If present in a descriptor used for matching, only fonts supporting the specified languages will be returned.
    pub static kCTFontLanguagesAttribute: &'static CFString;
}

extern "C" {
    /// The baseline adjustment for a font reference.
    ///
    /// ## Discussion
    ///
    /// This is primarily used when defining font descriptors for a cascade list to keep the baseline of all fonts even. The value associated with this is a float represented as a [`CFNumberRef`](https://developer.apple.com/documentation/corefoundation/cfnumber) object.
    ///
    ///
    /// kCTFontBaselineAdjustAttribute
    ///
    /// The baseline adjustment to apply to font metrics.
    ///
    /// The value for this key is a floating-point CFNumberRef. This is primarily used when defining font descriptors for a cascade list to keep the baseline of all fonts even.
    pub static kCTFontBaselineAdjustAttribute: &'static CFString;
}

extern "C" {
    /// The Macintosh encodings for a font reference.
    ///
    /// ## Discussion
    ///
    /// The value associated with this key is a [`CFNumberRef`](https://developer.apple.com/documentation/corefoundation/cfnumber) object containing a bit field of the Macintosh encodings. This attribute is provided for legacy compatibility.
    ///
    ///
    /// kCTFontMacintoshEncodingsAttribute
    ///
    /// The Macintosh encodings (legacy script codes).
    ///
    /// The value associated with this key is a CFNumberRef containing a bitfield of the script codes in
    /// <CoreText
    /// /SFNTTypes.h>; bit 0 corresponds to kFontRomanScript, and so on. This attribute is provided for legacy compatibility.
    pub static kCTFontMacintoshEncodingsAttribute: &'static CFString;
}

extern "C" {
    /// The font features for a font reference.
    ///
    /// ## Discussion
    ///
    /// The value associated with this key is a [`CFArrayRef`](https://developer.apple.com/documentation/corefoundation/cfarray) object containing font feature dictionaries. This feature list contains the feature information from the [‘feat’ table](https://developer.apple.com/fonts/TrueType-Reference-Manual/RM06/Chap6feat.html) of the font. For more information, see [`CTFontCopyFeatures`](https://developer.apple.com/documentation/coretext/ctfontcopyfeatures(_:)).
    ///
    ///
    /// kCTFontFeaturesAttribute
    ///
    /// The array of font features.
    ///
    /// This key is used to specify or obtain the font features for a font reference. The value associated with this key is a CFArrayRef of font feature dictionaries as documented for CTFontCopyFeatures() in
    /// <CoreText
    /// /CTFont.h>.
    /// Unlike the result of CTFontCopyFeatures(), this attribute does not contain localized names.
    ///
    ///
    /// See also: CTFontCopyFeatures
    pub static kCTFontFeaturesAttribute: &'static CFString;
}

extern "C" {
    /// The font features settings for a font reference.
    ///
    /// ## Discussion
    ///
    /// The value associated with this key is a [`CFArrayRef`](https://developer.apple.com/documentation/corefoundation/cfarray) object containing font feature-setting dictionaries. A feature-setting dictionary contains a tuple of a [`kCTFontFeatureTypeIdentifierKey`](https://developer.apple.com/documentation/coretext/kctfontfeaturetypeidentifierkey) key-value pair and a [`kCTFontFeatureSelectorIdentifierKey`](https://developer.apple.com/documentation/coretext/kctfontfeatureselectoridentifierkey) key-value pair. Each setting dictionary indicates which setting should be turned on.
    ///
    /// <div class="warning">
    ///
    /// ### Note
    ///  In the case of duplicate or conflicting settings, the last setting in the list takes precedence. It is the caller’s responsibility to handle exclusive and nonexclusive settings as necessary.
    ///
    ///
    ///
    /// </div>
    ///
    /// kCTFontFeatureSettingsAttribute
    ///
    /// The array of typographic feature settings.
    ///
    /// This key is used to specify an array of zero or more feature settings. Each setting dictionary indicates which setting should be applied. In the case of duplicate or conflicting settings the last setting in the list will take precedence. In the case of AAT settings, it is the caller's responsibility to handle exclusive and non-exclusive settings as necessary.
    /// An AAT setting dictionary contains a tuple of a kCTFontFeatureTypeIdentifierKey key-value pair and a kCTFontFeatureSelectorIdentifierKey key-value pair.
    /// An OpenType setting dictionary contains a tuple of a kCTFontOpenTypeFeatureTag key-value pair and a kCTFontOpenTypeFeatureValue key-value pair.
    ///
    /// Starting with OS X 10.10 and iOS 8.0, settings are also accepted (but not returned) in the following simplified forms:
    /// An OpenType setting can be either an array pair of tag string and value number, or a tag string on its own. For example:
    /// @
    /// [
    /// "
    /// c2sc", @1 ] or simply @"c2sc". An unspecified value enables the feature and a value of zero disables it.
    /// An AAT setting can be specified as an array pair of type and selector numbers. For example:
    /// @
    /// [
    /// @
    /// (kUpperCaseType),
    /// @
    /// (kUpperCaseSmallCapsSelector) ].
    pub static kCTFontFeatureSettingsAttribute: &'static CFString;
}

extern "C" {
    /// A fixed advance to be used for a font reference.
    ///
    /// ## Discussion
    ///
    /// If present and specified, this attribute is used to specify a constant advance to override any font values. The value associated with this key is a float represented as a [`CFNumberRef`](https://developer.apple.com/documentation/corefoundation/cfnumber) object.
    ///
    ///
    /// kCTFontFixedAdvanceAttribute
    ///
    /// Specifies advance width.
    ///
    /// This key is used to specify a constant advance width, which affects the glyph metrics of any font instance created with this key; it overrides font values and the font transformation matrix, if any. The value associated with this key must be a CFNumberRef.
    ///
    /// Starting with macOS 10.14 and iOS 12.0, this only affects glyph advances that have non-zero width when this attribute is not present.
    pub static kCTFontFixedAdvanceAttribute: &'static CFString;
}

extern "C" {
    /// The orientation for the glyphs of the font.
    ///
    /// ## Discussion
    ///
    /// The value associated with this key is an integer represented as a [`CFNumberRef`](https://developer.apple.com/documentation/corefoundation/cfnumber) object containing one of the constants in [`CTFontOrientation`](https://developer.apple.com/documentation/coretext/ctfontorientation). If you want to receive vertical metrics from a font for vertical rendering, specify [`kCTFontVerticalOrientation`](https://developer.apple.com/documentation/coretext/ctfontorientation/kctfontverticalorientation). If unspecified, the font uses its native orientation.
    ///
    ///
    /// kCTFontOrientationAttribute
    ///
    /// The orientation attribute.
    ///
    /// This key is used to specify a particular orientation for the glyphs of the font. The value associated with this key is a int as a CFNumberRef. If you want to receive vertical metrics from a font for vertical rendering, specify kCTFontVerticalOrientation. If unspecified, the font will use its native orientation.
    pub static kCTFontOrientationAttribute: &'static CFString;
}

/// The intended rendering orientation of the font for obtaining glyph metrics.
///
/// ## Overview
///
/// Use the values of this enumeration for [`kCTFontOrientationAttribute`](https://developer.apple.com/documentation/coretext/kctfontorientationattribute).
///
///
/// Specifies the intended rendering orientation of the font for obtaining glyph metrics.
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct CTFontOrientation(pub u32);
impl CTFontOrientation {
    /// The native orientation of the font.
    #[doc(alias = "kCTFontOrientationDefault")]
    pub const Default: Self = Self(0);
    /// The horizontal orientation.
    #[doc(alias = "kCTFontOrientationHorizontal")]
    pub const Horizontal: Self = Self(1);
    /// The vertical orientation.
    #[doc(alias = "kCTFontOrientationVertical")]
    pub const Vertical: Self = Self(2);
    /// The native orientation of the font.
    #[deprecated = "Deprecated"]
    pub const kCTFontDefaultOrientation: Self = Self(CTFontOrientation::Default.0);
    /// The horizontal orientation.
    #[deprecated = "Deprecated"]
    pub const kCTFontHorizontalOrientation: Self = Self(CTFontOrientation::Horizontal.0);
    /// The vertical orientation.
    #[deprecated = "Deprecated"]
    pub const kCTFontVerticalOrientation: Self = Self(CTFontOrientation::Vertical.0);
}

#[cfg(feature = "objc2")]
unsafe impl Encode for CTFontOrientation {
    const ENCODING: Encoding = u32::ENCODING;
}

#[cfg(feature = "objc2")]
unsafe impl RefEncode for CTFontOrientation {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

extern "C" {
    /// The recognized format of the font.
    ///
    /// ## Discussion
    ///
    /// The value associated with this key is an integer represented as a [`CFNumberRef`](https://developer.apple.com/documentation/corefoundation/cfnumber) object containing one of the constants in [`CTFontFormat`](https://developer.apple.com/documentation/coretext/ctfontformat).
    ///
    ///
    /// kCTFontFormatAttribute
    ///
    /// Specifies the recognized format of the font.
    ///
    /// The attribute is used to specify or obtain the format of the font. The returned value is a CFNumber containing one of the constants defined below.
    pub static kCTFontFormatAttribute: &'static CFString;
}

/// The recognized format of the font.
///
/// ## Overview
///
/// Use the values of this enumeration for [`kCTFontFormatAttribute`](https://developer.apple.com/documentation/coretext/kctfontformatattribute).
///
///
/// The font is not a recognized format
///
/// The font is an OpenType format containing PostScript data
///
/// The font is an OpenType format containing TrueType data
///
/// The font is a recognized TrueType format
///
/// The font is a recognized PostScript format
///
/// The font is a bitmap only format
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct CTFontFormat(pub u32);
impl CTFontFormat {
    /// The font is not a recognized format.
    #[doc(alias = "kCTFontFormatUnrecognized")]
    pub const Unrecognized: Self = Self(0);
    /// The font is an OpenType format containing PostScript data.
    #[doc(alias = "kCTFontFormatOpenTypePostScript")]
    pub const OpenTypePostScript: Self = Self(1);
    /// The font is an OpenType format containing TrueType data.
    #[doc(alias = "kCTFontFormatOpenTypeTrueType")]
    pub const OpenTypeTrueType: Self = Self(2);
    /// The font is a recognized TrueType format.
    #[doc(alias = "kCTFontFormatTrueType")]
    pub const TrueType: Self = Self(3);
    /// The font is a recognized PostScript format.
    #[doc(alias = "kCTFontFormatPostScript")]
    pub const PostScript: Self = Self(4);
    /// The font is a bitmap-only format.
    #[doc(alias = "kCTFontFormatBitmap")]
    pub const Bitmap: Self = Self(5);
}

#[cfg(feature = "objc2")]
unsafe impl Encode for CTFontFormat {
    const ENCODING: Encoding = u32::ENCODING;
}

#[cfg(feature = "objc2")]
unsafe impl RefEncode for CTFontFormat {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

extern "C" {
    /// The font descriptor’s registration scope.
    ///
    /// ## Discussion
    ///
    /// The value associated with this key is an integer represented as a [`CFNumberRef`](https://developer.apple.com/documentation/corefoundation/cfnumber) object containing one of the [`CTFontManagerScope`](https://developer.apple.com/documentation/coretext/ctfontmanagerscope) enumerated values. A value of `NULL` can be returned for font descriptors that are not registered.
    ///
    ///
    /// kCTFontRegistrationScopeAttribute
    ///
    /// Specifies the font descriptor's registration scope.
    ///
    /// The attribute is used to specify or obtain the font registration scope. The value returned is a CFNumberRef containing one of the CTFontManagerScope enumerated values. A value of NULL can be returned for font descriptors that are not registered.
    pub static kCTFontRegistrationScopeAttribute: &'static CFString;
}

extern "C" {
    /// The font priority used by font descriptors when resolving duplicates and sorting match results.
    ///
    /// ## Discussion
    ///
    /// The value associated with this key is an integer represented as a [`CFNumberRef`](https://developer.apple.com/documentation/corefoundation/cfnumber) object containing one of the values enumerated in [`CTFontPriority`](https://developer.apple.com/documentation/coretext/ctfontpriority). The higher the value, the higher the priority of the font. Only registered fonts have a priority. Unregistered font descriptors return `NULL`.
    ///
    ///
    /// kCTFontPriorityAttribute
    ///
    /// The font descriptors priority when resolving duplicates and sorting match results.
    ///
    /// This key is used to obtain or specify the font priority. The value returned is a CFNumberRef containing an integer value as defined below. The higher the value, the higher the priority of the font. Only registered fonts will have a priority. Unregistered font descriptors will return NULL.
    pub static kCTFontPriorityAttribute: &'static CFString;
}

/// Priority of system fonts.
///
/// ## Discussion
///
/// System fonts are located in `/System/Library/Fonts`.
///
///
pub const kCTFontPrioritySystem: c_uint = 10000;
/// Priority of network fonts.
///
/// ## Discussion
///
/// Network fonts are located in `/Network/Library/Fonts`.
///
///
pub const kCTFontPriorityNetwork: c_uint = 20000;
/// Priority of computer local fonts.
///
/// ## Discussion
///
/// Computer local fonts are located in `/Library/Fonts`.
///
///
pub const kCTFontPriorityComputer: c_uint = 30000;
/// Priority of local fonts.
///
/// ## Discussion
///
/// Local fonts are located in user’s `Library/Fonts`.
///
///
pub const kCTFontPriorityUser: c_uint = 40000;
/// Priority of fonts registered dynamically, not located in a standard location.
///
/// ## Discussion
///
/// Dynamic fonts are either in [`kCTFontManagerScopeUser`](https://developer.apple.com/documentation/coretext/ctfontmanagerscope/user) or [`kCTFontManagerScopeSession`](https://developer.apple.com/documentation/coretext/ctfontmanagerscope/session).
///
///
pub const kCTFontPriorityDynamic: c_uint = 50000;
/// Priority of fonts registered for the process.
///
/// ## Discussion
///
/// Fonts registered for the process are in [`kCTFontManagerScopeProcess`](https://developer.apple.com/documentation/coretext/ctfontmanagerscope/process).
///
///
pub const kCTFontPriorityProcess: c_uint = 60000;

/// The priority of font descriptors when resolving duplicates and sorting match results.
///
/// ## Discussion
///
/// Use the values of this enumeration for [`kCTFontPriorityAttribute`](https://developer.apple.com/documentation/coretext/kctfontpriorityattribute).
///
///
pub type CTFontPriority = u32;

extern "C" {
    /// The font enabled state.
    ///
    /// ## Discussion
    ///
    /// The returned value is an integer represented as a [`CFNumberRef`](https://developer.apple.com/documentation/corefoundation/cfnumber) object representing a Boolean value. Unregistered font descriptors return `NULL`, which is equivalent to `false`.
    ///
    ///
    /// kCTFontEnabledAttribute
    ///
    /// The font enabled state.
    ///
    /// The value associated with this key is a CFBoolean. Unregistered font descriptors will return NULL, which is equivalent to false.
    pub static kCTFontEnabledAttribute: &'static CFString;
}

extern "C" {
    /// The font downloadable state.
    ///
    /// ## Discussion
    ///
    /// The value associated with this key is a doc://com.apple.documentation/documentation/corefoundation/cfboolean-s0p.  If it is [`kCFBooleanTrue`](https://developer.apple.com/documentation/corefoundation/kcfbooleantrue), Core Text attempts to download a font if necessary when matching a descriptor.
    ///
    ///
    /// kCTFontDownloadableAttribute
    ///
    /// The font downloadable state.
    ///
    /// The value associated with this key is a CFBoolean. If it is true, CoreText attempts to download a font if necessary when matching a descriptor.
    pub static kCTFontDownloadableAttribute: &'static CFString;
}

extern "C" {
    /// The download state.
    ///
    /// ## Discussion
    ///
    /// The value associated with this key is a doc://com.apple.documentation/documentation/corefoundation/cfboolean-s0p.  If it is [`kCFBooleanTrue`](https://developer.apple.com/documentation/corefoundation/kcfbooleantrue), corresponding Font Asset has been downloaded.
    ///
    /// <div class="warning">
    ///
    /// ### Note
    ///  It may still be necessary to call appropriate API in order to use the font in the Font Asset.
    ///
    ///
    ///
    /// </div>
    ///
    /// kCTFontDownloadedAttribute
    ///
    /// The download state.
    ///
    /// The value associated with this key is a CFBoolean. If it is true, corresponding FontAsset has been downloaded. (but still it may be necessary to call appropriate API in order to use the font in the FontAsset.)
    pub static kCTFontDownloadedAttribute: &'static CFString;
}

extern "C" {
    /// kCTFontOpticalSizeAttribute
    ///
    /// The point size at which this font is intended to be used.
    ///
    /// The value is a CFNumber used to activate size-specific (not linearly scaled) metrics. Starting with macOS 10.14 and iOS 12.0, the CFString "auto" can be used instead to request an optical size matching the point size. Starting with macOS 10.15 and iOS 13.0, the CFString "none" can be used instead to explicitly disable automatic optical sizing enabled by the font.
    pub static kCTFontOpticalSizeAttribute: &'static CFString;
}

impl CTFontDescriptor {
    /// Creates a new font descriptor with the provided PostScript name and size.
    ///
    /// Parameters:
    /// - name: The PostScript name to be used for the font descriptor as a [`CFStringRef`](https://developer.apple.com/documentation/corefoundation/cfstring) object.
    ///
    /// - size: The point size. If `0.0`, the font size attribute ([`kCTFontSizeAttribute`](https://developer.apple.com/documentation/coretext/kctfontsizeattribute)) is omitted from the returned font descriptor.
    ///
    ///
    /// ## Return Value
    ///
    /// A new font descriptor reference with the given PostScript name and point size.
    ///
    ///
    /// Creates a new font descriptor with the provided PostScript name and size.
    ///
    ///
    /// Parameter `name`: The PostScript name to be used for the font descriptor as a CFStringRef. Any font name beginning with a "." is reserved for the system and should not be used here.
    ///
    ///
    /// Parameter `size`: The point size. If 0.0, the kCTFontSizeAttribute will be omitted from the font descriptor.
    ///
    ///
    /// Returns: This function creates a new font descriptor reference with the given PostScript name and point size.
    ///
    ///
    /// If you are trying to create a system UI font descriptor (with name beginning with a "."), you should create a font with CTFontCreateUIFontForLanguage() or appropriate AppKit/UIKit APIs instead, then use CTFontCopyFontDescriptor() to get its font descriptor.
    #[doc(alias = "CTFontDescriptorCreateWithNameAndSize")]
    #[inline]
    pub fn with_name_and_size(name: &CFString, size: CGFloat) -> CFRetained<CTFontDescriptor> {
        extern "C-unwind" {
            fn CTFontDescriptorCreateWithNameAndSize(
                name: &CFString,
                size: CGFloat,
            ) -> Option<NonNull<CTFontDescriptor>>;
        }
        let ret = unsafe { CTFontDescriptorCreateWithNameAndSize(name, size) };
        let ret =
            ret.expect("function was marked as returning non-null, but actually returned NULL");
        unsafe { CFRetained::from_raw(ret) }
    }

    /// Creates a new font descriptor reference from a dictionary of attributes.
    ///
    /// Parameters:
    /// - attributes: A dictionary containing arbitrary attributes.
    ///
    ///
    /// ## Return Value
    ///
    /// A new font descriptor with the attributes specified.
    ///
    ///
    ///
    /// ## Discussion
    ///
    /// The provided attribute dictionary can contain arbitrary attributes that are preserved; however, unrecognized attributes are ignored on font creation and may not be preserved over the round trip from descriptor to font and back to descriptor.
    ///
    ///
    /// Creates a new font descriptor reference from a dictionary of attributes.
    ///
    ///
    /// Parameter `attributes`: A CFDictionaryRef of arbitrary attributes.
    ///
    ///
    /// Returns: This function creates a new font descriptor with the attributes specified. This dictionary can contain arbitrary attributes that will be preserved, however unrecognized attributes will be ignored on font creation and and may not be preserved over the round trip (descriptor -> font -> descriptor).
    ///
    /// # Safety
    ///
    /// - `attributes` generic must be of the correct type.
    /// - `attributes` generic must be of the correct type.
    #[doc(alias = "CTFontDescriptorCreateWithAttributes")]
    #[inline]
    pub unsafe fn with_attributes(attributes: &CFDictionary) -> CFRetained<CTFontDescriptor> {
        extern "C-unwind" {
            fn CTFontDescriptorCreateWithAttributes(
                attributes: &CFDictionary,
            ) -> Option<NonNull<CTFontDescriptor>>;
        }
        let ret = unsafe { CTFontDescriptorCreateWithAttributes(attributes) };
        let ret =
            ret.expect("function was marked as returning non-null, but actually returned NULL");
        unsafe { CFRetained::from_raw(ret) }
    }

    /// Creates a copy of the original font descriptor with new attributes.
    ///
    /// Parameters:
    /// - original: The original font descriptor.
    ///
    /// - attributes: A dictionary containing arbitrary attributes.
    ///
    ///
    /// ## Return Value
    ///
    /// A new copy of the original font descriptor with attributes augmented by those specified. If there are conflicts between attributes, the new attributes replace existing ones.
    ///
    ///
    /// Creates a copy of the original font descriptor with new attributes.
    ///
    ///
    /// Parameter `original`: The original font descriptor reference.
    ///
    ///
    /// Parameter `attributes`: A CFDictionaryRef of arbitrary attributes.
    ///
    ///
    /// Returns: This function creates a new copy of the original font descriptor with attributes augmented by those specified. If there are conflicts between attributes, the new attributes will replace existing ones, except for kCTFontVariationAttribute and kCTFontFeatureSettingsAttribute which will be merged.
    /// Starting with macOS 10.12 and iOS 10.0, setting the value of kCTFontFeatureSettingsAttribute to kCFNull will clear the feature settings of the original font descriptor. Setting the value of any individual feature settings pair in the kCTFontFeatureSettingsAttribute value array to kCFNull will clear that feature setting alone. For example, an element like
    /// @
    /// { (id)kCTFontFeatureTypeIdentifierKey:
    /// @
    /// (kLigaturesType), (id)kCTFontFeatureSelectorIdentifierKey: (id)kCFNull } means clear the kLigatureType feature set in the original font descriptor. An element like
    /// @
    /// [
    /// "
    /// liga", (id)kCFNull ] will have the same effect.
    ///
    ///
    /// See also: kCTFontFeatureSettingsAttribute
    ///
    /// # Safety
    ///
    /// - `attributes` generic must be of the correct type.
    /// - `attributes` generic must be of the correct type.
    #[doc(alias = "CTFontDescriptorCreateCopyWithAttributes")]
    #[inline]
    pub unsafe fn copy_with_attributes(
        &self,
        attributes: &CFDictionary,
    ) -> CFRetained<CTFontDescriptor> {
        extern "C-unwind" {
            fn CTFontDescriptorCreateCopyWithAttributes(
                original: &CTFontDescriptor,
                attributes: &CFDictionary,
            ) -> Option<NonNull<CTFontDescriptor>>;
        }
        let ret = unsafe { CTFontDescriptorCreateCopyWithAttributes(self, attributes) };
        let ret =
            ret.expect("function was marked as returning non-null, but actually returned NULL");
        unsafe { CFRetained::from_raw(ret) }
    }

    /// Creates a copy of the font descriptor in the specified family based on the traits of the original.
    ///
    /// Parameters:
    /// - original: The original font descriptor.
    ///
    /// - family: The name of the desired family.
    ///
    ///
    /// ## Return Value
    ///
    /// A new font descriptor with the original traits in the given family, or `NULL` if no matching font descriptor is found in the system.
    ///
    ///
    /// Returns a new font descriptor in the specified family based on the traits of the original descriptor.
    ///
    ///
    /// Parameter `original`: The original font descriptor reference.
    ///
    ///
    /// Parameter `family`: The name of the desired family.
    ///
    ///
    /// Returns: Returns a new font reference with the original traits in the given family, or NULL if none found in the system.
    #[doc(alias = "CTFontDescriptorCreateCopyWithFamily")]
    #[inline]
    pub fn copy_with_family(&self, family: &CFString) -> Option<CFRetained<CTFontDescriptor>> {
        extern "C-unwind" {
            fn CTFontDescriptorCreateCopyWithFamily(
                original: &CTFontDescriptor,
                family: &CFString,
            ) -> Option<NonNull<CTFontDescriptor>>;
        }
        let ret = unsafe { CTFontDescriptorCreateCopyWithFamily(self, family) };
        ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
    }

    /// Creates a copy of the font descriptor with the specified symbolic traits as the original.
    ///
    /// Parameters:
    /// - original: The original font descriptor.
    ///
    /// - symTraitValue: The value of the symbolic traits.
    ///
    /// - symTraitMask: The mask bits of the symbolic traits. This parameter represents a bitfield that indicates which traits should be changed and which should be taken from the original font descriptor.
    ///
    ///
    /// ## Return Value
    ///
    /// Returns a new font descriptor reference in the same family with the given symbolic traits, or `NULL` if no matching font descriptor is found in the system.
    ///
    ///
    ///
    /// ## Discussion
    ///
    /// This bitfield of `symTraitValue` parameter indicates the desired value for the traits specified by the `symTraitMask` parameter. Used in conjunction, they can allow for trait removal as well as addition.
    ///
    ///
    /// Returns a new font descriptor based on the original descriptor having the specified symbolic traits.
    ///
    ///
    /// Parameter `original`: The original font descriptor reference.
    ///
    ///
    /// Parameter `symTraitValue`: The value of the symbolic traits. This bitfield is used to indicate the desired value for the traits specified by the symTraitMask parameter. Used in conjunction, they can allow for trait removal as well as addition.
    ///
    ///
    /// Parameter `symTraitMask`: The mask bits of the symbolic traits. This bitfield is used to indicate the traits that should be changed.
    ///
    ///
    /// Returns: Returns a new font descriptor reference in the same family with the given symbolic traits, or NULL if none found in the system.
    #[doc(alias = "CTFontDescriptorCreateCopyWithSymbolicTraits")]
    #[cfg(feature = "CTFontTraits")]
    #[inline]
    pub fn copy_with_symbolic_traits(
        &self,
        sym_trait_value: CTFontSymbolicTraits,
        sym_trait_mask: CTFontSymbolicTraits,
    ) -> Option<CFRetained<CTFontDescriptor>> {
        extern "C-unwind" {
            fn CTFontDescriptorCreateCopyWithSymbolicTraits(
                original: &CTFontDescriptor,
                sym_trait_value: CTFontSymbolicTraits,
                sym_trait_mask: CTFontSymbolicTraits,
            ) -> Option<NonNull<CTFontDescriptor>>;
        }
        let ret = unsafe {
            CTFontDescriptorCreateCopyWithSymbolicTraits(self, sym_trait_value, sym_trait_mask)
        };
        ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
    }

    /// Creates a copy of the original font descriptor with a new variation instance.
    ///
    /// Parameters:
    /// - original: The original font descriptor.
    ///
    /// - variationIdentifier: The variation axis identifier. This is the four-character code of the variation axis as a CFNumber object.
    ///
    /// - variationValue: The value corresponding with the variation instance.
    ///
    ///
    /// ## Return Value
    ///
    /// A copy of the original font descriptor with a new variation instance.
    ///
    ///
    ///
    /// ## Discussion
    ///
    /// This is a convenience method for easily creating new variation font instances.
    ///
    ///
    /// Creates a copy of the original font descriptor with a new variation instance.
    ///
    ///
    /// Parameter `original`: The original font descriptor reference.
    ///
    ///
    /// Parameter `variationIdentifier`: The variation axis identifier. This is the four character code of the variation axis as a CFNumberRef.
    ///
    ///
    /// Parameter `variationValue`: The value corresponding with the variation instance.
    ///
    ///
    /// Returns: This function returns a copy of the original font descriptor with a new variation instance. This is a convenience method for easily creating new variation font instances.
    #[doc(alias = "CTFontDescriptorCreateCopyWithVariation")]
    #[inline]
    pub fn copy_with_variation(
        &self,
        variation_identifier: &CFNumber,
        variation_value: CGFloat,
    ) -> CFRetained<CTFontDescriptor> {
        extern "C-unwind" {
            fn CTFontDescriptorCreateCopyWithVariation(
                original: &CTFontDescriptor,
                variation_identifier: &CFNumber,
                variation_value: CGFloat,
            ) -> Option<NonNull<CTFontDescriptor>>;
        }
        let ret = unsafe {
            CTFontDescriptorCreateCopyWithVariation(self, variation_identifier, variation_value)
        };
        let ret =
            ret.expect("function was marked as returning non-null, but actually returned NULL");
        unsafe { CFRetained::from_raw(ret) }
    }

    /// Copies a font descriptor with new feature settings.
    ///
    /// Parameters:
    /// - original: The original font descriptor.
    ///
    /// - featureTypeIdentifier: The feature type identifier.
    ///
    /// - featureSelectorIdentifier: The feature selector identifier.
    ///
    ///
    /// ## Return Value
    ///
    /// A copy of the original font descriptor modified with the given feature settings.
    ///
    ///
    ///
    /// ## Discussion
    ///
    /// This is a convenience method to toggle more easily the state of individual features.
    ///
    ///
    /// Copies a font descriptor with new feature setting.
    ///
    ///
    /// This is a convenience method to more easily toggle the state of individual features.
    ///
    ///
    /// Parameter `original`: The original font descriptor reference.
    ///
    ///
    /// Parameter `featureTypeIdentifier`: The feature type identifier.
    ///
    ///
    /// Parameter `featureSelectorIdentifier`: The feature selector identifier.
    ///
    ///
    /// Returns: A copy of the original font descriptor modified with the given feature settings.
    ///
    ///
    /// See also: CTFontDescriptorCreateCopyWithAttributes
    ///
    /// See also: kCTFontFeatureSettingsAttribute
    #[doc(alias = "CTFontDescriptorCreateCopyWithFeature")]
    #[inline]
    pub fn copy_with_feature(
        &self,
        feature_type_identifier: &CFNumber,
        feature_selector_identifier: &CFNumber,
    ) -> CFRetained<CTFontDescriptor> {
        extern "C-unwind" {
            fn CTFontDescriptorCreateCopyWithFeature(
                original: &CTFontDescriptor,
                feature_type_identifier: &CFNumber,
                feature_selector_identifier: &CFNumber,
            ) -> Option<NonNull<CTFontDescriptor>>;
        }
        let ret = unsafe {
            CTFontDescriptorCreateCopyWithFeature(
                self,
                feature_type_identifier,
                feature_selector_identifier,
            )
        };
        let ret =
            ret.expect("function was marked as returning non-null, but actually returned NULL");
        unsafe { CFRetained::from_raw(ret) }
    }

    /// Returns an array of normalized font descriptors matching the provided descriptor.
    ///
    /// Parameters:
    /// - descriptor: The font descriptor.
    ///
    /// - mandatoryAttributes: A set of attribute keys that must be identically matched in any returned font descriptors. May be `NULL`.
    ///
    ///
    /// ## Return Value
    ///
    /// A retained array of normalized font descriptors matching the attributes present in `descriptor`.
    ///
    ///
    ///
    /// ## Discussion
    ///
    /// If `descriptor` itself is normalized, then the array will contain only one item: the original descriptor. In the context of font descriptors, _normalized_ infers that the input values were matched up with actual existing fonts, and the descriptors for those existing fonts are the returned normalized descriptors.
    ///
    ///
    /// Returns an array of font normalized font descriptors matching the provided descriptor.
    ///
    ///
    /// Parameter `descriptor`: The font descriptor reference.
    ///
    ///
    /// Parameter `mandatoryAttributes`: A set of attribute keys which are required to be identically matched in any returned font descriptors. Optional.
    ///
    ///
    /// Returns: This function returns a retained array of normalized font descriptors matching the attributes present in descriptor. If descriptor itself is normalized then the array will contain only one item, the original descriptor.
    ///
    /// # Safety
    ///
    /// `mandatory_attributes` generic must be of the correct type.
    #[doc(alias = "CTFontDescriptorCreateMatchingFontDescriptors")]
    #[inline]
    pub unsafe fn matching_font_descriptors(
        &self,
        mandatory_attributes: Option<&CFSet>,
    ) -> Option<CFRetained<CFArray>> {
        extern "C-unwind" {
            fn CTFontDescriptorCreateMatchingFontDescriptors(
                descriptor: &CTFontDescriptor,
                mandatory_attributes: Option<&CFSet>,
            ) -> Option<NonNull<CFArray>>;
        }
        let ret =
            unsafe { CTFontDescriptorCreateMatchingFontDescriptors(self, mandatory_attributes) };
        ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
    }

    /// Returns the single preferred matching font descriptor based on the original descriptor and system precedence.
    ///
    /// Parameters:
    /// - descriptor: The original font descriptor.
    ///
    /// - mandatoryAttributes: A set of attribute keys which must be identically matched in any returned font descriptors. May be `NULL`.
    ///
    ///
    /// ## Return Value
    ///
    /// A retained, normalized font descriptor matching the attributes present in `descriptor`.
    ///
    ///
    ///
    /// ## Discussion
    ///
    /// The original descriptor may be returned in normalized form. The caller is responsible for releasing the result. In the context of font descriptors, _normalized_ infers that the input values were matched up with actual existing fonts, and the descriptors for those existing fonts are the returned normalized descriptors.
    ///
    ///
    /// Returns an the single preferred matching font descriptor based on the original descriptor and system precedence.
    ///
    ///
    /// Parameter `descriptor`: The font descriptor reference.
    ///
    ///
    /// Parameter `mandatoryAttributes`: A set of attribute keys which are required to be identically matched in any returned font descriptors. Optional.
    ///
    ///
    /// Returns: This function returns a retained normalized font descriptor matching the attributes present in descriptor. The original descriptor may be returned in normalized form.
    ///
    /// # Safety
    ///
    /// `mandatory_attributes` generic must be of the correct type.
    #[doc(alias = "CTFontDescriptorCreateMatchingFontDescriptor")]
    #[inline]
    pub unsafe fn matching_font_descriptor(
        &self,
        mandatory_attributes: Option<&CFSet>,
    ) -> Option<CFRetained<CTFontDescriptor>> {
        extern "C-unwind" {
            fn CTFontDescriptorCreateMatchingFontDescriptor(
                descriptor: &CTFontDescriptor,
                mandatory_attributes: Option<&CFSet>,
            ) -> Option<NonNull<CTFontDescriptor>>;
        }
        let ret =
            unsafe { CTFontDescriptorCreateMatchingFontDescriptor(self, mandatory_attributes) };
        ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
    }
}

/// Constants that track the progress of font descriptor matching.
/// Progress state
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct CTFontDescriptorMatchingState(pub u32);
impl CTFontDescriptorMatchingState {
    /// A state that indicates matching is about to begin.
    #[doc(alias = "kCTFontDescriptorMatchingDidBegin")]
    pub const DidBegin: Self = Self(0);
    /// A state that indicates matching is done.
    #[doc(alias = "kCTFontDescriptorMatchingDidFinish")]
    pub const DidFinish: Self = Self(1);
    /// A state that indicates communication with the server is about to begin.
    ///
    /// ## Discussion
    ///
    /// This state is skipped if unnecessary.
    ///
    ///
    #[doc(alias = "kCTFontDescriptorMatchingWillBeginQuerying")]
    pub const WillBeginQuerying: Self = Self(2);
    /// A state that indicates that matching is stalled, such as while waiting for a server response.
    #[doc(alias = "kCTFontDescriptorMatchingStalled")]
    pub const Stalled: Self = Self(3);
    /// A state that indicates downloading is about to begin.
    #[doc(alias = "kCTFontDescriptorMatchingWillBeginDownloading")]
    pub const WillBeginDownloading: Self = Self(4);
    /// A state that indicates downloading is in progress.
    #[doc(alias = "kCTFontDescriptorMatchingDownloading")]
    pub const Downloading: Self = Self(5);
    /// A state that indicates downloading is done.
    #[doc(alias = "kCTFontDescriptorMatchingDidFinishDownloading")]
    pub const DidFinishDownloading: Self = Self(6);
    /// A state that indicates the font descriptor match is successful.
    #[doc(alias = "kCTFontDescriptorMatchingDidMatch")]
    pub const DidMatch: Self = Self(7);
    /// A state that indicates an error.
    #[doc(alias = "kCTFontDescriptorMatchingDidFailWithError")]
    pub const DidFailWithError: Self = Self(8);
}

#[cfg(feature = "objc2")]
unsafe impl Encode for CTFontDescriptorMatchingState {
    const ENCODING: Encoding = u32::ENCODING;
}

#[cfg(feature = "objc2")]
unsafe impl RefEncode for CTFontDescriptorMatchingState {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

extern "C" {
    pub static kCTFontDescriptorMatchingSourceDescriptor: &'static CFString;
}

extern "C" {
    pub static kCTFontDescriptorMatchingDescriptors: &'static CFString;
}

extern "C" {
    pub static kCTFontDescriptorMatchingResult: &'static CFString;
}

extern "C" {
    pub static kCTFontDescriptorMatchingPercentage: &'static CFString;
}

extern "C" {
    pub static kCTFontDescriptorMatchingCurrentAssetSize: &'static CFString;
}

extern "C" {
    pub static kCTFontDescriptorMatchingTotalDownloadedSize: &'static CFString;
}

extern "C" {
    pub static kCTFontDescriptorMatchingTotalAssetSize: &'static CFString;
}

extern "C" {
    pub static kCTFontDescriptorMatchingError: &'static CFString;
}

/// The progress callback type.
///
/// ## Discussion
///
/// Use this callback type with [`CTFontDescriptorMatchFontDescriptorsWithProgressHandler`](https://developer.apple.com/documentation/coretext/ctfontdescriptormatchfontdescriptorswithprogresshandler(_:_:_:)).
///
///
#[cfg(feature = "block2")]
pub type CTFontDescriptorProgressHandler =
    *mut block2::DynBlock<dyn Fn(CTFontDescriptorMatchingState, NonNull<CFDictionary>) -> bool>;

impl CTFontDescriptor {
    /// Matches font descriptors and tracks progress with a progress handler.
    ///
    /// Parameters:
    /// - descriptors: An array of descriptors to process.
    ///
    /// - mandatoryAttributes: A set of attributes to match.
    ///
    /// - progressBlock: A callback block that indicates the progress of the matching process. Return [`true`](https://developer.apple.com/documentation/swift/true) to continue or [`false`](https://developer.apple.com/documentation/swift/false) to cancel the process.
    ///
    /// This block is called on a private serial queue.
    ///
    ///
    /// ## Return Value
    ///
    /// [`false`](https://developer.apple.com/documentation/swift/false) if the system couldn’t start the matching process.
    ///
    ///
    ///
    /// ## Discussion
    ///
    /// This function returns immediately, but it can take longer to finish the process. The `progressBlock` handler tracks the progress.
    ///
    ///
    ///
    /// # Safety
    ///
    /// - `descriptors` generic must be of the correct type.
    /// - `mandatory_attributes` generic must be of the correct type.
    /// - `progress_block` must be a valid pointer.
    #[doc(alias = "CTFontDescriptorMatchFontDescriptorsWithProgressHandler")]
    #[cfg(feature = "block2")]
    #[inline]
    pub unsafe fn match_font_descriptors_with_progress_handler(
        descriptors: &CFArray,
        mandatory_attributes: Option<&CFSet>,
        progress_block: CTFontDescriptorProgressHandler,
    ) -> bool {
        extern "C-unwind" {
            fn CTFontDescriptorMatchFontDescriptorsWithProgressHandler(
                descriptors: &CFArray,
                mandatory_attributes: Option<&CFSet>,
                progress_block: CTFontDescriptorProgressHandler,
            ) -> bool;
        }
        unsafe {
            CTFontDescriptorMatchFontDescriptorsWithProgressHandler(
                descriptors,
                mandatory_attributes,
                progress_block,
            )
        }
    }

    /// Returns the attributes dictionary of the font descriptor.
    ///
    /// Parameters:
    /// - descriptor: The font descriptor.
    ///
    ///
    /// ## Return Value
    ///
    /// The font descriptor attributes dictionary. This dictionary contains the minimum number of attributes to specify fully this particular font descriptor.
    ///
    ///
    /// Returns the attributes dictionary of the font descriptor.
    ///
    ///
    /// Parameter `descriptor`: The font descriptor reference.
    ///
    ///
    /// Returns: A retained reference to the font descriptor attributes dictionary. This dictionary will contain the minimum number of attributes to fully specify this particular font descriptor.
    #[doc(alias = "CTFontDescriptorCopyAttributes")]
    #[inline]
    pub fn attributes(&self) -> CFRetained<CFDictionary> {
        extern "C-unwind" {
            fn CTFontDescriptorCopyAttributes(
                descriptor: &CTFontDescriptor,
            ) -> Option<NonNull<CFDictionary>>;
        }
        let ret = unsafe { CTFontDescriptorCopyAttributes(self) };
        let ret =
            ret.expect("function was marked as returning non-null, but actually returned NULL");
        unsafe { CFRetained::from_raw(ret) }
    }

    /// Returns the value associated with an arbitrary attribute.
    ///
    /// Parameters:
    /// - descriptor: The font descriptor.
    ///
    /// - attribute: The requested attribute.
    ///
    ///
    /// ## Return Value
    ///
    /// A retained reference to an arbitrary attribute, or `NULL` if the requested attribute is not present.
    ///
    ///
    ///
    /// ## Discussion
    ///
    /// Refer to Accessing Font Attributes for documentation explaining how each attribute is packaged as a CFType object.
    ///
    ///
    /// Returns the value associated with an arbitrary attribute.
    ///
    ///
    /// Parameter `descriptor`: The font descriptor.
    ///
    ///
    /// Parameter `attribute`: The requested attribute.
    ///
    ///
    /// Returns: A retained reference to the requested attribute, or NULL if the requested attribute is not present. Refer to the attribute definitions for documentation as to how each attribute is packaged as a CFType.
    #[doc(alias = "CTFontDescriptorCopyAttribute")]
    #[inline]
    pub fn attribute(&self, attribute: &CFString) -> Option<CFRetained<CFType>> {
        extern "C-unwind" {
            fn CTFontDescriptorCopyAttribute(
                descriptor: &CTFontDescriptor,
                attribute: &CFString,
            ) -> Option<NonNull<CFType>>;
        }
        let ret = unsafe { CTFontDescriptorCopyAttribute(self, attribute) };
        ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
    }

    /// Returns a localized value for the requested attribute, if available.
    ///
    /// Parameters:
    /// - descriptor: The font descriptor.
    ///
    /// - attribute: The requested font attribute.
    ///
    /// - language: On output, contains a reference to the matched language. The language identifier will conform to the RFC 3066bis standard.
    ///
    ///
    /// ## Return Value
    ///
    /// A retained reference to a localized attribute based on the global language list.
    ///
    ///
    ///
    /// ## Discussion
    ///
    /// This function passes back the matched language in `language`. If localization is not possible for the attribute, the behavior matches the value returned from [`CTFontDescriptorCopyAttribute`](https://developer.apple.com/documentation/coretext/ctfontdescriptorcopyattribute(_:_:)). Generally, localization of attributes is applicable to name attributes of only a normalized font descriptor.
    ///
    ///
    /// function    CTFontDescriptorCopyLocalizedAttribute
    ///
    /// Returns a localized value for the requested attribute if available.
    ///
    ///
    /// This function returns a localized attribute based on the global language list. If localization is not possible for the attribute the behavior matches CTFontDescriptorCopyAttribute(). Generally, localization of attributes is only applicable to name attributes of a normalized font descriptor.
    ///
    ///
    /// Parameter `descriptor`: The font descriptor reference.
    ///
    ///
    /// Parameter `attribute`: The requested font attribute.
    ///
    ///
    /// Parameter `language`: If non-NULL, this will be receive a retained reference to the matched language. The language identifier will conform to UTS #35.
    /// If CoreText can supply its own localized string where the font cannot, this value will be NULL.
    ///
    ///
    /// Returns: A retained reference to the requested attribute, or NULL if the requested attribute is not present. Refer to the attribute definitions for documentation as to how each attribute is packaged as a CFType.
    ///
    /// # Safety
    ///
    /// `language` must be a valid pointer or null.
    #[doc(alias = "CTFontDescriptorCopyLocalizedAttribute")]
    #[inline]
    pub unsafe fn localized_attribute(
        &self,
        attribute: &CFString,
        language: *mut *const CFString,
    ) -> Option<CFRetained<CFType>> {
        extern "C-unwind" {
            fn CTFontDescriptorCopyLocalizedAttribute(
                descriptor: &CTFontDescriptor,
                attribute: &CFString,
                language: *mut *const CFString,
            ) -> Option<NonNull<CFType>>;
        }
        let ret = unsafe { CTFontDescriptorCopyLocalizedAttribute(self, attribute, language) };
        ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
    }
}

#[deprecated = "renamed to `CTFontDescriptor::with_name_and_size`"]
#[inline]
pub extern "C-unwind" fn CTFontDescriptorCreateWithNameAndSize(
    name: &CFString,
    size: CGFloat,
) -> CFRetained<CTFontDescriptor> {
    extern "C-unwind" {
        fn CTFontDescriptorCreateWithNameAndSize(
            name: &CFString,
            size: CGFloat,
        ) -> Option<NonNull<CTFontDescriptor>>;
    }
    let ret = unsafe { CTFontDescriptorCreateWithNameAndSize(name, size) };
    let ret = ret.expect("function was marked as returning non-null, but actually returned NULL");
    unsafe { CFRetained::from_raw(ret) }
}

#[deprecated = "renamed to `CTFontDescriptor::with_attributes`"]
#[inline]
pub unsafe extern "C-unwind" fn CTFontDescriptorCreateWithAttributes(
    attributes: &CFDictionary,
) -> CFRetained<CTFontDescriptor> {
    extern "C-unwind" {
        fn CTFontDescriptorCreateWithAttributes(
            attributes: &CFDictionary,
        ) -> Option<NonNull<CTFontDescriptor>>;
    }
    let ret = unsafe { CTFontDescriptorCreateWithAttributes(attributes) };
    let ret = ret.expect("function was marked as returning non-null, but actually returned NULL");
    unsafe { CFRetained::from_raw(ret) }
}

#[deprecated = "renamed to `CTFontDescriptor::copy_with_attributes`"]
#[inline]
pub unsafe extern "C-unwind" fn CTFontDescriptorCreateCopyWithAttributes(
    original: &CTFontDescriptor,
    attributes: &CFDictionary,
) -> CFRetained<CTFontDescriptor> {
    extern "C-unwind" {
        fn CTFontDescriptorCreateCopyWithAttributes(
            original: &CTFontDescriptor,
            attributes: &CFDictionary,
        ) -> Option<NonNull<CTFontDescriptor>>;
    }
    let ret = unsafe { CTFontDescriptorCreateCopyWithAttributes(original, attributes) };
    let ret = ret.expect("function was marked as returning non-null, but actually returned NULL");
    unsafe { CFRetained::from_raw(ret) }
}

#[deprecated = "renamed to `CTFontDescriptor::copy_with_family`"]
#[inline]
pub extern "C-unwind" fn CTFontDescriptorCreateCopyWithFamily(
    original: &CTFontDescriptor,
    family: &CFString,
) -> Option<CFRetained<CTFontDescriptor>> {
    extern "C-unwind" {
        fn CTFontDescriptorCreateCopyWithFamily(
            original: &CTFontDescriptor,
            family: &CFString,
        ) -> Option<NonNull<CTFontDescriptor>>;
    }
    let ret = unsafe { CTFontDescriptorCreateCopyWithFamily(original, family) };
    ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
}

#[cfg(feature = "CTFontTraits")]
#[deprecated = "renamed to `CTFontDescriptor::copy_with_symbolic_traits`"]
#[inline]
pub extern "C-unwind" fn CTFontDescriptorCreateCopyWithSymbolicTraits(
    original: &CTFontDescriptor,
    sym_trait_value: CTFontSymbolicTraits,
    sym_trait_mask: CTFontSymbolicTraits,
) -> Option<CFRetained<CTFontDescriptor>> {
    extern "C-unwind" {
        fn CTFontDescriptorCreateCopyWithSymbolicTraits(
            original: &CTFontDescriptor,
            sym_trait_value: CTFontSymbolicTraits,
            sym_trait_mask: CTFontSymbolicTraits,
        ) -> Option<NonNull<CTFontDescriptor>>;
    }
    let ret = unsafe {
        CTFontDescriptorCreateCopyWithSymbolicTraits(original, sym_trait_value, sym_trait_mask)
    };
    ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
}

#[deprecated = "renamed to `CTFontDescriptor::copy_with_variation`"]
#[inline]
pub extern "C-unwind" fn CTFontDescriptorCreateCopyWithVariation(
    original: &CTFontDescriptor,
    variation_identifier: &CFNumber,
    variation_value: CGFloat,
) -> CFRetained<CTFontDescriptor> {
    extern "C-unwind" {
        fn CTFontDescriptorCreateCopyWithVariation(
            original: &CTFontDescriptor,
            variation_identifier: &CFNumber,
            variation_value: CGFloat,
        ) -> Option<NonNull<CTFontDescriptor>>;
    }
    let ret = unsafe {
        CTFontDescriptorCreateCopyWithVariation(original, variation_identifier, variation_value)
    };
    let ret = ret.expect("function was marked as returning non-null, but actually returned NULL");
    unsafe { CFRetained::from_raw(ret) }
}

#[deprecated = "renamed to `CTFontDescriptor::copy_with_feature`"]
#[inline]
pub extern "C-unwind" fn CTFontDescriptorCreateCopyWithFeature(
    original: &CTFontDescriptor,
    feature_type_identifier: &CFNumber,
    feature_selector_identifier: &CFNumber,
) -> CFRetained<CTFontDescriptor> {
    extern "C-unwind" {
        fn CTFontDescriptorCreateCopyWithFeature(
            original: &CTFontDescriptor,
            feature_type_identifier: &CFNumber,
            feature_selector_identifier: &CFNumber,
        ) -> Option<NonNull<CTFontDescriptor>>;
    }
    let ret = unsafe {
        CTFontDescriptorCreateCopyWithFeature(
            original,
            feature_type_identifier,
            feature_selector_identifier,
        )
    };
    let ret = ret.expect("function was marked as returning non-null, but actually returned NULL");
    unsafe { CFRetained::from_raw(ret) }
}

#[deprecated = "renamed to `CTFontDescriptor::matching_font_descriptors`"]
#[inline]
pub unsafe extern "C-unwind" fn CTFontDescriptorCreateMatchingFontDescriptors(
    descriptor: &CTFontDescriptor,
    mandatory_attributes: Option<&CFSet>,
) -> Option<CFRetained<CFArray>> {
    extern "C-unwind" {
        fn CTFontDescriptorCreateMatchingFontDescriptors(
            descriptor: &CTFontDescriptor,
            mandatory_attributes: Option<&CFSet>,
        ) -> Option<NonNull<CFArray>>;
    }
    let ret =
        unsafe { CTFontDescriptorCreateMatchingFontDescriptors(descriptor, mandatory_attributes) };
    ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
}

#[deprecated = "renamed to `CTFontDescriptor::matching_font_descriptor`"]
#[inline]
pub unsafe extern "C-unwind" fn CTFontDescriptorCreateMatchingFontDescriptor(
    descriptor: &CTFontDescriptor,
    mandatory_attributes: Option<&CFSet>,
) -> Option<CFRetained<CTFontDescriptor>> {
    extern "C-unwind" {
        fn CTFontDescriptorCreateMatchingFontDescriptor(
            descriptor: &CTFontDescriptor,
            mandatory_attributes: Option<&CFSet>,
        ) -> Option<NonNull<CTFontDescriptor>>;
    }
    let ret =
        unsafe { CTFontDescriptorCreateMatchingFontDescriptor(descriptor, mandatory_attributes) };
    ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
}

extern "C-unwind" {
    #[cfg(feature = "block2")]
    #[deprecated = "renamed to `CTFontDescriptor::match_font_descriptors_with_progress_handler`"]
    pub fn CTFontDescriptorMatchFontDescriptorsWithProgressHandler(
        descriptors: &CFArray,
        mandatory_attributes: Option<&CFSet>,
        progress_block: CTFontDescriptorProgressHandler,
    ) -> bool;
}

#[deprecated = "renamed to `CTFontDescriptor::attributes`"]
#[inline]
pub extern "C-unwind" fn CTFontDescriptorCopyAttributes(
    descriptor: &CTFontDescriptor,
) -> CFRetained<CFDictionary> {
    extern "C-unwind" {
        fn CTFontDescriptorCopyAttributes(
            descriptor: &CTFontDescriptor,
        ) -> Option<NonNull<CFDictionary>>;
    }
    let ret = unsafe { CTFontDescriptorCopyAttributes(descriptor) };
    let ret = ret.expect("function was marked as returning non-null, but actually returned NULL");
    unsafe { CFRetained::from_raw(ret) }
}

#[deprecated = "renamed to `CTFontDescriptor::attribute`"]
#[inline]
pub extern "C-unwind" fn CTFontDescriptorCopyAttribute(
    descriptor: &CTFontDescriptor,
    attribute: &CFString,
) -> Option<CFRetained<CFType>> {
    extern "C-unwind" {
        fn CTFontDescriptorCopyAttribute(
            descriptor: &CTFontDescriptor,
            attribute: &CFString,
        ) -> Option<NonNull<CFType>>;
    }
    let ret = unsafe { CTFontDescriptorCopyAttribute(descriptor, attribute) };
    ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
}

#[deprecated = "renamed to `CTFontDescriptor::localized_attribute`"]
#[inline]
pub unsafe extern "C-unwind" fn CTFontDescriptorCopyLocalizedAttribute(
    descriptor: &CTFontDescriptor,
    attribute: &CFString,
    language: *mut *const CFString,
) -> Option<CFRetained<CFType>> {
    extern "C-unwind" {
        fn CTFontDescriptorCopyLocalizedAttribute(
            descriptor: &CTFontDescriptor,
            attribute: &CFString,
            language: *mut *const CFString,
        ) -> Option<NonNull<CFType>>;
    }
    let ret = unsafe { CTFontDescriptorCopyLocalizedAttribute(descriptor, attribute, language) };
    ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
}
