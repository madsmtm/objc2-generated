//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
#[cfg(feature = "objc2-core-foundation")]
use objc2_core_foundation::*;
use objc2_foundation::*;
#[cfg(feature = "objc2-game-controller")]
use objc2_game_controller::*;
#[cfg(feature = "objc2-metal")]
use objc2_metal::*;

use crate::*;

extern "C" {
    /// [Apple's documentation](https://developer.apple.com/documentation/touchcontroller/tcgamecontrollerproductcategorytouchcontroller?language=objc)
    pub static TCGameControllerProductCategoryTouchController: &'static NSString;
}

extern_class!(
    /// An object that allows you to create and customize on-screen touch controls for a game that uses Metal.
    ///
    /// The controller exposes controls through a
    /// <doc
    /// ://com.apple.documentation/documentation/gamecontroller/gccontroller>
    /// instance, and enables seamless integration with the
    /// <doc
    /// ://com.apple.documentation/documentation/gamecontroller>
    /// framework.
    ///
    /// This class manages the lifecycle of touch controls, handles user interaction, renders the controls using Metal,
    /// and provides a `GCController` instance that reflects the state of the on-screen controls.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/touchcontroller/tctouchcontroller?language=objc)
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct TCTouchController;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for TCTouchController {}
);

impl TCTouchController {
    extern_methods!(
        /// Whether touch controllers are supported for the device.
        ///
        /// Attempting to create a touch controller on an unsupported device will result in a fatal error.
        #[unsafe(method(isSupported))]
        #[unsafe(method_family = none)]
        pub unsafe fn isSupported() -> bool;

        #[cfg(feature = "objc2-metal")]
        /// The Metal device the touch control uses for rendering the touch controls.
        #[unsafe(method(device))]
        #[unsafe(method_family = none)]
        pub unsafe fn device(&self) -> Retained<ProtocolObject<dyn MTLDevice>>;

        #[cfg(all(feature = "TCControl", feature = "TCControlLayout"))]
        /// An array containing all the touch controls managed by this controller.
        #[unsafe(method(controls))]
        #[unsafe(method_family = none)]
        pub unsafe fn controls(&self) -> Retained<NSArray<ProtocolObject<dyn TCControl>>>;

        #[cfg(feature = "TCButton")]
        /// An array containing all the button controls managed by this controller.
        #[unsafe(method(buttons))]
        #[unsafe(method_family = none)]
        pub unsafe fn buttons(&self) -> Retained<NSArray<TCButton>>;

        #[cfg(feature = "TCSwitch")]
        /// An array containing all the switch controls managed by this controller.
        #[unsafe(method(switches))]
        #[unsafe(method_family = none)]
        pub unsafe fn switches(&self) -> Retained<NSArray<TCSwitch>>;

        #[cfg(feature = "TCThumbstick")]
        /// An array containing all the thumbstick controls managed by this controller.
        #[unsafe(method(thumbsticks))]
        #[unsafe(method_family = none)]
        pub unsafe fn thumbsticks(&self) -> Retained<NSArray<TCThumbstick>>;

        #[cfg(feature = "TCDirectionPad")]
        /// An array containing all the direction pad controls managed by this controller.
        #[unsafe(method(directionPads))]
        #[unsafe(method_family = none)]
        pub unsafe fn directionPads(&self) -> Retained<NSArray<TCDirectionPad>>;

        #[cfg(feature = "TCThrottle")]
        /// An array containing all the throttle controls managed by this controller.
        #[unsafe(method(throttles))]
        #[unsafe(method_family = none)]
        pub unsafe fn throttles(&self) -> Retained<NSArray<TCThrottle>>;

        #[cfg(feature = "TCTouchpad")]
        /// An array containing all the touchpad controls managed by this controller.
        #[unsafe(method(touchpads))]
        #[unsafe(method_family = none)]
        pub unsafe fn touchpads(&self) -> Retained<NSArray<TCTouchpad>>;

        #[cfg(feature = "objc2-core-foundation")]
        /// The size of the view the touch controller's drawable is embedded in, in points.
        #[unsafe(method(size))]
        #[unsafe(method_family = none)]
        pub unsafe fn size(&self) -> CGSize;

        #[cfg(feature = "objc2-core-foundation")]
        /// Setter for [`size`][Self::size].
        #[unsafe(method(setSize:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setSize(&self, size: CGSize);

        #[cfg(feature = "objc2-core-foundation")]
        /// The size of the drawable to which the touch controller's contents be drawn, in native pixels.
        #[unsafe(method(drawableSize))]
        #[unsafe(method_family = none)]
        pub unsafe fn drawableSize(&self) -> CGSize;

        #[cfg(feature = "objc2-core-foundation")]
        /// Setter for [`drawableSize`][Self::drawableSize].
        #[unsafe(method(setDrawableSize:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setDrawableSize(&self, drawable_size: CGSize);

        #[cfg(feature = "TCTouchControllerDescriptor")]
        /// Creates a new instance with the provided descriptor.
        ///
        /// - Parameters:
        /// - descriptor: The `TCTouchControllerDescriptor` containing the configuration for the touch controller.
        /// - Returns: A new `TCTouchController` instance.
        #[unsafe(method(initWithDescriptor:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithDescriptor(
            this: Allocated<Self>,
            descriptor: &TCTouchControllerDescriptor,
        ) -> Retained<Self>;

        #[cfg(feature = "TCControlLabel")]
        /// Automatically lays out the provided control labels, creating them if needed.
        ///
        /// - Parameters:
        /// - labels: An array of `TCControlLabel` objects to be laid out.
        #[unsafe(method(automaticallyLayoutControlsForLabels:))]
        #[unsafe(method_family = none)]
        pub unsafe fn automaticallyLayoutControlsForLabels(&self, labels: &NSArray<TCControlLabel>);

        #[cfg(feature = "TCButton")]
        /// Creates a new button control with the provided descriptor, and adds it to the touch controller.
        ///
        /// - Parameters:
        /// - descriptor: The `TCButtonDescriptor` containing the configuration for the button.
        /// - Returns: A new `TCButton` instance.
        #[unsafe(method(addButtonWithDescriptor:))]
        #[unsafe(method_family = none)]
        pub unsafe fn addButtonWithDescriptor(
            &self,
            descriptor: &TCButtonDescriptor,
        ) -> Retained<TCButton>;

        #[cfg(feature = "TCSwitch")]
        /// Creates a new switch control with the provided descriptor, and adds it to the touch controller.
        ///
        /// - Parameters:
        /// - descriptor: The `TCSwitchDescriptor` containing the configuration for the switch.
        /// - Returns: A new `TCSwitch` instance.
        #[unsafe(method(addSwitchWithDescriptor:))]
        #[unsafe(method_family = none)]
        pub unsafe fn addSwitchWithDescriptor(
            &self,
            descriptor: &TCSwitchDescriptor,
        ) -> Retained<TCSwitch>;

        #[cfg(feature = "TCThumbstick")]
        /// Creates a new thumbstick control with the provided descriptor, and adds it to the touch controller.
        ///
        /// - Parameters:
        /// - descriptor: The `TCThumbstickDescriptor` containing the configuration for the thumbstick.
        /// - Returns: A new `TCThumbstick` instance.
        #[unsafe(method(addThumbstickWithDescriptor:))]
        #[unsafe(method_family = none)]
        pub unsafe fn addThumbstickWithDescriptor(
            &self,
            descriptor: &TCThumbstickDescriptor,
        ) -> Retained<TCThumbstick>;

        #[cfg(feature = "TCDirectionPad")]
        /// Creates a new direction pad control with the provided descriptor, and adds it to the touch controller.
        ///
        /// - Parameters:
        /// - descriptor: The `TCDirectionPadDescriptor` containing the configuration for the direction pad.
        /// - Returns: A new `TCDirectionPad` instance.
        #[unsafe(method(addDirectionPadWithDescriptor:))]
        #[unsafe(method_family = none)]
        pub unsafe fn addDirectionPadWithDescriptor(
            &self,
            descriptor: &TCDirectionPadDescriptor,
        ) -> Retained<TCDirectionPad>;

        #[cfg(feature = "TCThrottle")]
        /// Creates a new throttle control with the provided descriptor, and adds it to the touch controller.
        ///
        /// - Parameters:
        /// - descriptor: The `TCThrottleDescriptor` containing the configuration for the throttle.
        /// - Returns: A new `TCThrottle` instance.
        #[unsafe(method(addThrottleWithDescriptor:))]
        #[unsafe(method_family = none)]
        pub unsafe fn addThrottleWithDescriptor(
            &self,
            descriptor: &TCThrottleDescriptor,
        ) -> Retained<TCThrottle>;

        #[cfg(feature = "TCTouchpad")]
        /// Creates a new touchpad control with the provided descriptor, and adds it to the touch controller.
        ///
        /// - Parameters:
        /// - descriptor: The `TCTouchpadDescriptor` containing the configuration for the touchpad.
        /// - Returns: A new `TCTouchpad` instance.
        #[unsafe(method(addTouchpadWithDescriptor:))]
        #[unsafe(method_family = none)]
        pub unsafe fn addTouchpadWithDescriptor(
            &self,
            descriptor: &TCTouchpadDescriptor,
        ) -> Retained<TCTouchpad>;

        /// Removes all controls from the touch controller.
        #[unsafe(method(removeAllControls))]
        #[unsafe(method_family = none)]
        pub unsafe fn removeAllControls(&self);

        #[cfg(all(feature = "TCControl", feature = "TCControlLayout"))]
        /// Removes the control from the touch controller.
        #[unsafe(method(removeControl:))]
        #[unsafe(method_family = none)]
        pub unsafe fn removeControl(&self, control: &ProtocolObject<dyn TCControl>);

        #[cfg(all(
            feature = "TCControl",
            feature = "TCControlLayout",
            feature = "objc2-core-foundation"
        ))]
        /// The control at the specified point, if any.
        ///
        /// - Parameters:
        /// - point: The point to check for a control.
        /// - Returns: The control at the specified point, or `nil` if no control is found.
        #[unsafe(method(controlAtPoint:))]
        #[unsafe(method_family = none)]
        pub unsafe fn controlAtPoint(
            &self,
            point: CGPoint,
        ) -> Option<Retained<ProtocolObject<dyn TCControl>>>;

        #[cfg(feature = "objc2-core-foundation")]
        /// Handles a touch began event at the specified point.
        ///
        /// - Parameters:
        /// - point: The point where the touch began.
        /// - index: An integer representing a unique index for the touch
        /// - Returns: `YES` if the touch was handled by a control; otherwise `NO`.
        #[unsafe(method(handleTouchBeganAtPoint:index:))]
        #[unsafe(method_family = none)]
        pub unsafe fn handleTouchBeganAtPoint_index(
            &self,
            point: CGPoint,
            index: NSInteger,
        ) -> bool;

        #[cfg(feature = "objc2-core-foundation")]
        /// Handles a touch moved event at the specified point.
        ///
        /// - Parameters:
        /// - point: The point where the touch moved to.
        /// - index: An integer representing a unique index for the touch
        /// - Returns: `YES` if the touch was handled by a control, `NO` otherwise.
        #[unsafe(method(handleTouchMovedAtPoint:index:))]
        #[unsafe(method_family = none)]
        pub unsafe fn handleTouchMovedAtPoint_index(
            &self,
            point: CGPoint,
            index: NSInteger,
        ) -> bool;

        #[cfg(feature = "objc2-core-foundation")]
        /// Handles a touch ended event at the specified point.
        ///
        /// - Parameters:
        /// - point: The point where the touch ended.
        /// - index: An integer representing a unique index for the touch
        /// - Returns: `YES` if the touch was handled by a control, `NO` otherwise.
        #[unsafe(method(handleTouchEndedAtPoint:index:))]
        #[unsafe(method_family = none)]
        pub unsafe fn handleTouchEndedAtPoint_index(
            &self,
            point: CGPoint,
            index: NSInteger,
        ) -> bool;

        #[cfg(feature = "objc2-metal")]
        /// Renders the touch controls using the provided Metal render command encoder.
        ///
        /// - Parameters:
        /// - encoder: The `MTLRenderCommandEncoder` to use for rendering.
        #[unsafe(method(renderUsingRenderCommandEncoder:))]
        #[unsafe(method_family = none)]
        pub unsafe fn renderUsingRenderCommandEncoder(
            &self,
            encoder: &ProtocolObject<dyn MTLRenderCommandEncoder>,
        );

        /// A Boolean value that indicates whether the touch controller is connected to the Game Controller framework.
        #[unsafe(method(isConnected))]
        #[unsafe(method_family = none)]
        pub unsafe fn isConnected(&self) -> bool;

        /// Connects the touch controller to the app, allowing its controls to be drawn and an associated `GCController` to be created.
        #[unsafe(method(connect))]
        #[unsafe(method_family = none)]
        pub unsafe fn connect(&self);

        /// Disconnects the touch controller from the app, preventing its controls from being drawn.
        #[unsafe(method(disconnect))]
        #[unsafe(method_family = none)]
        pub unsafe fn disconnect(&self);

        #[cfg(feature = "objc2-game-controller")]
        /// The game controller instance associated with this touch controller.
        #[unsafe(method(controller))]
        #[unsafe(method_family = none)]
        pub unsafe fn controller(&self) -> Retained<GCController>;
    );
}

/// Methods declared on superclass `NSObject`.
impl TCTouchController {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}
