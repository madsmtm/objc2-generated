//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

extern_class!(
    /// A session object used to create and update messages.
    ///
    /// ## Overview
    ///
    /// <div class="warning">
    ///
    /// ### Note
    ///  The [`MSSession`](https://developer.apple.com/documentation/messages/mssession) class does not declare any instance methods or properties. iMessage apps use [`MSSession`](https://developer.apple.com/documentation/messages/mssession) objects to identify and track updatable messages.
    ///
    ///
    ///
    /// </div>
    /// [`MSMessage`](https://developer.apple.com/documentation/messages/msmessage) objects associated with a session receive the following treatment in the transcript:
    ///
    /// - The first time a session is used, the message appears normally in the transcript.
    ///
    /// - If a later message is sent using the same session, the previous message is removed from the transcript. The new message, with the updated content, is added to the bottom of the transcript, as normal.
    ///
    /// - If the previous message has a non-`nil` [`summaryText`](https://developer.apple.com/documentation/messages/msmessage/summarytext) property, the Messages app creates a summary message from the text and inserts it in the message’s previous location.
    ///
    /// ### Create New, Updatable Messages
    ///
    /// Use the following workflow to create a new, updatable message.
    ///
    /// 1. Create the following:
    ///
    /// - A new URL that encodes the message’s initial state. For example, you could encode data as key-value pairs in the URL’s query string. For more information, see the [`MSMessage`](https://developer.apple.com/documentation/messages/msmessage) class’s [`URL`](https://developer.apple.com/documentation/messages/msmessage/url) property.
    ///
    /// - A new layout object that describes the initial message’s appearance. For more information, see the [`MSMessage`](https://developer.apple.com/documentation/messages/msmessage) class’s [`layout`](https://developer.apple.com/documentation/messages/msmessage/layout) property.
    ///
    /// - A string that describes the message’s current state. For more information, see the [`MSMessage`](https://developer.apple.com/documentation/messages/msmessage) class’s [`summaryText`](https://developer.apple.com/documentation/messages/msmessage/summarytext) property.
    ///
    /// 2. Instantiate a new [`MSSession`](https://developer.apple.com/documentation/messages/mssession) object by calling its [`init`](https://developer.apple.com/documentation/objectivec/nsobject-swift.class/init()) method.
    ///
    /// 3. Instantiate a new [`MSMessage`](https://developer.apple.com/documentation/messages/msmessage) object by calling its [`initWithSession:`](https://developer.apple.com/documentation/messages/msmessage/init(session:)) method and passing the session object. Set the message’s [`URL`](https://developer.apple.com/documentation/messages/msmessage/url), [`layout`](https://developer.apple.com/documentation/messages/msmessage/layout), and [`summaryText`](https://developer.apple.com/documentation/messages/msmessage/summarytext) properties.
    ///
    /// 4. Send the message by calling the conversation’s [`insertMessage:completionHandler:`](https://developer.apple.com/documentation/messages/msconversation/insert(_:completionhandler:)-3g248) method. Pass `nil` for the change description.
    ///
    /// The Messages app adds the message to the transcript as soon as the user taps the send button.
    ///
    /// ### Update Messages
    ///
    /// Use the following workflow to receive and update a message.
    ///
    /// 1. When the user taps on one of your [`MSMessage`](https://developer.apple.com/documentation/messages/msmessage) entries, the conversation’s [`selectedMessage`](https://developer.apple.com/documentation/messages/msconversation/selectedmessage) property is changed to the tapped message. Use key-value observing to respond to these changes. Extract the current state from the message’s [`URL`](https://developer.apple.com/documentation/messages/msmessage/url) property, and present it to the user. For more information on receiving messages, see [`MSMessage`](https://developer.apple.com/documentation/messages/msmessage).
    ///
    /// 2. After the user responds, create the following:
    ///
    /// - A new URL that encodes the updated message state. For example, you could encode the data as key-value pairs in the URL’s query string. For more information, see the [`MSMessage`](https://developer.apple.com/documentation/messages/msmessage) class’s [`URL`](https://developer.apple.com/documentation/messages/msmessage/url) property.
    ///
    /// - A new layout object that describes the updated message’s appearance. For more information, see the [`MSMessage`](https://developer.apple.com/documentation/messages/msmessage) class’s [`layout`](https://developer.apple.com/documentation/messages/msmessage/layout) property.
    ///
    /// - A string that describes the message’s current state. For more information, see the [`MSMessage`](https://developer.apple.com/documentation/messages/msmessage) class’s [`summaryText`](https://developer.apple.com/documentation/messages/msmessage/summarytext) property.
    ///
    /// 3. Instantiate a new [`MSMessage`](https://developer.apple.com/documentation/messages/msmessage) object by calling its [`initWithSession:`](https://developer.apple.com/documentation/messages/msmessage/init(session:)) method and passing the currently selected message’s [`MSSession`](https://developer.apple.com/documentation/messages/mssession) object. Set the message’s [`URL`](https://developer.apple.com/documentation/messages/msmessage/url), [`layout`](https://developer.apple.com/documentation/messages/msmessage/layout), and [`summaryText`](https://developer.apple.com/documentation/messages/msmessage/summarytext) properties.
    ///
    /// 4. Send the updated message by calling the conversation’s [`insertMessage:completionHandler:`](https://developer.apple.com/documentation/messages/msconversation/insert(_:completionhandler:)-3g248) method.
    ///
    /// The Messages app updates the message in the transcript as soon as the user taps the send button.
    ///
    ///
    /// A MSSession establishes a relationship between a sequence of messages within a conversation.
    ///
    /// Messages created with the same session are represented as a single
    /// entry in the conversation transcript.
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct MSSession;
);

extern_conformance!(
    unsafe impl NSCoding for MSSession {}
);

extern_conformance!(
    unsafe impl NSObjectProtocol for MSSession {}
);

extern_conformance!(
    unsafe impl NSSecureCoding for MSSession {}
);

impl MSSession {
    extern_methods!();
}

/// Methods declared on superclass `NSObject`.
impl MSSession {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}
