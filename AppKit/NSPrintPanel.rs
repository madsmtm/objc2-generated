//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct NSPrintPanelResult(pub NSInteger);
impl NSPrintPanelResult {
    #[doc(alias = "NSPrintPanelResultCancelled")]
    pub const Cancelled: Self = Self(0);
    #[doc(alias = "NSPrintPanelResultPrinted")]
    pub const Printed: Self = Self(1);
}

unsafe impl Encode for NSPrintPanelResult {
    const ENCODING: Encoding = NSInteger::ENCODING;
}

unsafe impl RefEncode for NSPrintPanelResult {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

/// Constants that specify options for configuring the contents of the main Print panel.
// NS_OPTIONS
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct NSPrintPanelOptions(pub NSUInteger);
bitflags::bitflags! {
    impl NSPrintPanelOptions: NSUInteger {
/// The Print panel includes a field for manipulating the number of copies being printed.
///
/// ## Discussion
///
/// This field is separate from any accessory views.
///
///
        #[doc(alias = "NSPrintPanelShowsCopies")]
        const ShowsCopies = 1<<0;
/// The Print panel includes a set of fields for manipulating the range of pages being printed.
///
/// ## Discussion
///
/// These fields are separate from any accessory views.
///
///
        #[doc(alias = "NSPrintPanelShowsPageRange")]
        const ShowsPageRange = 1<<1;
/// The Print panel includes a control for manipulating the paper size of the printer.
///
/// ## Discussion
///
/// This control is separate from any accessory views.
///
///
        #[doc(alias = "NSPrintPanelShowsPaperSize")]
        const ShowsPaperSize = 1<<2;
/// The Print panel includes a control for manipulating the page orientation.
///
/// ## Discussion
///
/// This control is separate from any accessory views.
///
///
        #[doc(alias = "NSPrintPanelShowsOrientation")]
        const ShowsOrientation = 1<<3;
/// The Print panel includes a control for scaling the printed output.
///
/// ## Discussion
///
/// This control is separate from any accessory views.
///
///
        #[doc(alias = "NSPrintPanelShowsScaling")]
        const ShowsScaling = 1<<4;
/// The Print panel includes an additional selection option for paper range.
///
/// ## Discussion
///
/// This control is separate from any accessory views.
///
///
        #[doc(alias = "NSPrintPanelShowsPrintSelection")]
        const ShowsPrintSelection = 1<<5;
/// The Print panel includes a separate accessory view for manipulating the paper size, orientation, and scaling attributes.
///
/// ## Discussion
///
/// Page setup fields that are already configured for display on the main portion of the Print panel appear there and not on this accessory panel.
///
///
        #[doc(alias = "NSPrintPanelShowsPageSetupAccessory")]
        const ShowsPageSetupAccessory = 1<<8;
/// The Print panel displays a built-in preview of the document contents.
///
/// ## Discussion
///
/// This option is only appropriate when the Print panel is used in conjunction with an [`NSPrintOperation`](https://developer.apple.com/documentation/appkit/nsprintoperation) object to print a document.
///
///
        #[doc(alias = "NSPrintPanelShowsPreview")]
        const ShowsPreview = 1<<17;
    }
}

unsafe impl Encode for NSPrintPanelOptions {
    const ENCODING: Encoding = NSUInteger::ENCODING;
}

unsafe impl RefEncode for NSPrintPanelOptions {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

/// Constants that specify job style hints for activating the simplified Print panel interface and setting the options to display.
// NS_TYPED_ENUM
pub type NSPrintPanelJobStyleHint = NSString;

extern "C" {
    /// Output contains photographic data.
    pub static NSPrintPhotoJobStyleHint: &'static NSPrintPanelJobStyleHint;
}

extern "C" {
    /// Output appropriate to all graphics types.
    ///
    /// ## Discussion
    ///
    /// Equivalent to Core Printing’s `kPMPresetGraphicsTypeAll`.
    ///
    ///
    pub static NSPrintAllPresetsJobStyleHint: &'static NSPrintPanelJobStyleHint;
}

extern "C" {
    /// Output excludes all graphics printing.
    ///
    /// ## Discussion
    ///
    /// Equivalent to Core Printing’s `kPMPresetGraphicsTypeNone`.
    ///
    ///
    pub static NSPrintNoPresetsJobStyleHint: &'static NSPrintPanelJobStyleHint;
}

/// Constants that specify the accessory panel keys.
///
/// ## Discussion
///
/// These keys must be included in the dictionaries returned by the [`localizedSummaryItems`](https://developer.apple.com/documentation/appkit/nsprintpanelaccessorizing/localizedsummaryitems()) method.
///
///
// NS_TYPED_ENUM
pub type NSPrintPanelAccessorySummaryKey = NSString;

extern "C" {
    /// A key that specifies the name of the accessory panel setting.
    ///
    /// ## Discussion
    ///
    /// The corresponding value should be an [`NSString`](https://developer.apple.com/documentation/foundation/nsstring) object.
    ///
    ///
    pub static NSPrintPanelAccessorySummaryItemNameKey: &'static NSPrintPanelAccessorySummaryKey;
}

extern "C" {
    /// A key that identfies the current value of the accessory panel setting.
    ///
    /// ## Discussion
    ///
    /// The corresponding value should be an [`NSString`](https://developer.apple.com/documentation/foundation/nsstring) object.
    ///
    ///
    pub static NSPrintPanelAccessorySummaryItemDescriptionKey:
        &'static NSPrintPanelAccessorySummaryKey;
}

extern_protocol!(
    /// A set of methods that a Print panel object can use to get information from a printing accessory controller.
    ///
    /// ## Overview
    ///
    /// A printing accessory controller manages a custom print panel accessory view and is used to coordinate print settings. If you are implementing a custom printing accessory view, your controller must support this protocol. Implementation of only one method in the protocol is actually required. The other method is considered optional and is used to support the print panel’s built-in preview facilities.
    ///
    ///
    pub unsafe trait NSPrintPanelAccessorizing: MainThreadOnly {
        #[unsafe(method(localizedSummaryItems))]
        #[unsafe(method_family = none)]
        fn localizedSummaryItems(
            &self,
        ) -> Retained<NSArray<NSDictionary<NSPrintPanelAccessorySummaryKey, NSString>>>;

        #[optional]
        #[unsafe(method(keyPathsForValuesAffectingPreview))]
        #[unsafe(method_family = none)]
        fn keyPathsForValuesAffectingPreview(&self) -> Retained<NSSet<NSString>>;
    }
);

extern_class!(
    /// The Print panel that queries the user for information about a print job.
    ///
    /// ## Overview
    ///
    /// A Print panel may let the user select the range of pages to print and the number of copies before executing the Print command. Print panels can display a simplified interface when printing certain types of data. For example, the panel can display a list of print-setting presets, which lets the user enable print settings in groups as opposed to individually. Assigning an appropriate string to the [`jobStyleHint`](https://developer.apple.com/documentation/appkit/nsprintpanel/jobstylehint-swift.property) property activates the simplified interface and identifies which presets to display.
    ///
    /// For design guidance, see [Human Interface Guidelines](https://developer.apple.com/design/human-interface-guidelines/macos/system-capabilities/printing/).
    ///
    ///
    #[unsafe(super(NSObject))]
    #[thread_kind = MainThreadOnly]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct NSPrintPanel;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for NSPrintPanel {}
);

impl NSPrintPanel {
    extern_methods!(
        #[unsafe(method(printPanel))]
        #[unsafe(method_family = none)]
        pub fn printPanel(mtm: MainThreadMarker) -> Retained<NSPrintPanel>;

        #[cfg(all(feature = "NSResponder", feature = "NSViewController"))]
        /// # Safety
        ///
        /// `accessory_controller` must implement NSPrintPanelAccessorizing.
        #[unsafe(method(addAccessoryController:))]
        #[unsafe(method_family = none)]
        pub unsafe fn addAccessoryController(&self, accessory_controller: &NSViewController);

        #[cfg(all(feature = "NSResponder", feature = "NSViewController"))]
        /// # Safety
        ///
        /// `accessory_controller` must implement NSPrintPanelAccessorizing.
        #[unsafe(method(removeAccessoryController:))]
        #[unsafe(method_family = none)]
        pub unsafe fn removeAccessoryController(&self, accessory_controller: &NSViewController);

        #[cfg(all(feature = "NSResponder", feature = "NSViewController"))]
        #[unsafe(method(accessoryControllers))]
        #[unsafe(method_family = none)]
        pub fn accessoryControllers(&self) -> Retained<NSArray<NSViewController>>;

        #[unsafe(method(options))]
        #[unsafe(method_family = none)]
        pub fn options(&self) -> NSPrintPanelOptions;

        /// Setter for [`options`][Self::options].
        #[unsafe(method(setOptions:))]
        #[unsafe(method_family = none)]
        pub fn setOptions(&self, options: NSPrintPanelOptions);

        #[unsafe(method(setDefaultButtonTitle:))]
        #[unsafe(method_family = none)]
        pub fn setDefaultButtonTitle(&self, default_button_title: Option<&NSString>);

        #[unsafe(method(defaultButtonTitle))]
        #[unsafe(method_family = none)]
        pub fn defaultButtonTitle(&self) -> Option<Retained<NSString>>;

        #[cfg(feature = "NSHelpManager")]
        #[unsafe(method(helpAnchor))]
        #[unsafe(method_family = none)]
        pub fn helpAnchor(&self) -> Option<Retained<NSHelpAnchorName>>;

        #[cfg(feature = "NSHelpManager")]
        /// Setter for [`helpAnchor`][Self::helpAnchor].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        #[unsafe(method(setHelpAnchor:))]
        #[unsafe(method_family = none)]
        pub fn setHelpAnchor(&self, help_anchor: Option<&NSHelpAnchorName>);

        #[unsafe(method(jobStyleHint))]
        #[unsafe(method_family = none)]
        pub fn jobStyleHint(&self) -> Option<Retained<NSPrintPanelJobStyleHint>>;

        /// Setter for [`jobStyleHint`][Self::jobStyleHint].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        #[unsafe(method(setJobStyleHint:))]
        #[unsafe(method_family = none)]
        pub fn setJobStyleHint(&self, job_style_hint: Option<&NSPrintPanelJobStyleHint>);

        #[cfg(all(
            feature = "NSPrintInfo",
            feature = "NSResponder",
            feature = "NSWindow",
            feature = "block2"
        ))]
        #[unsafe(method(beginSheetUsingPrintInfo:onWindow:completionHandler:))]
        #[unsafe(method_family = none)]
        pub fn beginSheetUsingPrintInfo_onWindow_completionHandler(
            &self,
            print_info: &NSPrintInfo,
            parent_window: &NSWindow,
            handler: Option<&block2::DynBlock<dyn Fn(NSPrintPanelResult)>>,
        );

        #[cfg(all(feature = "NSPrintInfo", feature = "NSResponder", feature = "NSWindow"))]
        /// # Safety
        ///
        /// - `delegate` should be of the correct type.
        /// - `did_end_selector` must be a valid selector.
        /// - `context_info` must be a valid pointer or null.
        #[deprecated]
        #[unsafe(method(beginSheetWithPrintInfo:modalForWindow:delegate:didEndSelector:contextInfo:))]
        #[unsafe(method_family = none)]
        pub unsafe fn beginSheetWithPrintInfo_modalForWindow_delegate_didEndSelector_contextInfo(
            &self,
            print_info: &NSPrintInfo,
            doc_window: &NSWindow,
            delegate: Option<&AnyObject>,
            did_end_selector: Option<Sel>,
            context_info: *mut c_void,
        );

        #[cfg(feature = "NSPrintInfo")]
        #[unsafe(method(runModalWithPrintInfo:))]
        #[unsafe(method_family = none)]
        pub fn runModalWithPrintInfo(&self, print_info: &NSPrintInfo) -> NSInteger;

        #[unsafe(method(runModal))]
        #[unsafe(method_family = none)]
        pub fn runModal(&self) -> NSInteger;

        #[cfg(feature = "NSPrintInfo")]
        #[unsafe(method(printInfo))]
        #[unsafe(method_family = none)]
        pub fn printInfo(&self) -> Retained<NSPrintInfo>;
    );
}

/// Methods declared on superclass `NSObject`.
impl NSPrintPanel {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub fn new(mtm: MainThreadMarker) -> Retained<Self>;
    );
}

/// NSDeprecated.
impl NSPrintPanel {
    extern_methods!(
        #[cfg(all(feature = "NSResponder", feature = "NSView"))]
        #[deprecated = "Use -addAccessoryController instead"]
        #[unsafe(method(setAccessoryView:))]
        #[unsafe(method_family = none)]
        pub fn setAccessoryView(&self, accessory_view: Option<&NSView>);

        #[cfg(all(feature = "NSResponder", feature = "NSView"))]
        #[deprecated = "Use -accessoryControllers instead. For compatibility this returns the view of the first accessory controller, or nil"]
        #[unsafe(method(accessoryView))]
        #[unsafe(method_family = none)]
        pub fn accessoryView(&self) -> Option<Retained<NSView>>;

        #[deprecated]
        #[unsafe(method(updateFromPrintInfo))]
        #[unsafe(method_family = none)]
        pub fn updateFromPrintInfo(&self);

        #[deprecated]
        #[unsafe(method(finalWritePrintInfo))]
        #[unsafe(method_family = none)]
        pub fn finalWritePrintInfo(&self);
    );
}
