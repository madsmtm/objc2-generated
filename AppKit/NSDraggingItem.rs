//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

/// Keys that identify components of a dragging image.
// NS_TYPED_EXTENSIBLE_ENUM
pub type NSDraggingImageComponentKey = NSString;

extern "C" {
    /// A key for a corresponding value that is a dragging item’s image.
    pub static NSDraggingImageComponentIconKey: &'static NSDraggingImageComponentKey;
}

extern "C" {
    /// A key for a corresponding value that represents a textual label for a dragging item, for example, a file name.
    pub static NSDraggingImageComponentLabelKey: &'static NSDraggingImageComponentKey;
}

extern_class!(
    /// A single object in a dragging item.
    ///
    /// ## Overview
    ///
    /// An array of [`NSDraggingImageComponent`](https://developer.apple.com/documentation/appkit/nsdraggingimagecomponent) instances are composited together to create the dragging image for an [`NSDraggingItem`](https://developer.apple.com/documentation/appkit/nsdraggingitem). [`NSDraggingImageComponent`](https://developer.apple.com/documentation/appkit/nsdraggingimagecomponent) instances can simply be considered as named images with a location used by an [`NSDraggingItem`](https://developer.apple.com/documentation/appkit/nsdraggingitem) instance.
    ///
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct NSDraggingImageComponent;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for NSDraggingImageComponent {}
);

impl NSDraggingImageComponent {
    extern_methods!(
        #[unsafe(method(draggingImageComponentWithKey:))]
        #[unsafe(method_family = none)]
        pub fn draggingImageComponentWithKey(
            key: &NSDraggingImageComponentKey,
        ) -> Retained<NSDraggingImageComponent>;

        #[unsafe(method(initWithKey:))]
        #[unsafe(method_family = init)]
        pub fn initWithKey(
            this: Allocated<Self>,
            key: &NSDraggingImageComponentKey,
        ) -> Retained<Self>;

        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(key))]
        #[unsafe(method_family = none)]
        pub fn key(&self) -> Retained<NSDraggingImageComponentKey>;

        /// Setter for [`key`][Self::key].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        #[unsafe(method(setKey:))]
        #[unsafe(method_family = none)]
        pub fn setKey(&self, key: &NSDraggingImageComponentKey);

        #[unsafe(method(contents))]
        #[unsafe(method_family = none)]
        pub fn contents(&self) -> Option<Retained<AnyObject>>;

        /// Setter for [`contents`][Self::contents].
        ///
        /// # Safety
        ///
        /// `contents` should be of the correct type.
        #[unsafe(method(setContents:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setContents(&self, contents: Option<&AnyObject>);

        #[unsafe(method(frame))]
        #[unsafe(method_family = none)]
        pub fn frame(&self) -> NSRect;

        /// Setter for [`frame`][Self::frame].
        #[unsafe(method(setFrame:))]
        #[unsafe(method_family = none)]
        pub fn setFrame(&self, frame: NSRect);
    );
}

/// Methods declared on superclass `NSObject`.
impl NSDraggingImageComponent {
    extern_methods!(
        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}

extern_class!(
    /// A single dragged item within a dragging session.
    ///
    /// ## Overview
    ///
    /// [`NSDraggingItem`](https://developer.apple.com/documentation/appkit/nsdraggingitem) objects have extremely limited lifetimes. Don’t retain these items because changing outside of the prescribed lifetimes has no impact on the drag.
    ///
    /// When you call the [`NSDraggingSession`](https://developer.apple.com/documentation/appkit/nsdraggingsession) method [`beginDraggingSessionWithItems:event:source:`](https://developer.apple.com/documentation/appkit/nsview/begindraggingsession(with:event:source:)), the system immediately consumes the dragging items that pass to the method, and doesn’t retain them. Any further changes to the dragging item associated with the returned [`NSDraggingSession`](https://developer.apple.com/documentation/appkit/nsdraggingsession) must occur with the enumeration method [`enumerateDraggingItemsWithOptions:forView:classes:searchOptions:usingBlock:`](https://developer.apple.com/documentation/appkit/nsdraggingsession/enumeratedraggingitems(options:for:classes:searchoptions:using:)). When enumerating, the system creates `NSDraggingItem` instances right before giving them to the enumeration block. After returning from the block, the dragging item is no longer valid.
    ///
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct NSDraggingItem;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for NSDraggingItem {}
);

impl NSDraggingItem {
    extern_methods!(
        #[cfg(feature = "NSPasteboard")]
        #[unsafe(method(initWithPasteboardWriter:))]
        #[unsafe(method_family = init)]
        pub fn initWithPasteboardWriter(
            this: Allocated<Self>,
            pasteboard_writer: &ProtocolObject<dyn NSPasteboardWriting>,
        ) -> Retained<Self>;

        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(item))]
        #[unsafe(method_family = none)]
        pub fn item(&self) -> Retained<AnyObject>;

        #[unsafe(method(draggingFrame))]
        #[unsafe(method_family = none)]
        pub fn draggingFrame(&self) -> NSRect;

        /// Setter for [`draggingFrame`][Self::draggingFrame].
        #[unsafe(method(setDraggingFrame:))]
        #[unsafe(method_family = none)]
        pub fn setDraggingFrame(&self, dragging_frame: NSRect);

        #[cfg(feature = "block2")]
        #[unsafe(method(imageComponentsProvider))]
        #[unsafe(method_family = none)]
        pub fn imageComponentsProvider(
            &self,
        ) -> *mut block2::DynBlock<dyn Fn() -> NonNull<NSArray<NSDraggingImageComponent>>>;

        #[cfg(feature = "block2")]
        /// Setter for [`imageComponentsProvider`][Self::imageComponentsProvider].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        ///
        /// # Safety
        ///
        /// `image_components_provider` block's return must be a valid pointer.
        #[unsafe(method(setImageComponentsProvider:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setImageComponentsProvider(
            &self,
            image_components_provider: Option<
                &block2::DynBlock<dyn Fn() -> NonNull<NSArray<NSDraggingImageComponent>>>,
            >,
        );

        /// # Safety
        ///
        /// `contents` should be of the correct type.
        #[unsafe(method(setDraggingFrame:contents:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setDraggingFrame_contents(&self, frame: NSRect, contents: Option<&AnyObject>);

        #[unsafe(method(imageComponents))]
        #[unsafe(method_family = none)]
        pub fn imageComponents(&self) -> Option<Retained<NSArray<NSDraggingImageComponent>>>;
    );
}

/// Methods declared on superclass `NSObject`.
impl NSDraggingItem {
    extern_methods!(
        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}
