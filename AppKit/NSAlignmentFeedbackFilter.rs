//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
#[cfg(feature = "objc2-core-foundation")]
use objc2_core_foundation::*;
use objc2_foundation::*;

use crate::*;

extern_protocol!(
    pub unsafe trait NSAlignmentFeedbackToken: NSObjectProtocol {}
);

extern_class!(
    /// An object that can filter the movement of an object and provides haptic feedback when alignment occurs.
    ///
    /// ## Overview
    ///
    /// With a Force Touch trackpad, apps can produce tactile feedback to complement user actions. If your app implements alignment features, you can use the [`NSAlignmentFeedbackFilter`](https://developer.apple.com/documentation/appkit/nsalignmentfeedbackfilter) class to filter object movements and provide haptic feedback to the user at appropriate times. As the user drags objects into alignment with a guide or another object, the user actually feels a physical bump as the object snaps into place.
    ///
    /// ### Implementing Alignment Feedback
    ///
    /// To implement alignment feedback in your custom alignment controller class, set up the class to receive events for tracking the movement of an object. These can be events matching the [`inputEventMask`](https://developer.apple.com/documentation/appkit/nsalignmentfeedbackfilter/inputeventmask) value of an `NSAlignmentFeedbackFilter` object, or events from a gesture recognizer ([`NSGestureRecognizer`](https://developer.apple.com/documentation/appkit/nsgesturerecognizer)). For each event received:
    ///
    /// 1. Create an instance of an `NSAlignmentFeedbackFilter` object. For example:
    ///
    /// (TODO tabnav: TabNavigator { tabs: [TabItem { title: "Swift", content: [CodeListing { syntax: Some("swift"), code: ["let self.feedbackFilter = NSAlignmentFeedbackFilter()"], metadata: None }] }, TabItem { title: "Objective-C", content: [CodeListing { syntax: Some("objc"), code: ["self.feedbackFilter = [NSAlignmentFeedbackFilter new];"], metadata: None }] }] })
    /// 2. Inform the alignment feedback filter object about the event. To do this, call one of the following methods:
    ///
    /// - [`updateWithEvent:`](https://developer.apple.com/documentation/appkit/nsalignmentfeedbackfilter/update(with:))
    ///
    /// - [`updateWithPanRecognizer:`](https://developer.apple.com/documentation/appkit/nsalignmentfeedbackfilter/update(withpanrecognizer:))
    ///
    /// 3. Store the location of the object before it moves in response to the event. This is considered the _previous_ location of the object.
    ///
    /// 4. Move the object to its new location in response to the event. This is the location where the object will reside if no alignment occurs.
    ///
    /// 5. Store the new location of the object. This is considered the _default_ location of the object.
    ///
    /// 6. Determine where the object will move to be aligned. This is considered the _aligned_ location of the object.
    ///
    /// 7. Request a feedback token based on the previous location, default location, and aligned location. To do this, call one of the following methods:
    ///
    /// - [`alignmentFeedbackTokenForMovementInView:previousPoint:alignedPoint:defaultPoint:`](https://developer.apple.com/documentation/appkit/nsalignmentfeedbackfilter/alignmentfeedbacktokenformovement(in:previouspoint:alignedpoint:defaultpoint:)) - If the object will be moved both horizontally and vertically to become aligned.
    ///
    /// - [`alignmentFeedbackTokenForHorizontalMovementInView:previousX:alignedX:defaultX:`](https://developer.apple.com/documentation/appkit/nsalignmentfeedbackfilter/alignmentfeedbacktokenforhorizontalmovement(in:previousx:alignedx:defaultx:)) - If the object will be moved horizontally only to become aligned.
    ///
    /// - [`alignmentFeedbackTokenForVerticalMovementInView:previousY:alignedY:defaultY:`](https://developer.apple.com/documentation/appkit/nsalignmentfeedbackfilter/alignmentfeedbacktokenforverticalmovement(in:previousy:alignedy:defaulty:)) - If the object will be moved vertically only to become aligned.
    ///
    /// 8. If a feedback token is successfully prepared, call [`performFeedback:performanceTime:`](https://developer.apple.com/documentation/appkit/nsalignmentfeedbackfilter/performfeedback(_:performancetime:)) to perform the haptic feedback. Then, move the object to the aligned location.
    ///
    /// If a value of `null` is returned, rather than a feedback token, then the system has determined that alignment and feedback are not appropriate. Perhaps the cursor is moving too fast or the distance to the aligned location is not significant enough to produce a visual snap. Move the object to its default location.
    ///
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct NSAlignmentFeedbackFilter;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for NSAlignmentFeedbackFilter {}
);

impl NSAlignmentFeedbackFilter {
    extern_methods!(
        #[cfg(feature = "NSEvent")]
        #[unsafe(method(inputEventMask))]
        #[unsafe(method_family = none)]
        pub fn inputEventMask() -> NSEventMask;

        #[cfg(feature = "NSEvent")]
        #[unsafe(method(updateWithEvent:))]
        #[unsafe(method_family = none)]
        pub fn updateWithEvent(&self, event: &NSEvent);

        #[cfg(all(feature = "NSGestureRecognizer", feature = "NSPanGestureRecognizer"))]
        #[unsafe(method(updateWithPanRecognizer:))]
        #[unsafe(method_family = none)]
        pub fn updateWithPanRecognizer(&self, pan_recognizer: &NSPanGestureRecognizer);

        #[cfg(all(feature = "NSResponder", feature = "NSView"))]
        #[unsafe(method(alignmentFeedbackTokenForMovementInView:previousPoint:alignedPoint:defaultPoint:))]
        #[unsafe(method_family = none)]
        pub fn alignmentFeedbackTokenForMovementInView_previousPoint_alignedPoint_defaultPoint(
            &self,
            view: Option<&NSView>,
            previous_point: NSPoint,
            aligned_point: NSPoint,
            default_point: NSPoint,
        ) -> Option<Retained<ProtocolObject<dyn NSAlignmentFeedbackToken>>>;

        #[cfg(all(
            feature = "NSResponder",
            feature = "NSView",
            feature = "objc2-core-foundation"
        ))]
        #[unsafe(method(alignmentFeedbackTokenForHorizontalMovementInView:previousX:alignedX:defaultX:))]
        #[unsafe(method_family = none)]
        pub fn alignmentFeedbackTokenForHorizontalMovementInView_previousX_alignedX_defaultX(
            &self,
            view: Option<&NSView>,
            previous_x: CGFloat,
            aligned_x: CGFloat,
            default_x: CGFloat,
        ) -> Option<Retained<ProtocolObject<dyn NSAlignmentFeedbackToken>>>;

        #[cfg(all(
            feature = "NSResponder",
            feature = "NSView",
            feature = "objc2-core-foundation"
        ))]
        #[unsafe(method(alignmentFeedbackTokenForVerticalMovementInView:previousY:alignedY:defaultY:))]
        #[unsafe(method_family = none)]
        pub fn alignmentFeedbackTokenForVerticalMovementInView_previousY_alignedY_defaultY(
            &self,
            view: Option<&NSView>,
            previous_y: CGFloat,
            aligned_y: CGFloat,
            default_y: CGFloat,
        ) -> Option<Retained<ProtocolObject<dyn NSAlignmentFeedbackToken>>>;

        #[cfg(feature = "NSHapticFeedback")]
        #[unsafe(method(performFeedback:performanceTime:))]
        #[unsafe(method_family = none)]
        pub fn performFeedback_performanceTime(
            &self,
            alignment_feedback_tokens: &NSArray<ProtocolObject<dyn NSAlignmentFeedbackToken>>,
            performance_time: NSHapticFeedbackPerformanceTime,
        );
    );
}

/// Methods declared on superclass `NSObject`.
impl NSAlignmentFeedbackFilter {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub fn new() -> Retained<Self>;
    );
}

impl DefaultRetained for NSAlignmentFeedbackFilter {
    #[inline]
    fn default_retained() -> Retained<Self> {
        Self::new()
    }
}
