//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

extern_class!(
    /// An object the defines a VIRTIO file system device.
    ///
    /// ## Overview
    ///
    /// This device exposes host resources to the guest as a file system mount. The directory share defines which resources the host exposes to the guest.
    ///
    /// Create this device by instantiating a [`VZVirtioFileSystemDeviceConfiguration`](https://developer.apple.com/documentation/virtualization/vzvirtiofilesystemdeviceconfiguration) in a [`VZVirtualMachineConfiguration`](https://developer.apple.com/documentation/virtualization/vzvirtualmachineconfiguration). The file system device is available in the `VZVirtualMachine`.[`directorySharingDevices`](https://developer.apple.com/documentation/virtualization/vzvirtualmachine/directorysharingdevices) property. The guest can use the [`tag`](https://developer.apple.com/documentation/virtualization/vzvirtiofilesystemdevice/tag) label to mount and access the host resources.
    ///
    /// With `VZVirtioFileSystemDevice`, the framework enforces several permissions policies for shared directories:
    ///
    /// - The framework reads and writes files using the user ID (UID) of the effective user, which is the UID of the current user, rather than the UID of the system process.
    ///
    /// - The framework doesnâ€™t allow reading or overwriting of files with permissions where the file is inaccessible to the current user.
    ///
    /// - The framework ignores requests from guest operating systems to change the UID or group ID (GID) of files on the host.
    ///
    ///
    /// Virtio File System Device
    ///
    /// This is a device that exposes host resources to the guest as a file system mount.
    /// The directory share defines which host resources are exposed to the guest.
    ///
    /// This device is created through instantiating a VZVirtioFileSystemDeviceConfiguration in a VZVirtualMachineConfiguration and is available in the
    /// VZVirtualMachine.directorySharingDevices property.
    ///
    /// See: VZVirtioFileSystemDeviceConfiguration
    ///
    /// See: VZSingleDirectoryShare
    ///
    /// See: VZMultipleDirectoryShare
    #[unsafe(super(VZDirectorySharingDevice, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(feature = "VZDirectorySharingDevice")]
    pub struct VZVirtioFileSystemDevice;
);

#[cfg(feature = "VZDirectorySharingDevice")]
extern_conformance!(
    unsafe impl NSObjectProtocol for VZVirtioFileSystemDevice {}
);

#[cfg(feature = "VZDirectorySharingDevice")]
impl VZVirtioFileSystemDevice {
    extern_methods!(
        /// The tag is a string identifying the device.
        ///
        /// The tag is presented as a label in the guest identifying this device for mounting.
        #[unsafe(method(tag))]
        #[unsafe(method_family = none)]
        pub unsafe fn tag(&self) -> Retained<NSString>;

        #[cfg(feature = "VZDirectoryShare")]
        /// Directory share. Defines how host resources are exposed to the guest virtual machine.
        ///
        /// Setting this property to VZLinuxRosettaDirectoryShare is not supported and will cause an exception to be raised.
        ///
        /// See: VZSingleDirectoryShare
        ///
        /// See: VZMultipleDirectoryShare
        #[unsafe(method(share))]
        #[unsafe(method_family = none)]
        pub unsafe fn share(&self) -> Option<Retained<VZDirectoryShare>>;

        #[cfg(feature = "VZDirectoryShare")]
        /// Setter for [`share`][Self::share].
        #[unsafe(method(setShare:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setShare(&self, share: Option<&VZDirectoryShare>);
    );
}

/// Methods declared on superclass `VZDirectorySharingDevice`.
#[cfg(feature = "VZDirectorySharingDevice")]
impl VZVirtioFileSystemDevice {
    extern_methods!(
        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;

        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;
    );
}
