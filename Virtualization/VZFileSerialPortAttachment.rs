//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

extern_class!(
    /// An attachment point that writes data from the guest system to a file.
    ///
    /// ## Overview
    ///
    /// Use a [`VZFileSerialPortAttachment`](https://developer.apple.com/documentation/virtualization/vzfileserialportattachment) object to configure a one-way serial port from the guest operating system to the virtual machine. When the guest sends data to the serial port, the virtual machine writes that data to the specified file. You canâ€™t use this serial port to send data back to the guest.
    ///
    /// Create a [`VZSerialPortAttachment`](https://developer.apple.com/documentation/virtualization/vzserialportattachment) object and assign it to an appropriate subclass of [`VZSerialPortConfiguration`](https://developer.apple.com/documentation/virtualization/vzserialportconfiguration) object, such as [`VZVirtioConsoleDeviceConfiguration`](https://developer.apple.com/documentation/virtualization/vzvirtioconsoledeviceconfiguration). The file you use to create this object must be writable.
    ///
    ///
    /// File serial port attachment.
    ///
    /// VZFileSerialPortAttachment defines a serial port attachment from a file.
    /// Any data sent by the guest on the serial interface is written to the file.
    /// No data is sent to the guest over serial with this attachment.
    #[unsafe(super(VZSerialPortAttachment, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(feature = "VZSerialPortAttachment")]
    pub struct VZFileSerialPortAttachment;
);

#[cfg(feature = "VZSerialPortAttachment")]
extern_conformance!(
    unsafe impl NSObjectProtocol for VZFileSerialPortAttachment {}
);

#[cfg(feature = "VZSerialPortAttachment")]
impl VZFileSerialPortAttachment {
    extern_methods!(
        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;

        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        /// Initialize the VZFileSerialPortAttachment from a URL of a file.
        ///
        /// Parameter `url`: The URL of the file for the attachment on the local file system.
        ///
        /// Parameter `shouldAppend`: True if the file should be opened in append mode, false otherwise.
        /// When a file is opened in append mode, writing to that file will append to the end of it.
        ///
        /// Parameter `error`: If not nil, used to report errors if initialization fails.
        ///
        /// Returns: A newly initialized VZFileSerialPortAttachment. If an error was encountered returns
        /// `nil,`and
        /// `error`contains the error.
        #[unsafe(method(initWithURL:append:error:_))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithURL_append_error(
            this: Allocated<Self>,
            url: &NSURL,
            should_append: bool,
        ) -> Result<Retained<Self>, Retained<NSError>>;

        /// The URL of the file for the attachment on the local file system.
        #[unsafe(method(URL))]
        #[unsafe(method_family = none)]
        pub unsafe fn URL(&self) -> Retained<NSURL>;

        /// True if the file should be opened in append mode, false otherwise.
        #[unsafe(method(append))]
        #[unsafe(method_family = none)]
        pub unsafe fn append(&self) -> bool;
    );
}
