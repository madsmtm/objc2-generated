//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
#[cfg(feature = "objc2")]
use objc2::__framework_prelude::*;

use crate::ffi::*;

#[repr(C)]
#[derive(Clone, Copy)]
pub union FTS_fts_options {
    /// compare function
    pub fts_compar: Option<unsafe extern "C-unwind" fn() -> c_int>,
    /// compare block
    pub fts_compar_b: *mut block2::Block<dyn Fn() -> c_int>,
}

#[repr(C)]
#[derive(Clone, Copy, Debug, PartialEq)]
pub struct FTS {
    /// current node
    pub fts_cur: *mut _ftsent,
    /// linked list of children
    pub fts_child: *mut Self,
    /// sort array
    pub fts_array: *mut *mut Self,
    /// starting device #
    pub fts_dev: dev_t,
    /// path for this descent
    pub fts_path: *mut c_char,
    /// fd for root
    pub fts_rfd: c_int,
    /// sizeof(path)
    pub fts_pathlen: c_int,
    /// elements in the sort array
    pub fts_nitems: c_int,
    /// fts_open options, global flags
    pub fts_options: c_int,
}

#[repr(C)]
#[derive(Clone, Copy, Debug, PartialEq)]
pub struct _ftsent {
    /// cycle node
    pub fts_cycle: *mut Self,
    /// parent directory
    pub fts_parent: *mut Self,
    /// next file in directory
    pub fts_link: *mut Self,
    /// local numeric value
    pub fts_number: c_long,
    /// local address value
    pub fts_pointer: *mut c_void,
    /// access path
    pub fts_accpath: *mut c_char,
    /// root path
    pub fts_path: *mut c_char,
    /// errno for this node
    pub fts_errno: c_int,
    /// fd for symlink or chdir
    pub fts_symfd: c_int,
    /// strlen(fts_path)
    pub fts_pathlen: c_ushort,
    /// strlen(fts_name)
    pub fts_namelen: c_ushort,
    /// inode
    pub fts_ino: ino_t,
    /// device
    pub fts_dev: dev_t,
    /// link count
    pub fts_nlink: nlink_t,
    /// depth (-1 to N)
    pub fts_level: c_short,
    /// user flags for FTSENT structure
    pub fts_info: c_ushort,
    /// private flags for FTSENT structure
    pub fts_flags: c_ushort,
    /// fts_set() instructions
    pub fts_instr: c_ushort,
    /// stat(2) information
    pub fts_statp: *mut stat,
    /// file name
    pub fts_name: [c_char; 1],
}

pub type FTSENT = Self;

#[inline]
pub unsafe extern "C-unwind" fn fts_children(
    param1: *mut FTS,
    param1: c_int,
) -> Option<Retained<FTSENT>> {
    extern "C-unwind" {
        #[cfg_attr(target_vendor = "apple", link_name = "fts_children")]
        fn fts_children(param1: *mut FTS, param1: c_int) -> *mut FTSENT;
    }
    let ret = unsafe { fts_children(param1, param1) };
    unsafe { Retained::retain_autoreleased(ret) }
}

extern "C-unwind" {
    #[cfg_attr(target_vendor = "apple", link_name = "fts_close")]
    pub fn fts_close(param1: *mut FTS) -> c_int;
}

extern "C-unwind" {
    #[cfg_attr(target_vendor = "apple", link_name = "fts_open")]
    pub fn fts_open(
        param1: *const *const c_char,
        param1: c_int,
        param1: Option<
            unsafe extern "C-unwind" fn(*mut *const FTSENT, *mut *const FTSENT) -> c_int,
        >,
    ) -> *mut FTS;
}

extern "C-unwind" {
    #[cfg_attr(target_vendor = "apple", link_name = "fts_open_b")]
    pub fn fts_open_b(
        param1: *const *const c_char,
        param1: c_int,
        param1: Option<&block2::Block<dyn Fn(*mut *const FTSENT, *mut *const FTSENT) -> c_int>>,
    ) -> *mut FTS;
}

#[inline]
pub unsafe extern "C-unwind" fn fts_read(param1: *mut FTS) -> Option<Retained<FTSENT>> {
    extern "C-unwind" {
        #[cfg_attr(target_vendor = "apple", link_name = "fts_read")]
        fn fts_read(param1: *mut FTS) -> *mut FTSENT;
    }
    let ret = unsafe { fts_read(param1) };
    unsafe { Retained::retain_autoreleased(ret) }
}

extern "C-unwind" {
    #[cfg_attr(target_vendor = "apple", link_name = "fts_set")]
    pub fn fts_set(param1: *mut FTS, param1: Option<&FTSENT>, param1: c_int) -> c_int;
}
