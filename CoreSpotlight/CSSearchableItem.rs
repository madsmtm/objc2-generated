//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

extern "C" {
    /// Indicates that the activity type to continue is related to a searchable item.
    ///
    /// ## Discussion
    ///
    /// The `CSSearchableItemActionType` and `CSSearchableItemActivityIdentifier` constants help your app restore state or an activity when a user opens a searchable item listed in a search result. When the user opens the item, Handoff calls your app delegate’s `application(_:willContinueUserActivityWithType:)` method with `CSSearchableItemActionType`. Handoff also delivers an `NSUserActivity` object that contains a `userInfo` dictionary in which the key is `CSSearchableItemActivityIdentifier` and the associated value is the unique identifier that was used when the item was created. Your app delegate can check for the unique identifier in its `application(_:continue:restorationHandler:)` method.
    ///
    /// To learn more about enabling Handoff in your app, see the [Handoff Programming Guide](https://developer.apple.com/library/content/documentation/UserExperience/Conceptual/Handoff/HandoffFundamentals/HandoffFundamentals.html#//apple_ref/doc/uid/TP40014338).
    ///
    ///
    pub static CSSearchableItemActionType: &'static NSString;
}

extern "C" {
    /// The key you use to access a searchable item in a user activity object.
    ///
    /// ## Discussion
    ///
    /// Use this key to access the unique identifier for the searchable item from the [`userInfo`](https://developer.apple.com/documentation/foundation/nsuseractivity/userinfo) dictionary of a [`NSUserActivity`](https://developer.apple.com/documentation/foundation/nsuseractivity) object.
    ///
    ///
    pub static CSSearchableItemActivityIdentifier: &'static NSString;
}

extern "C" {
    /// A key that specifies the action’s identifier in a user activity.
    ///
    /// ## Discussion
    ///
    /// When the user selects a custom action on an indexed item, the system launches your app and invokes [`application:continueUserActivity:restorationHandler:`](https://developer.apple.com/documentation/uikit/uiapplicationdelegate/application(_:continue:restorationhandler:)). The `userInfo` dictionary of the specified [`NSUserActivity`](https://developer.apple.com/documentation/foundation/nsuseractivity) includes the corresponding `Info.plist` using this key.
    ///
    ///
    pub static CSActionIdentifier: &'static NSString;
}

extern "C" {
    /// Indicates that the activity type to continue is a search or query.
    ///
    /// ## Discussion
    ///
    /// To support search continuation, be sure to include the `CoreSpotlightContinuation` key in your Info.plist file with the value `true`. When users continue a query they started in Spotlight, the system calls your app delegate’s `application(_:willContinueUserActivityWithType:)` method with `CSQueryContinuationActionType`. Then, your app delegate receives an [`NSUserActivity`](https://developer.apple.com/documentation/foundation/nsuseractivity) object that contains a `userInfo` dictionary that includes the [`CSSearchQueryString`](https://developer.apple.com/documentation/corespotlight/cssearchquerystring) key in its `application(_:continue:restorationHandler:)` method. You use the query string associated with this key to continue the search.
    ///
    ///
    pub static CSQueryContinuationActionType: &'static NSString;
}

extern "C" {
    /// Provides the key for the current query in the info dictionary of the user activity object.
    pub static CSSearchQueryString: &'static NSString;
}

/// The set of options that contain metadata-associated summarization and prioritization of a searchable item.
///
/// ## Overview
///
/// To receive updates to specific properties on searchable items, implement the [`searchableItemsDidUpdate:`](https://developer.apple.com/documentation/corespotlight/cssearchableindexdelegate/searchableitemsdidupdate(_:)) delegate method.
///
///
// NS_OPTIONS
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct CSSearchableItemUpdateListenerOptions(pub NSUInteger);
bitflags::bitflags! {
    impl CSSearchableItemUpdateListenerOptions: NSUInteger {
        #[doc(alias = "CSSearchableItemUpdateListenerOptionDefault")]
        const Default = 0;
/// A value that describes the listener summarization options.
        #[doc(alias = "CSSearchableItemUpdateListenerOptionSummarization")]
        const Summarization = 1<<1;
/// A value that describes the listener priority options.
        #[doc(alias = "CSSearchableItemUpdateListenerOptionPriority")]
        const Priority = 1<<2;
    }
}

unsafe impl Encode for CSSearchableItemUpdateListenerOptions {
    const ENCODING: Encoding = NSUInteger::ENCODING;
}

unsafe impl RefEncode for CSSearchableItemUpdateListenerOptions {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

extern_class!(
    /// The details of your app-specific content that someone might search for on their devices.
    ///
    /// ## Overview
    ///
    /// A `CSSearchableItem` uniquely identifies a part of your app’s content, and provides the metadata that Spotlight indexes and uses to find that content later. As part of indexing your app’s content, you create searchable items and fill them with details about your app’s content and where to find it. After indexing the content, you can then execute queries using the Core Spotlight APIs to find the items you indexed. People can also use the system’s Spotlight search interface to find your app’s content.
    ///
    /// When you create or update content in your app, create a `CSSearchableItem` for that content if you want it to be searchable. A searchable item contains identification strings you use to locate that item in your content and a [`CSSearchableItemAttributeSet`](https://developer.apple.com/documentation/corespotlight/cssearchableitemattributeset) object with details about the item. For the metadata, you typically want to provide values for the [`title`](https://developer.apple.com/documentation/corespotlight/cssearchableitemattributeset/title), [`displayName`](https://developer.apple.com/documentation/corespotlight/cssearchableitemattributeset/displayname), and [`contentType`](https://developer.apple.com/documentation/corespotlight/cssearchableitemattributeset/contenttype) attributes at a minimum. If you’re indexing a file on disk, provide a value for the [`contentURL`](https://developer.apple.com/documentation/corespotlight/cssearchableitemattributeset/contenturl) attribute. Fill in as many other attributes as makes sense for the content you’re indexing.
    ///
    /// After creating a searchable item, index it using a [`CSSearchableIndex`](https://developer.apple.com/documentation/corespotlight/cssearchableindex) object. As you update your app’s content, update your `CSSearchableItem` objects for that content and index them right away. If you delete content, similarly delete the searchable items from the index. Keeping your app’s indexes current ensures that searches return valid information. For more information on indexing your content, see [Adding your app’s content to Spotlight indexes](https://developer.apple.com/documentation/corespotlight/adding-your-app-s-content-to-spotlight-indexes).
    ///
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct CSSearchableItem;
);

extern_conformance!(
    unsafe impl NSCoding for CSSearchableItem {}
);

extern_conformance!(
    unsafe impl NSCopying for CSSearchableItem {}
);

unsafe impl CopyingHelper for CSSearchableItem {
    type Result = Self;
}

extern_conformance!(
    unsafe impl NSObjectProtocol for CSSearchableItem {}
);

extern_conformance!(
    unsafe impl NSSecureCoding for CSSearchableItem {}
);

impl CSSearchableItem {
    extern_methods!(
        #[cfg(feature = "CSSearchableItemAttributeSet")]
        #[unsafe(method(initWithUniqueIdentifier:domainIdentifier:attributeSet:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithUniqueIdentifier_domainIdentifier_attributeSet(
            this: Allocated<Self>,
            unique_identifier: Option<&NSString>,
            domain_identifier: Option<&NSString>,
            attribute_set: &CSSearchableItemAttributeSet,
        ) -> Retained<Self>;

        #[unsafe(method(compareByRank:))]
        #[unsafe(method_family = none)]
        pub unsafe fn compareByRank(&self, other: &CSSearchableItem) -> NSComparisonResult;

        #[unsafe(method(uniqueIdentifier))]
        #[unsafe(method_family = none)]
        pub unsafe fn uniqueIdentifier(&self) -> Retained<NSString>;

        /// Setter for [`uniqueIdentifier`][Self::uniqueIdentifier].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        #[unsafe(method(setUniqueIdentifier:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setUniqueIdentifier(&self, unique_identifier: &NSString);

        #[unsafe(method(domainIdentifier))]
        #[unsafe(method_family = none)]
        pub unsafe fn domainIdentifier(&self) -> Option<Retained<NSString>>;

        /// Setter for [`domainIdentifier`][Self::domainIdentifier].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        #[unsafe(method(setDomainIdentifier:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setDomainIdentifier(&self, domain_identifier: Option<&NSString>);

        #[unsafe(method(expirationDate))]
        #[unsafe(method_family = none)]
        pub unsafe fn expirationDate(&self) -> Retained<NSDate>;

        /// Setter for [`expirationDate`][Self::expirationDate].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        #[unsafe(method(setExpirationDate:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setExpirationDate(&self, expiration_date: Option<&NSDate>);

        #[cfg(feature = "CSSearchableItemAttributeSet")]
        #[unsafe(method(attributeSet))]
        #[unsafe(method_family = none)]
        pub unsafe fn attributeSet(&self) -> Retained<CSSearchableItemAttributeSet>;

        #[cfg(feature = "CSSearchableItemAttributeSet")]
        /// Setter for [`attributeSet`][Self::attributeSet].
        #[unsafe(method(setAttributeSet:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setAttributeSet(&self, attribute_set: &CSSearchableItemAttributeSet);

        #[unsafe(method(isUpdate))]
        #[unsafe(method_family = none)]
        pub unsafe fn isUpdate(&self) -> bool;

        /// Setter for [`isUpdate`][Self::isUpdate].
        #[unsafe(method(setIsUpdate:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setIsUpdate(&self, is_update: bool);

        #[unsafe(method(updateListenerOptions))]
        #[unsafe(method_family = none)]
        pub unsafe fn updateListenerOptions(&self) -> CSSearchableItemUpdateListenerOptions;

        /// Setter for [`updateListenerOptions`][Self::updateListenerOptions].
        #[unsafe(method(setUpdateListenerOptions:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setUpdateListenerOptions(
            &self,
            update_listener_options: CSSearchableItemUpdateListenerOptions,
        );
    );
}

/// Methods declared on superclass `NSObject`.
impl CSSearchableItem {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}
