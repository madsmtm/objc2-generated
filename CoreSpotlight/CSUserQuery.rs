//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

/// Constants that indicate how someone engaged with search-related content.
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct CSUserInteraction(pub NSInteger);
impl CSUserInteraction {
    #[doc(alias = "CSUserInteractionSelect")]
    pub const Select: Self = Self(0);
    #[doc(alias = "CSUserInteractionDefault")]
    pub const Default: Self = Self(CSUserInteraction::Select.0);
    #[doc(alias = "CSUserInteractionFocus")]
    pub const Focus: Self = Self(1);
}

unsafe impl Encode for CSUserInteraction {
    const ENCODING: Encoding = NSInteger::ENCODING;
}

unsafe impl RefEncode for CSUserInteraction {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

extern_class!(
    /// The configuration details to apply to a user query.
    ///
    /// ## Overview
    ///
    /// Use an instance of `CSUserQueryContext` to configure the search parameters for a [`CSUserQuery`](https://developer.apple.com/documentation/corespotlight/csuserquery) object. This object stores configuration details that the query uses to modify the search results it delivers. For example, use this object to specify the maximum number of results or suggestions you want the query to return. You can also use it to enable or disable the ranking of results by Spotlight.
    ///
    /// For information about search filters and other configurable query parameters, see the parent class [`CSSearchQueryContext`](https://developer.apple.com/documentation/corespotlight/cssearchquerycontext).
    ///
    ///
    #[unsafe(super(CSSearchQueryContext, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(feature = "CSSearchQuery")]
    pub struct CSUserQueryContext;
);

#[cfg(feature = "CSSearchQuery")]
extern_conformance!(
    unsafe impl NSCoding for CSUserQueryContext {}
);

#[cfg(feature = "CSSearchQuery")]
extern_conformance!(
    unsafe impl NSCopying for CSUserQueryContext {}
);

#[cfg(feature = "CSSearchQuery")]
unsafe impl CopyingHelper for CSUserQueryContext {
    type Result = Self;
}

#[cfg(feature = "CSSearchQuery")]
extern_conformance!(
    unsafe impl NSObjectProtocol for CSUserQueryContext {}
);

#[cfg(feature = "CSSearchQuery")]
extern_conformance!(
    unsafe impl NSSecureCoding for CSUserQueryContext {}
);

#[cfg(feature = "CSSearchQuery")]
impl CSUserQueryContext {
    extern_methods!(
        #[unsafe(method(userQueryContext))]
        #[unsafe(method_family = none)]
        pub unsafe fn userQueryContext() -> Retained<CSUserQueryContext>;

        #[cfg(feature = "CSSuggestion")]
        #[unsafe(method(userQueryContextWithCurrentSuggestion:))]
        #[unsafe(method_family = none)]
        pub unsafe fn userQueryContextWithCurrentSuggestion(
            current_suggestion: Option<&CSSuggestion>,
        ) -> Retained<CSUserQueryContext>;

        #[unsafe(method(enableRankedResults))]
        #[unsafe(method_family = none)]
        pub unsafe fn enableRankedResults(&self) -> bool;

        /// Setter for [`enableRankedResults`][Self::enableRankedResults].
        #[unsafe(method(setEnableRankedResults:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setEnableRankedResults(&self, enable_ranked_results: bool);

        #[unsafe(method(disableSemanticSearch))]
        #[unsafe(method_family = none)]
        pub unsafe fn disableSemanticSearch(&self) -> bool;

        /// Setter for [`disableSemanticSearch`][Self::disableSemanticSearch].
        #[unsafe(method(setDisableSemanticSearch:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setDisableSemanticSearch(&self, disable_semantic_search: bool);

        #[unsafe(method(maxResultCount))]
        #[unsafe(method_family = none)]
        pub unsafe fn maxResultCount(&self) -> NSInteger;

        /// Setter for [`maxResultCount`][Self::maxResultCount].
        #[unsafe(method(setMaxResultCount:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setMaxResultCount(&self, max_result_count: NSInteger);

        #[unsafe(method(maxSuggestionCount))]
        #[unsafe(method_family = none)]
        pub unsafe fn maxSuggestionCount(&self) -> NSInteger;

        /// Setter for [`maxSuggestionCount`][Self::maxSuggestionCount].
        #[unsafe(method(setMaxSuggestionCount:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setMaxSuggestionCount(&self, max_suggestion_count: NSInteger);

        #[unsafe(method(maxRankedResultCount))]
        #[unsafe(method_family = none)]
        pub unsafe fn maxRankedResultCount(&self) -> NSInteger;

        /// Setter for [`maxRankedResultCount`][Self::maxRankedResultCount].
        #[unsafe(method(setMaxRankedResultCount:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setMaxRankedResultCount(&self, max_ranked_result_count: NSInteger);
    );
}

/// Methods declared on superclass `NSObject`.
#[cfg(feature = "CSSearchQuery")]
impl CSUserQueryContext {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}

extern_class!(
    /// A type you use to initiate searches from your interface and offer suggested text completions.
    ///
    /// ## Overview
    ///
    /// A `CSUserQuery` object provides the back-end support for your app’s search features. Combine this object with your app’s search interface to perform lexical and semantic searches of human-entered search terms. You can configure a query object to return ranked or unranked results. You can also use it to get a list of suggestions to display from your search interface.
    ///
    /// When the text in your search control changes, create a query object to begin searching for results based on the current text. You use a query object only once to perform a search. If the text changes again while a previous query is in progress, cancel the old query and execute the new one. For this reason, it’s a good idea to delay the start of each query until there is a sufficient gap between changes.
    ///
    /// Configure the query parameters using a [`CSUserQueryContext`](https://developer.apple.com/documentation/corespotlight/csuserquerycontext) object, which you can reuse for multiple queries. The context lets you configure the behavior for ranking results, specify the maximum number of results and suggestions, and filter the results using a predicate string. When you’re ready to start the query, choose one of the following options:
    ///
    /// - Get the value of the [`responses`](https://developer.apple.com/documentation/corespotlight/csuserquery/responses-swift.property) property and iterate over the results.
    ///
    /// - Configure the [`foundItemsHandler`](https://developer.apple.com/documentation/corespotlight/cssearchquery/founditemshandler) property and call [`start`](https://developer.apple.com/documentation/corespotlight/csuserquery/start()) to execute the query manually.
    ///
    /// Each query runs until Spotlight returns the requested maximum number of results. If you don’t specify the maximum number of results, Spotlight runs until it returns all results. To end a search before you receive all the results, call the [`cancel`](https://developer.apple.com/documentation/corespotlight/csuserquery/cancel()) method. Cancelling a query is especially important if you’re about to start a new query with an updated search string.
    ///
    /// For more information about configuring a `CSUserQuery` object, see [Building a search interface for your app](https://developer.apple.com/documentation/corespotlight/building-a-search-interface-for-your-app).
    ///
    ///
    #[unsafe(super(CSSearchQuery, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(feature = "CSSearchQuery")]
    pub struct CSUserQuery;
);

#[cfg(feature = "CSSearchQuery")]
extern_conformance!(
    unsafe impl NSObjectProtocol for CSUserQuery {}
);

#[cfg(feature = "CSSearchQuery")]
impl CSUserQuery {
    extern_methods!(
        #[unsafe(method(prepare))]
        #[unsafe(method_family = none)]
        pub unsafe fn prepare();

        #[unsafe(method(prepareProtectionClasses:))]
        #[unsafe(method_family = none)]
        pub unsafe fn prepareProtectionClasses(protection_classes: &NSArray<NSFileProtectionType>);

        #[unsafe(method(initWithUserQueryString:userQueryContext:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithUserQueryString_userQueryContext(
            this: Allocated<Self>,
            user_query_string: Option<&NSString>,
            user_query_context: Option<&CSUserQueryContext>,
        ) -> Retained<Self>;

        #[unsafe(method(foundSuggestionCount))]
        #[unsafe(method_family = none)]
        pub unsafe fn foundSuggestionCount(&self) -> NSInteger;

        #[cfg(all(feature = "CSSuggestion", feature = "block2"))]
        /// # Safety
        ///
        /// The returned block's argument must be a valid pointer.
        #[unsafe(method(foundSuggestionsHandler))]
        #[unsafe(method_family = none)]
        pub unsafe fn foundSuggestionsHandler(
            &self,
        ) -> *mut block2::DynBlock<dyn Fn(NonNull<NSArray<CSSuggestion>>)>;

        #[cfg(all(feature = "CSSuggestion", feature = "block2"))]
        /// Setter for [`foundSuggestionsHandler`][Self::foundSuggestionsHandler].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        #[unsafe(method(setFoundSuggestionsHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setFoundSuggestionsHandler(
            &self,
            found_suggestions_handler: Option<
                &block2::DynBlock<dyn Fn(NonNull<NSArray<CSSuggestion>>)>,
            >,
        );

        #[cfg(feature = "CSSearchableItem")]
        #[unsafe(method(userEngagedWithItem:visibleItems:userInteractionType:))]
        #[unsafe(method_family = none)]
        pub unsafe fn userEngagedWithItem_visibleItems_userInteractionType(
            &self,
            item: &CSSearchableItem,
            visible_items: &NSArray<CSSearchableItem>,
            user_interaction_type: CSUserInteraction,
        );

        #[cfg(feature = "CSSuggestion")]
        #[unsafe(method(userEngagedWithSuggestion:visibleSuggestions:userInteractionType:))]
        #[unsafe(method_family = none)]
        pub unsafe fn userEngagedWithSuggestion_visibleSuggestions_userInteractionType(
            &self,
            suggestion: &CSSuggestion,
            visible_suggestions: &NSArray<CSSuggestion>,
            user_interaction_type: CSUserInteraction,
        );

        #[unsafe(method(start))]
        #[unsafe(method_family = none)]
        pub unsafe fn start(&self);

        #[unsafe(method(cancel))]
        #[unsafe(method_family = none)]
        pub unsafe fn cancel(&self);
    );
}

/// Methods declared on superclass `CSSearchQuery`.
#[cfg(feature = "CSSearchQuery")]
impl CSUserQuery {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(initWithQueryString:queryContext:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithQueryString_queryContext(
            this: Allocated<Self>,
            query_string: &NSString,
            query_context: Option<&CSSearchQueryContext>,
        ) -> Retained<Self>;

        #[deprecated = "Use initWithQueryString:queryContext instead"]
        #[unsafe(method(initWithQueryString:attributes:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithQueryString_attributes(
            this: Allocated<Self>,
            query_string: &NSString,
            attributes: Option<&NSArray<NSString>>,
        ) -> Retained<Self>;
    );
}

/// Methods declared on superclass `NSObject`.
#[cfg(feature = "CSSearchQuery")]
impl CSUserQuery {
    extern_methods!(
        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}
