//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::cell::UnsafeCell;
use core::ffi::*;
use core::marker::{PhantomData, PhantomPinned};
#[cfg(feature = "objc2")]
use objc2::__framework_prelude::*;
use objc2_core_foundation::*;

use crate::*;

/// A PDF Boolean value.
pub type CGPDFBoolean = c_uchar;

/// A PDF integer value.
pub type CGPDFInteger = c_long;

/// A PDF real value.
pub type CGPDFReal = CGFloat;

#[repr(C)]
#[derive(Debug)]
pub struct CGPDFObject {
    inner: [u8; 0],
    _p: UnsafeCell<PhantomData<(*const UnsafeCell<()>, PhantomPinned)>>,
}

#[cfg(feature = "objc2")]
unsafe impl RefEncode for CGPDFObject {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Encoding::Struct("CGPDFObject", &[]));
}

/// A type that contains information about a PDF object.
pub type CGPDFObjectRef = *mut CGPDFObject;

/// Types of PDF object.
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord)]
pub struct CGPDFObjectType(pub i32);
impl CGPDFObjectType {
    /// The type for a PDF null.
    #[doc(alias = "kCGPDFObjectTypeNull")]
    pub const Null: Self = Self(1);
    /// The type for a PDF Boolean.
    #[doc(alias = "kCGPDFObjectTypeBoolean")]
    pub const Boolean: Self = Self(2);
    /// The type for a PDF integer.
    #[doc(alias = "kCGPDFObjectTypeInteger")]
    pub const Integer: Self = Self(3);
    /// The type for a PDF real.
    #[doc(alias = "kCGPDFObjectTypeReal")]
    pub const Real: Self = Self(4);
    /// Type for a PDF name.
    #[doc(alias = "kCGPDFObjectTypeName")]
    pub const Name: Self = Self(5);
    /// The type for a PDF string.
    #[doc(alias = "kCGPDFObjectTypeString")]
    pub const String: Self = Self(6);
    /// Type for a PDF array.
    #[doc(alias = "kCGPDFObjectTypeArray")]
    pub const Array: Self = Self(7);
    /// The type for a PDF dictionary.
    #[doc(alias = "kCGPDFObjectTypeDictionary")]
    pub const Dictionary: Self = Self(8);
    /// The type for a PDF stream.
    #[doc(alias = "kCGPDFObjectTypeStream")]
    pub const Stream: Self = Self(9);
}

#[cfg(feature = "objc2")]
unsafe impl Encode for CGPDFObjectType {
    const ENCODING: Encoding = i32::ENCODING;
}

#[cfg(feature = "objc2")]
unsafe impl RefEncode for CGPDFObjectType {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

impl CGPDFObject {
    /// Returns the PDF type identifier of an object.
    ///
    /// Parameters:
    /// - object: A PDF object. If the value if not a PDF object, the behavior is unspecified.
    ///
    ///
    /// ## Return Value
    ///
    /// Returns the type of the `object` parameter. See [Abstract Types for PDF Document Content](https://developer.apple.com/documentation/coregraphics/cgpdfdocument#abstract-types-for-pdf-document-content).
    ///
    ///
    ///
    /// # Safety
    ///
    /// `object` must be a valid pointer or null.
    #[doc(alias = "CGPDFObjectGetType")]
    #[inline]
    pub unsafe fn r#type(object: CGPDFObjectRef) -> CGPDFObjectType {
        extern "C-unwind" {
            fn CGPDFObjectGetType(object: CGPDFObjectRef) -> CGPDFObjectType;
        }
        unsafe { CGPDFObjectGetType(object) }
    }

    /// Returns whether an object is of a given type and if it is, retrieves its value.
    ///
    /// Parameters:
    /// - object: A PDF object.
    ///
    /// - type: A PDF object type.
    ///
    /// - value: If the `object` parameter is a PDF object of the specified type, then on return contains that object, otherwise the value is unspecified.
    ///
    ///
    /// ## Return Value
    ///
    /// Returns [`true`](https://developer.apple.com/documentation/swift/true) if the specified object is a PDF object of the specified type, otherwise [`false`](https://developer.apple.com/documentation/swift/false).
    ///
    ///
    ///
    /// ## Discussion
    ///
    /// The function gets the value of the `object` parameter. If the type of `object` is equal to the type specified, then:
    ///
    /// - If the `value` parameter is not a null pointer, then the value of `object` is copied to `value`, and the function returns [`true`](https://developer.apple.com/documentation/swift/true).
    ///
    /// - If the `value` parameter is a null pointer, then the function simply returns [`true`](https://developer.apple.com/documentation/swift/true). This allows you to test whether `object` is of the type specified.
    ///
    /// If the type of `object` is [`kCGPDFObjectTypeInteger`](https://developer.apple.com/documentation/coregraphics/cgpdfobjecttype/integer) and `type` is equal to [`kCGPDFObjectTypeReal`](https://developer.apple.com/documentation/coregraphics/cgpdfobjecttype/real), then the value of `object` is converted to floating point, the result copied to `value`, and the function returns [`true`](https://developer.apple.com/documentation/swift/true). If none of the preceding conditions is met, returns [`false`](https://developer.apple.com/documentation/swift/false).
    ///
    ///
    ///
    /// # Safety
    ///
    /// - `object` must be a valid pointer or null.
    /// - `value` must be a valid pointer or null.
    #[doc(alias = "CGPDFObjectGetValue")]
    #[inline]
    pub unsafe fn value(
        object: CGPDFObjectRef,
        r#type: CGPDFObjectType,
        value: *mut c_void,
    ) -> bool {
        extern "C-unwind" {
            fn CGPDFObjectGetValue(
                object: CGPDFObjectRef,
                r#type: CGPDFObjectType,
                value: *mut c_void,
            ) -> bool;
        }
        unsafe { CGPDFObjectGetValue(object, r#type, value) }
    }
}

extern "C-unwind" {
    #[deprecated = "renamed to `CGPDFObject::type`"]
    pub fn CGPDFObjectGetType(object: CGPDFObjectRef) -> CGPDFObjectType;
}

extern "C-unwind" {
    #[deprecated = "renamed to `CGPDFObject::value`"]
    pub fn CGPDFObjectGetValue(
        object: CGPDFObjectRef,
        r#type: CGPDFObjectType,
        value: *mut c_void,
    ) -> bool;
}
