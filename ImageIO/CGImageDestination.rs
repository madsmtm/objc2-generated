//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::cell::UnsafeCell;
use core::ffi::*;
use core::marker::{PhantomData, PhantomPinned};
use core::ptr::NonNull;
#[cfg(feature = "objc2")]
use objc2::__framework_prelude::*;
use objc2_core_foundation::*;
#[cfg(feature = "objc2-core-graphics")]
use objc2_core_graphics::*;

use crate::*;

/// An opaque type that you use to write image data to a URL, data object, or data consumer.
///
/// ## Overview
///
/// A [`CGImageDestinationRef`](https://developer.apple.com/documentation/imageio/cgimagedestination) object provides an abstract interface for saving image data. Use an image destination to represent a single image, or multiple images packaged together. For example, you might create an image that also contains a thumbnail. You can also use the image destination to add metadata to your images.
///
/// An image destination outputs data to a URL, a `CFData` object, or a [`CGDataConsumerRef`](https://developer.apple.com/documentation/coregraphics/cgdataconsumer) object, which you specify at creation time. After you create the image destination, add the image data and properties. When you are done, call [`CGImageDestinationFinalize`](https://developer.apple.com/documentation/imageio/cgimagedestinationfinalize(_:)) to finalize the image data and write it to the output location.
///
/// For more information, see [Image I/O Programming Guide](https://developer.apple.com/library/archive/documentation/GraphicsImaging/Conceptual/ImageIOGuide/imageio_intro/ikpg_intro.html#//apple_ref/doc/uid/TP40005462).
///
///
#[doc(alias = "CGImageDestinationRef")]
#[repr(C)]
pub struct CGImageDestination {
    inner: [u8; 0],
    _p: UnsafeCell<PhantomData<(*const UnsafeCell<()>, PhantomPinned)>>,
}

cf_type!(
    unsafe impl CGImageDestination {}
);
#[cfg(feature = "objc2")]
cf_objc2_type!(
    unsafe impl RefEncode<"CGImageDestination"> for CGImageDestination {}
);

extern "C" {
    /// The desired compression quality to use when writing the image data.
    ///
    /// ## Discussion
    ///
    /// If present, the value associated with this key must be a `CFNumberRef` data type in the range `0.0` to `1.0`. A value of `1.0` specifies to use lossless compression if destination format supports it. A value of 0.0 implies to use maximum compression.
    ///
    ///
    /// Properties which may be passed to "CGImageDestinationAddImage"
    /// * or "CGImageDestinationAddImageFromSource" to effect the output.
    /// * The values apply to a single image of an image destination. *
    pub static kCGImageDestinationLossyCompressionQuality: &'static CFString;
}

extern "C" {
    /// The background color to use when the image has an alpha component, but the destination format doesn’t support alpha.
    ///
    /// ## Discussion
    ///
    /// If present, the value associated with this key must be a [`CGColorRef`](https://developer.apple.com/documentation/coregraphics/cgcolor) data type without an alpha component of its own. If not present, and if a background color is needed, a white color is used.
    ///
    ///
    pub static kCGImageDestinationBackgroundColor: &'static CFString;
}

extern "C" {
    /// The maximum width and height of the image, in pixels.
    ///
    /// ## Discussion
    ///
    /// The value of this key must be a [`CFNumberRef`](https://developer.apple.com/documentation/corefoundation/cfnumber). If present, the destination rescales the image as needed to fit within the maximum width and height. If this key isn’t present, the destination retains the native image size.
    ///
    ///
    pub static kCGImageDestinationImageMaxPixelSize: &'static CFString;
}

extern "C" {
    /// A Boolean value that indicates whether to embed a thumbnail for JPEG and HEIF images.
    ///
    /// ## Discussion
    ///
    /// The value of this key must be a [`CFBooleanRef`](https://developer.apple.com/documentation/corefoundation/cfboolean) value. The default value is [`kCFBooleanFalse`](https://developer.apple.com/documentation/corefoundation/kcfbooleanfalse).
    ///
    ///
    pub static kCGImageDestinationEmbedThumbnail: &'static CFString;
}

extern "C" {
    /// A Boolean value that indicates whether to create the image using a colorspace.
    ///
    /// ## Discussion
    ///
    /// The value of this key must be a [`CFBooleanRef`](https://developer.apple.com/documentation/corefoundation/cfboolean) value. The default value is [`kCFBooleanFalse`](https://developer.apple.com/documentation/corefoundation/kcfbooleanfalse). Include this key and set it to [`kCFBooleanTrue`](https://developer.apple.com/documentation/corefoundation/kcfbooleantrue) to color convert the image using its colorspace, which provides better compatibility with older devices.
    ///
    ///
    pub static kCGImageDestinationOptimizeColorForSharing: &'static CFString;
}

unsafe impl ConcreteType for CGImageDestination {
    /// Returns the unique type identifier of an image destination opaque type.
    ///
    /// ## Return Value
    ///
    /// Returns the Core Foundation type ID for an image destination.
    ///
    ///
    ///
    /// ## Discussion
    ///
    /// A type identifier is an integer that identifies the opaque type to which a Core Foundation object belongs. You use type IDs in various contexts, such as when you are operating on heterogeneous collections.
    ///
    ///
    #[doc(alias = "CGImageDestinationGetTypeID")]
    #[inline]
    fn type_id() -> CFTypeID {
        extern "C-unwind" {
            fn CGImageDestinationGetTypeID() -> CFTypeID;
        }
        unsafe { CGImageDestinationGetTypeID() }
    }
}

impl CGImageDestination {
    /// Returns an array of the uniform type identifiers that are supported for image destinations.
    ///
    /// ## Return Value
    ///
    /// Returns an array of the uniform type identifiers that image destinations support. For a list of system-declared and third-party identifiers, see [`Uniform Type Identifiers`](https://developer.apple.com/documentation/uniformtypeidentifiers).
    ///
    ///
    #[doc(alias = "CGImageDestinationCopyTypeIdentifiers")]
    #[inline]
    pub unsafe fn type_identifiers() -> CFRetained<CFArray> {
        extern "C-unwind" {
            fn CGImageDestinationCopyTypeIdentifiers() -> Option<NonNull<CFArray>>;
        }
        let ret = unsafe { CGImageDestinationCopyTypeIdentifiers() };
        let ret =
            ret.expect("function was marked as returning non-null, but actually returned NULL");
        unsafe { CFRetained::from_raw(ret) }
    }

    /// Creates an image destination that writes to the specified data consumer.
    ///
    /// Parameters:
    /// - consumer: A data consumer object to store the image data.
    ///
    /// - type: The uniform type identifier of the resulting image file. For a list of system-declared and third-party identifiers, see [`Uniform Type Identifiers`](https://developer.apple.com/documentation/uniformtypeidentifiers).
    ///
    /// - count: The number of images (not including thumbnail images) you want to include in the image file.
    ///
    /// - options: Future options. Specify `NULL` for this parameter.
    ///
    ///
    /// ## Return Value
    ///
    /// An image destination, or `NULL` if an error occurs. You are responsible for releasing this object using [`CFRelease`](https://developer.apple.comhttps://developer.apple.com/documentation/corefoundation/1521153-cfrelease).
    ///
    ///
    ///
    /// # Safety
    ///
    /// - `options` generic must be of the correct type.
    /// - `options` generic must be of the correct type.
    #[doc(alias = "CGImageDestinationCreateWithDataConsumer")]
    #[cfg(feature = "objc2-core-graphics")]
    #[inline]
    pub unsafe fn with_data_consumer(
        consumer: &CGDataConsumer,
        r#type: &CFString,
        count: usize,
        options: Option<&CFDictionary>,
    ) -> Option<CFRetained<CGImageDestination>> {
        extern "C-unwind" {
            fn CGImageDestinationCreateWithDataConsumer(
                consumer: &CGDataConsumer,
                r#type: &CFString,
                count: usize,
                options: Option<&CFDictionary>,
            ) -> Option<NonNull<CGImageDestination>>;
        }
        let ret =
            unsafe { CGImageDestinationCreateWithDataConsumer(consumer, r#type, count, options) };
        ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
    }

    /// Creates an image destination that writes to a Core Foundation mutable data object.
    ///
    /// Parameters:
    /// - data: The data object in which to store the image data.
    ///
    /// - type: The uniform type identifier of the resulting image file. For a list of system-declared and third-party identifiers, see [`Uniform Type Identifiers`](https://developer.apple.com/documentation/uniformtypeidentifiers).
    ///
    /// - count: The number of images (not including thumbnail images) you want to include in the image file.
    ///
    /// - options: Future options. Specify `NULL` for this parameter.
    ///
    ///
    /// ## Return Value
    ///
    /// An image destination, or `NULL` if an error occurs. You are responsible for releasing this object using [`CFRelease`](https://developer.apple.comhttps://developer.apple.com/documentation/corefoundation/1521153-cfrelease).
    ///
    ///
    ///
    /// # Safety
    ///
    /// - `options` generic must be of the correct type.
    /// - `options` generic must be of the correct type.
    #[doc(alias = "CGImageDestinationCreateWithData")]
    #[inline]
    pub unsafe fn with_data(
        data: &CFMutableData,
        r#type: &CFString,
        count: usize,
        options: Option<&CFDictionary>,
    ) -> Option<CFRetained<CGImageDestination>> {
        extern "C-unwind" {
            fn CGImageDestinationCreateWithData(
                data: &CFMutableData,
                r#type: &CFString,
                count: usize,
                options: Option<&CFDictionary>,
            ) -> Option<NonNull<CGImageDestination>>;
        }
        let ret = unsafe { CGImageDestinationCreateWithData(data, r#type, count, options) };
        ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
    }

    /// Creates an image destination that writes image data to the specified URL.
    ///
    /// Parameters:
    /// - url: The URL at which to write the image data. This object overwrites any data at the specified URL.
    ///
    /// - type: The uniform type identifier of the resulting image file. For a list of system-declared and third-party identifiers, see [`Uniform Type Identifiers`](https://developer.apple.com/documentation/uniformtypeidentifiers).
    ///
    /// - count: The number of images (not including thumbnail images) you want to include in the image file.
    ///
    /// - options: Future options. Specify `NULL` for this parameter.
    ///
    ///
    /// ## Return Value
    ///
    /// An image destination, or `NULL` if an error occurs. You are responsible for releasing this object using [`CFRelease`](https://developer.apple.comhttps://developer.apple.com/documentation/corefoundation/1521153-cfrelease).
    ///
    ///
    ///
    /// # Safety
    ///
    /// - `options` generic must be of the correct type.
    /// - `options` generic must be of the correct type.
    #[doc(alias = "CGImageDestinationCreateWithURL")]
    #[inline]
    pub unsafe fn with_url(
        url: &CFURL,
        r#type: &CFString,
        count: usize,
        options: Option<&CFDictionary>,
    ) -> Option<CFRetained<CGImageDestination>> {
        extern "C-unwind" {
            fn CGImageDestinationCreateWithURL(
                url: &CFURL,
                r#type: &CFString,
                count: usize,
                options: Option<&CFDictionary>,
            ) -> Option<NonNull<CGImageDestination>>;
        }
        let ret = unsafe { CGImageDestinationCreateWithURL(url, r#type, count, options) };
        ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
    }

    /// Applies one or more properties to all images in an image destination.
    ///
    /// Parameters:
    /// - idst: The image destination to modify
    ///
    /// - properties: A dictionary that contains the properties to apply. For a list of possible values, see [Image Properties](https://developer.apple.com/documentation/imageio/image-properties) and [Configuring the Image Behaviors](https://developer.apple.com/documentation/imageio/cgimagedestination#configuring-the-image-behaviors).
    ///
    ///
    /// # Safety
    ///
    /// - `properties` generic must be of the correct type.
    /// - `properties` generic must be of the correct type.
    #[doc(alias = "CGImageDestinationSetProperties")]
    #[inline]
    pub unsafe fn set_properties(&self, properties: Option<&CFDictionary>) {
        extern "C-unwind" {
            fn CGImageDestinationSetProperties(
                idst: &CGImageDestination,
                properties: Option<&CFDictionary>,
            );
        }
        unsafe { CGImageDestinationSetProperties(self, properties) }
    }

    /// Adds an image to an image destination.
    ///
    /// Parameters:
    /// - idst: The image destination to modify.
    ///
    /// - image: The image to add.
    ///
    /// - properties: An optional dictionary that specifies the properties of the added image. Specify `NULL` to omit any additional properties. For a list of possible values, see [Image Properties](https://developer.apple.com/documentation/imageio/image-properties) and [Configuring the Image Behaviors](https://developer.apple.com/documentation/imageio/cgimagedestination#configuring-the-image-behaviors).
    ///
    ///
    /// ## Discussion
    ///
    /// The function logs an error if you add more images than what you specified when you created the image destination.
    ///
    ///
    ///
    /// # Safety
    ///
    /// - `properties` generic must be of the correct type.
    /// - `properties` generic must be of the correct type.
    #[doc(alias = "CGImageDestinationAddImage")]
    #[cfg(feature = "objc2-core-graphics")]
    #[inline]
    pub unsafe fn add_image(&self, image: &CGImage, properties: Option<&CFDictionary>) {
        extern "C-unwind" {
            fn CGImageDestinationAddImage(
                idst: &CGImageDestination,
                image: &CGImage,
                properties: Option<&CFDictionary>,
            );
        }
        unsafe { CGImageDestinationAddImage(self, image, properties) }
    }

    /// Adds an image from an image source to an image destination.
    ///
    /// Parameters:
    /// - idst: The image destination to modify.
    ///
    /// - isrc: An image source that contains the image.
    ///
    /// - index: The index of the image in the image source. Specify a valid, zero-based index into the images of the image source. If the index is invalid, this method returns `NULL`.
    ///
    /// - properties: An optional dictionary that specifies additional image property information. The added image automatically inherits the properties found in the image source. Use this dictionary to add properties to the image, or to modify one of the inherited properties. To remove an inherited property altogether, specify `NULL` for the property’s value. For a list of possible values, see [Image Properties](https://developer.apple.com/documentation/imageio/image-properties) and [Configuring the Image Behaviors](https://developer.apple.com/documentation/imageio/cgimagedestination#configuring-the-image-behaviors).
    ///
    ///
    /// # Safety
    ///
    /// - `properties` generic must be of the correct type.
    /// - `properties` generic must be of the correct type.
    #[doc(alias = "CGImageDestinationAddImageFromSource")]
    #[cfg(feature = "CGImageSource")]
    #[inline]
    pub unsafe fn add_image_from_source(
        &self,
        isrc: &CGImageSource,
        index: usize,
        properties: Option<&CFDictionary>,
    ) {
        extern "C-unwind" {
            fn CGImageDestinationAddImageFromSource(
                idst: &CGImageDestination,
                isrc: &CGImageSource,
                index: usize,
                properties: Option<&CFDictionary>,
            );
        }
        unsafe { CGImageDestinationAddImageFromSource(self, isrc, index, properties) }
    }

    /// Writes image data and properties to the data, URL, or data consumer associated with the image destination.
    ///
    /// Parameters:
    /// - idst: An image destination.
    ///
    ///
    /// ## Return Value
    ///
    /// `true` if the image destination successfully finalized the images, or `false` if an error occurred.
    ///
    ///
    ///
    /// ## Discussion
    ///
    /// Call this method as the final step in saving your images. The output of the image destination isn’t valid until you call this method. After calling this function, you can’t add any more data to the image destination.
    ///
    ///
    #[doc(alias = "CGImageDestinationFinalize")]
    #[inline]
    pub unsafe fn finalize(&self) -> bool {
        extern "C-unwind" {
            fn CGImageDestinationFinalize(idst: &CGImageDestination) -> bool;
        }
        unsafe { CGImageDestinationFinalize(self) }
    }

    /// # Safety
    ///
    /// - `options` generic must be of the correct type.
    /// - `options` generic must be of the correct type.
    #[doc(alias = "CGImageDestinationAddImageAndMetadata")]
    #[cfg(all(feature = "CGImageMetadata", feature = "objc2-core-graphics"))]
    #[inline]
    pub unsafe fn add_image_and_metadata(
        &self,
        image: &CGImage,
        metadata: Option<&CGImageMetadata>,
        options: Option<&CFDictionary>,
    ) {
        extern "C-unwind" {
            fn CGImageDestinationAddImageAndMetadata(
                idst: &CGImageDestination,
                image: &CGImage,
                metadata: Option<&CGImageMetadata>,
                options: Option<&CFDictionary>,
            );
        }
        unsafe { CGImageDestinationAddImageAndMetadata(self, image, metadata, options) }
    }
}

extern "C" {
    /// A Boolean value that indicates whether to include a HEIF-embedded gain map in the image data.
    ///
    /// ## Discussion
    ///
    /// The value of this key must be a [`CFBooleanRef`](https://developer.apple.com/documentation/corefoundation/cfboolean) value. The default value is [`kCFBooleanFalse`](https://developer.apple.com/documentation/corefoundation/kcfbooleanfalse). If you scale the destination image using the [`kCGImageDestinationImageMaxPixelSize`](https://developer.apple.com/documentation/imageio/kcgimagedestinationimagemaxpixelsize) key, the destination also scales the gain map.
    ///
    ///
    pub static kCGImageDestinationPreserveGainMap: &'static CFString;
}

extern "C" {
    /// The metadata tags to include with the image.
    ///
    /// ## Discussion
    ///
    /// The value of this key is a [`CGImageMetadataRef`](https://developer.apple.com/documentation/imageio/cgimagemetadata) type. When you specify this key, the image destination ovewrites all EXIF, IPTC, and XMP metadata. If you want to merge the new tags with the existing metadata, include the [`kCGImageDestinationMergeMetadata`](https://developer.apple.com/documentation/imageio/kcgimagedestinationmergemetadata) key in addition to this key.
    ///
    ///
    /// * Keys which may be used in the 'options' dictionary of
    /// * "CGImageDestinationCopyImageSource" to effect the output.
    pub static kCGImageDestinationMetadata: &'static CFString;
}

extern "C" {
    /// A Boolean value that indicates whether to merge new metadata with the image’s existing metadata.
    ///
    /// ## Discussion
    ///
    /// The value of this key must be a [`CFBooleanRef`](https://developer.apple.com/documentation/corefoundation/cfboolean) value. The default value is [`kCFBooleanFalse`](https://developer.apple.com/documentation/corefoundation/kcfbooleanfalse).
    ///
    /// If you set this key to [`kCFBooleanTrue`](https://developer.apple.com/documentation/corefoundation/kcfbooleantrue), the image destination merges the information in the [`kCGImageDestinationMetadata`](https://developer.apple.com/documentation/imageio/kcgimagedestinationmetadata) key with the image’s existing metadata. Specifically, if a tag doesn’t exist in the source, the destination adds it. If the tag exists in the source, the destination updates its value. To remove a tag, set the value of the appropriate key to [`kCFNull`](https://developer.apple.com/documentation/corefoundation/kcfnull).
    ///
    ///
    pub static kCGImageDestinationMergeMetadata: &'static CFString;
}

extern "C" {
    /// A Boolean value that indicates whether to exclude XMP data from the destination.
    ///
    /// ## Discussion
    ///
    /// The value of this key must be a [`CFBooleanRef`](https://developer.apple.com/documentation/corefoundation/cfboolean) value. The default value is [`kCFBooleanFalse`](https://developer.apple.com/documentation/corefoundation/kcfbooleanfalse), which causes the destination to include XMP metadata. If you use this flag in conjunction with the [`kCGImageDestinationMetadata`](https://developer.apple.com/documentation/imageio/kcgimagedestinationmetadata) flag, the image destination preserves EXIF and IPTC tags but doesn’t write XMP packets to the file.
    ///
    ///
    pub static kCGImageMetadataShouldExcludeXMP: &'static CFString;
}

extern "C" {
    /// A Boolean value that indicates whether to exclude GPS metadata from EXIF data or the corresponding XMP tags.
    ///
    /// ## Discussion
    ///
    /// The value of this key must be a [`CFBooleanRef`](https://developer.apple.com/documentation/corefoundation/cfboolean) value. The default value is [`kCFBooleanFalse`](https://developer.apple.com/documentation/corefoundation/kcfbooleanfalse), which includes GPS information in the metadata. This flag doesn’t filter any proprietary location data in the manufacturer’s EXIF MakerNote or in custom XMP properties.
    ///
    ///
    pub static kCGImageMetadataShouldExcludeGPS: &'static CFString;
}

extern "C" {
    /// The date and time information to associate with the image.
    ///
    /// ## Discussion
    ///
    /// This property puts the specified date and time information into the DateTime parameters of the image’s metadata. Specify the value of this key using a [`CFStringRef`](https://developer.apple.com/documentation/corefoundation/cfstring) or [`CFDataRef`](https://developer.apple.com/documentation/corefoundation/cfdata). For strings, the value must be in EXIF DateTime or ISO 8601 DateTime format.
    ///
    /// This option is mutually exclusive with [`kCGImageDestinationMetadata`](https://developer.apple.com/documentation/imageio/kcgimagedestinationmetadata).
    ///
    ///
    pub static kCGImageDestinationDateTime: &'static CFString;
}

extern "C" {
    /// The orientation of the image, specified as an EXIF value in the range 1 to 8.
    ///
    /// ## Discussion
    ///
    /// The value of this key must be a [`CFNumberRef`](https://developer.apple.com/documentation/corefoundation/cfnumber), and the number must be an integer in the range `1`–`8`. For more information about the meaning of each number, see the orientation field in the EXIF specification.
    ///
    /// This option is mutually exclusive with [`kCGImageDestinationMetadata`](https://developer.apple.com/documentation/imageio/kcgimagedestinationmetadata).
    ///
    ///
    pub static kCGImageDestinationOrientation: &'static CFString;
}

extern "C" {
    pub static kCGImagePropertyEncoder: &'static CFString;
}

extern "C" {
    pub static kCGImagePropertyASTCEncoder: &'static CFString;
}

extern "C" {
    pub static kCGImagePropertyPVREncoder: &'static CFString;
}

extern "C" {
    pub static kCGImagePropertyBCEncoder: &'static CFString;
}

extern "C" {
    pub static kCGImagePropertyBCFormat: &'static CFString;
}

extern "C" {
    pub static kCGImagePropertyASTCBlockSize: &'static CFString;
}

extern "C" {
    pub static kCGImagePropertyASTCBlockSize4x4: &'static CFString;
}

extern "C" {
    pub static kCGImagePropertyASTCBlockSize8x8: &'static CFString;
}

impl CGImageDestination {
    /// # Safety
    ///
    /// - `options` generic must be of the correct type.
    /// - `options` generic must be of the correct type.
    /// - `err` must be a valid pointer or null.
    #[doc(alias = "CGImageDestinationCopyImageSource")]
    #[cfg(feature = "CGImageSource")]
    #[inline]
    pub unsafe fn copy_image_source(
        &self,
        isrc: &CGImageSource,
        options: Option<&CFDictionary>,
        err: *mut *mut CFError,
    ) -> bool {
        extern "C-unwind" {
            fn CGImageDestinationCopyImageSource(
                idst: &CGImageDestination,
                isrc: &CGImageSource,
                options: Option<&CFDictionary>,
                err: *mut *mut CFError,
            ) -> bool;
        }
        unsafe { CGImageDestinationCopyImageSource(self, isrc, options, err) }
    }

    /// Sets the auxiliary data, such as mattes and depth information, that accompany the image.
    ///
    /// Parameters:
    /// - idst: The image destination to modify.
    ///
    /// - auxiliaryImageDataType: The type of auxiliary information you want to add. For a list of possible values, see [Auxiliary Data Types](https://developer.apple.com/documentation/imageio/individual-image-properties#auxiliary-data-types).
    ///
    /// - auxiliaryDataInfoDictionary: A dictionary that contains the [`kCGImageAuxiliaryDataInfoData`](https://developer.apple.com/documentation/imageio/kcgimageauxiliarydatainfodata), [`kCGImageAuxiliaryDataInfoDataDescription`](https://developer.apple.com/documentation/imageio/kcgimageauxiliarydatainfodatadescription), and [`kCGImageAuxiliaryDataInfoMetadata`](https://developer.apple.com/documentation/imageio/kcgimageauxiliarydatainfometadata) keys. Use those keys to describe the depth or matte information.
    ///
    ///
    /// ## Discussion
    ///
    /// Call this method after you add an image to the image destination. This method adds the specified depth or matte information to the most recently added image.
    ///
    ///
    ///
    /// # Safety
    ///
    /// - `auxiliary_data_info_dictionary` generic must be of the correct type.
    /// - `auxiliary_data_info_dictionary` generic must be of the correct type.
    #[doc(alias = "CGImageDestinationAddAuxiliaryDataInfo")]
    #[inline]
    pub unsafe fn add_auxiliary_data_info(
        &self,
        auxiliary_image_data_type: &CFString,
        auxiliary_data_info_dictionary: &CFDictionary,
    ) {
        extern "C-unwind" {
            fn CGImageDestinationAddAuxiliaryDataInfo(
                idst: &CGImageDestination,
                auxiliary_image_data_type: &CFString,
                auxiliary_data_info_dictionary: &CFDictionary,
            );
        }
        unsafe {
            CGImageDestinationAddAuxiliaryDataInfo(
                self,
                auxiliary_image_data_type,
                auxiliary_data_info_dictionary,
            )
        }
    }
}

extern "C" {
    pub static kCGImageDestinationEncodeRequest: &'static CFString;
}

extern "C" {
    pub static kCGImageDestinationEncodeToSDR: &'static CFString;
}

extern "C" {
    pub static kCGImageDestinationEncodeToISOHDR: &'static CFString;
}

extern "C" {
    pub static kCGImageDestinationEncodeToISOGainmap: &'static CFString;
}

extern "C" {
    pub static kCGImageDestinationEncodeRequestOptions: &'static CFString;
}

extern "C" {
    pub static kCGImageDestinationEncodeBaseIsSDR: &'static CFString;
}

extern "C" {
    pub static kCGImageDestinationEncodeTonemapMode: &'static CFString;
}

extern "C" {
    pub static kCGImageDestinationEncodeIsBaseImage: &'static CFString;
}

extern "C" {
    pub static kCGImageDestinationEncodeBaseColorSpace: &'static CFString;
}

extern "C" {
    pub static kCGImageDestinationEncodeBasePixelFormatRequest: &'static CFString;
}

extern "C" {
    pub static kCGImageDestinationEncodeGenerateGainMapWithBaseImage: &'static CFString;
}

extern "C" {
    pub static kCGImageDestinationEncodeGainMapPixelFormatRequest: &'static CFString;
}

extern "C" {
    pub static kCGImageDestinationEncodeGainMapSubsampleFactor: &'static CFString;
}

extern "C" {
    pub static kCGImageDestinationEncodeAlternateColorSpace: &'static CFString;
}

#[deprecated = "renamed to `CGImageDestination::type_identifiers`"]
#[inline]
pub unsafe extern "C-unwind" fn CGImageDestinationCopyTypeIdentifiers() -> CFRetained<CFArray> {
    extern "C-unwind" {
        fn CGImageDestinationCopyTypeIdentifiers() -> Option<NonNull<CFArray>>;
    }
    let ret = unsafe { CGImageDestinationCopyTypeIdentifiers() };
    let ret = ret.expect("function was marked as returning non-null, but actually returned NULL");
    unsafe { CFRetained::from_raw(ret) }
}

#[cfg(feature = "objc2-core-graphics")]
#[deprecated = "renamed to `CGImageDestination::with_data_consumer`"]
#[inline]
pub unsafe extern "C-unwind" fn CGImageDestinationCreateWithDataConsumer(
    consumer: &CGDataConsumer,
    r#type: &CFString,
    count: usize,
    options: Option<&CFDictionary>,
) -> Option<CFRetained<CGImageDestination>> {
    extern "C-unwind" {
        fn CGImageDestinationCreateWithDataConsumer(
            consumer: &CGDataConsumer,
            r#type: &CFString,
            count: usize,
            options: Option<&CFDictionary>,
        ) -> Option<NonNull<CGImageDestination>>;
    }
    let ret = unsafe { CGImageDestinationCreateWithDataConsumer(consumer, r#type, count, options) };
    ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
}

#[deprecated = "renamed to `CGImageDestination::with_data`"]
#[inline]
pub unsafe extern "C-unwind" fn CGImageDestinationCreateWithData(
    data: &CFMutableData,
    r#type: &CFString,
    count: usize,
    options: Option<&CFDictionary>,
) -> Option<CFRetained<CGImageDestination>> {
    extern "C-unwind" {
        fn CGImageDestinationCreateWithData(
            data: &CFMutableData,
            r#type: &CFString,
            count: usize,
            options: Option<&CFDictionary>,
        ) -> Option<NonNull<CGImageDestination>>;
    }
    let ret = unsafe { CGImageDestinationCreateWithData(data, r#type, count, options) };
    ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
}

#[deprecated = "renamed to `CGImageDestination::with_url`"]
#[inline]
pub unsafe extern "C-unwind" fn CGImageDestinationCreateWithURL(
    url: &CFURL,
    r#type: &CFString,
    count: usize,
    options: Option<&CFDictionary>,
) -> Option<CFRetained<CGImageDestination>> {
    extern "C-unwind" {
        fn CGImageDestinationCreateWithURL(
            url: &CFURL,
            r#type: &CFString,
            count: usize,
            options: Option<&CFDictionary>,
        ) -> Option<NonNull<CGImageDestination>>;
    }
    let ret = unsafe { CGImageDestinationCreateWithURL(url, r#type, count, options) };
    ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
}

extern "C-unwind" {
    #[deprecated = "renamed to `CGImageDestination::set_properties`"]
    pub fn CGImageDestinationSetProperties(
        idst: &CGImageDestination,
        properties: Option<&CFDictionary>,
    );
}

extern "C-unwind" {
    #[cfg(feature = "objc2-core-graphics")]
    #[deprecated = "renamed to `CGImageDestination::add_image`"]
    pub fn CGImageDestinationAddImage(
        idst: &CGImageDestination,
        image: &CGImage,
        properties: Option<&CFDictionary>,
    );
}

extern "C-unwind" {
    #[cfg(feature = "CGImageSource")]
    #[deprecated = "renamed to `CGImageDestination::add_image_from_source`"]
    pub fn CGImageDestinationAddImageFromSource(
        idst: &CGImageDestination,
        isrc: &CGImageSource,
        index: usize,
        properties: Option<&CFDictionary>,
    );
}

extern "C-unwind" {
    #[deprecated = "renamed to `CGImageDestination::finalize`"]
    pub fn CGImageDestinationFinalize(idst: &CGImageDestination) -> bool;
}

extern "C-unwind" {
    #[cfg(all(feature = "CGImageMetadata", feature = "objc2-core-graphics"))]
    #[deprecated = "renamed to `CGImageDestination::add_image_and_metadata`"]
    pub fn CGImageDestinationAddImageAndMetadata(
        idst: &CGImageDestination,
        image: &CGImage,
        metadata: Option<&CGImageMetadata>,
        options: Option<&CFDictionary>,
    );
}

extern "C-unwind" {
    #[cfg(feature = "CGImageSource")]
    #[deprecated = "renamed to `CGImageDestination::copy_image_source`"]
    pub fn CGImageDestinationCopyImageSource(
        idst: &CGImageDestination,
        isrc: &CGImageSource,
        options: Option<&CFDictionary>,
        err: *mut *mut CFError,
    ) -> bool;
}

extern "C-unwind" {
    #[deprecated = "renamed to `CGImageDestination::add_auxiliary_data_info`"]
    pub fn CGImageDestinationAddAuxiliaryDataInfo(
        idst: &CGImageDestination,
        auxiliary_image_data_type: &CFString,
        auxiliary_data_info_dictionary: &CFDictionary,
    );
}
