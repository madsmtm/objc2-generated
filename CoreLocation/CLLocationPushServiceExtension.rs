//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

extern_protocol!(
    /// The interface you adopt in the type that acts as the main entry point for a Location Push Service Extension.
    ///
    /// ## Overview
    ///
    /// A type that adopts the [`CLLocationPushServiceExtension`](https://developer.apple.com/documentation/corelocation/cllocationpushserviceextension) protocol acts as the entry point to a Location Push Service Extension. You use this type to respond to incoming location push notifications and perform app-specific tasks. For example, you use it to get someone’s current location and send it to your server.
    ///
    /// Don’t adopt this protocol in your own custom types. Instead, add a Location Push Service Extension target to your project and modify the type that Xcode provides. To start the delivery of location push notifications, call the [`startMonitoringLocationPushesWithCompletion:`](https://developer.apple.com/documentation/corelocation/cllocationmanager/startmonitoringlocationpushes(completion:)) method to request a unique token from the device. Send that token to your server and use it to generate HTTP requests for APNs to deliver to the device.
    ///
    /// When the device receives a location push notification that your server generated, the system loads your app extension and calls its [`didReceiveLocationPushPayload:completion:`](https://developer.apple.com/documentation/corelocation/cllocationpushserviceextension/didreceivelocationpushpayload(_:completion:)) method. Use that method to configure a [`CLLocationManager`](https://developer.apple.com/documentation/corelocation/cllocationmanager) object and request the person’s current location. Collect the location, encrypt it, and send it back to your server using a custom connection.
    ///
    /// <div class="warning">
    ///
    /// ### Important
    ///  In order for your app extension to receive push notifications, the app that contains the app extension must have Always authorization for location services. For information about how to request this access, see [Requesting authorization to use location services](https://developer.apple.com/documentation/corelocation/requesting-authorization-to-use-location-services).
    ///
    ///
    ///
    /// </div>
    /// Location Push Service Extensions aren’t supported in visionOS. If a compatible iPad or iPhone app contains an app extension of this type, the system doesn’t load it.
    ///
    /// For more information about adding the extension to your app, see [Creating a location push service extension](https://developer.apple.com/documentation/corelocation/creating-a-location-push-service-extension). For information about how to generate push notifications from your server, see [Setting up a remote notification server](https://developer.apple.com/documentation/usernotifications/setting-up-a-remote-notification-server).
    ///
    ///
    pub unsafe trait CLLocationPushServiceExtension: NSObjectProtocol {
        #[cfg(feature = "block2")]
        /// # Safety
        ///
        /// `payload` generic should be of the correct type.
        #[unsafe(method(didReceiveLocationPushPayload:completion:))]
        #[unsafe(method_family = none)]
        unsafe fn didReceiveLocationPushPayload_completion(
            &self,
            payload: &NSDictionary<NSString, AnyObject>,
            completion: &block2::DynBlock<dyn Fn()>,
        );

        #[optional]
        #[unsafe(method(serviceExtensionWillTerminate))]
        #[unsafe(method_family = none)]
        unsafe fn serviceExtensionWillTerminate(&self);
    }
);
