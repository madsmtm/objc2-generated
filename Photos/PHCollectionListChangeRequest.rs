//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

extern_class!(
    /// A request to create, delete, or modify a Photos collection list, for use in a photo library change block.
    ///
    /// ## Overview
    ///
    /// You use the [`PHCollectionListChangeRequest`](https://developer.apple.com/documentation/photos/phcollectionlistchangerequest) class to request changes for [`PHCollectionList`](https://developer.apple.com/documentation/photos/phcollectionlist) objects. To make changes to collection lists (such as folders containing user-created albums) in the Photos library, create a change request using the appropriate class method for the change you want to perform.
    ///
    /// - Call the [`creationRequestForCollectionListWithTitle:`](https://developer.apple.com/documentation/photos/phcollectionlistchangerequest/creationrequestforcollectionlist(withtitle:)) method to create a new asset collection.
    ///
    /// - Call the [`deleteCollectionLists:`](https://developer.apple.com/documentation/photos/phcollectionlistchangerequest/deletecollectionlists(_:)) method to delete existing asset collections.
    ///
    /// - Call the [`changeRequestForCollectionList:`](https://developer.apple.com/documentation/photos/phcollectionlistchangerequest/init(for:)) or [`changeRequestForCollectionList:childCollections:`](https://developer.apple.com/documentation/photos/phcollectionlistchangerequest/init(for:childcollections:)) method to modify a collection’s metadata or its list of child collections.
    ///
    /// Before creating a change request, use the [`canPerformEditOperation:`](https://developer.apple.com/documentation/photos/phcollection/canperform(_:)) method to verify that the collection allows the edit operation you’re requesting. If you attempt to perform an unsupported edit operation, Photos throws an exception.
    ///
    /// A change request for creating or modifying a collection list works like a mutable version of the collection list object. Use the change request’s properties and instance methods to request changes to the collection list itself. For example, the following code removes an album from a folder.
    ///
    /// (TODO tabnav: TabNavigator { tabs: [TabItem { title: "Swift", content: [CodeListing { syntax: Some("swift"), code: ["PHPhotoLibrary.shared().performChanges {", "            ", "    let request = PHCollectionListChangeRequest(for: folder,", "                                                childCollections: folderContentsFetchResult)", "            ", "    request!.removeChildCollections([album!] as NSFastEnumeration)", "            ", "} completionHandler: { success, error in", "    print(\"Finished removing the album from the folder. \\(success ? \"Success\" : String(describing: error))\")", "}"], metadata: None }] }, TabItem { title: "Objective-C", content: [CodeListing { syntax: Some("objc"), code: ["[[PHPhotoLibrary sharedPhotoLibrary] performChanges:^{", "        ", "    PHCollectionListChangeRequest *request =", "        [PHCollectionListChangeRequest changeRequestForCollectionList:folder", "                                                     childCollections:folderContentsFetchResult];", "        ", "    [request removeChildCollections:@[ album ]];", "     ", "} completionHandler:^(BOOL success, NSError *error) {", "    NSLog(@\"Finished removing the album from the folder. %@\", (success ? @\"Success\" : error));", "}];"], metadata: None }] }] })
    /// After Photos runs the change block and calls your completion handler, the collection list’s state reflects the changes you requested in the block.
    ///
    /// If you create or use a change request object outside a photo library change block, Photos raises an Objective-C exception. For details on change blocks, see [`PHPhotoLibrary`](https://developer.apple.com/documentation/photos/phphotolibrary).
    ///
    ///
    #[unsafe(super(PHChangeRequest, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(feature = "PHChangeRequest")]
    pub struct PHCollectionListChangeRequest;
);

#[cfg(feature = "PHChangeRequest")]
extern_conformance!(
    unsafe impl NSObjectProtocol for PHCollectionListChangeRequest {}
);

#[cfg(feature = "PHChangeRequest")]
impl PHCollectionListChangeRequest {
    extern_methods!(
        #[unsafe(method(creationRequestForCollectionListWithTitle:))]
        #[unsafe(method_family = none)]
        pub unsafe fn creationRequestForCollectionListWithTitle(title: &NSString)
            -> Retained<Self>;

        #[cfg(feature = "PHObject")]
        #[unsafe(method(placeholderForCreatedCollectionList))]
        #[unsafe(method_family = none)]
        pub unsafe fn placeholderForCreatedCollectionList(&self) -> Retained<PHObjectPlaceholder>;

        /// # Safety
        ///
        /// `collection_lists` should be of the correct type.
        #[unsafe(method(deleteCollectionLists:))]
        #[unsafe(method_family = none)]
        pub unsafe fn deleteCollectionLists(
            collection_lists: &ProtocolObject<dyn NSFastEnumeration>,
        );

        #[cfg(all(feature = "PHCollection", feature = "PHObject"))]
        #[unsafe(method(changeRequestForCollectionList:))]
        #[unsafe(method_family = none)]
        pub unsafe fn changeRequestForCollectionList(
            collection_list: &PHCollectionList,
        ) -> Option<Retained<Self>>;

        #[cfg(all(
            feature = "PHCollection",
            feature = "PHFetchResult",
            feature = "PHObject"
        ))]
        #[unsafe(method(changeRequestForCollectionList:childCollections:))]
        #[unsafe(method_family = none)]
        pub unsafe fn changeRequestForCollectionList_childCollections(
            collection_list: &PHCollectionList,
            child_collections: &PHFetchResult<PHCollection>,
        ) -> Option<Retained<Self>>;

        #[cfg(all(
            feature = "PHCollection",
            feature = "PHFetchResult",
            feature = "PHObject"
        ))]
        #[unsafe(method(changeRequestForTopLevelCollectionListUserCollections:))]
        #[unsafe(method_family = none)]
        pub unsafe fn changeRequestForTopLevelCollectionListUserCollections(
            child_collections: &PHFetchResult<PHCollection>,
        ) -> Option<Retained<Self>>;

        #[unsafe(method(title))]
        #[unsafe(method_family = none)]
        pub unsafe fn title(&self) -> Retained<NSString>;

        /// Setter for [`title`][Self::title].
        #[unsafe(method(setTitle:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setTitle(&self, title: &NSString);

        /// # Safety
        ///
        /// `collections` should be of the correct type.
        #[unsafe(method(addChildCollections:))]
        #[unsafe(method_family = none)]
        pub unsafe fn addChildCollections(
            &self,
            collections: &ProtocolObject<dyn NSFastEnumeration>,
        );

        /// # Safety
        ///
        /// `collections` should be of the correct type.
        #[unsafe(method(insertChildCollections:atIndexes:))]
        #[unsafe(method_family = none)]
        pub unsafe fn insertChildCollections_atIndexes(
            &self,
            collections: &ProtocolObject<dyn NSFastEnumeration>,
            indexes: &NSIndexSet,
        );

        /// # Safety
        ///
        /// `collections` should be of the correct type.
        #[unsafe(method(removeChildCollections:))]
        #[unsafe(method_family = none)]
        pub unsafe fn removeChildCollections(
            &self,
            collections: &ProtocolObject<dyn NSFastEnumeration>,
        );

        #[unsafe(method(removeChildCollectionsAtIndexes:))]
        #[unsafe(method_family = none)]
        pub unsafe fn removeChildCollectionsAtIndexes(&self, indexes: &NSIndexSet);

        /// # Safety
        ///
        /// `collections` should be of the correct type.
        #[unsafe(method(replaceChildCollectionsAtIndexes:withChildCollections:))]
        #[unsafe(method_family = none)]
        pub unsafe fn replaceChildCollectionsAtIndexes_withChildCollections(
            &self,
            indexes: &NSIndexSet,
            collections: &ProtocolObject<dyn NSFastEnumeration>,
        );

        #[unsafe(method(moveChildCollectionsAtIndexes:toIndex:))]
        #[unsafe(method_family = none)]
        pub unsafe fn moveChildCollectionsAtIndexes_toIndex(
            &self,
            indexes: &NSIndexSet,
            to_index: NSUInteger,
        );
    );
}

/// Methods declared on superclass `NSObject`.
#[cfg(feature = "PHChangeRequest")]
impl PHCollectionListChangeRequest {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}
