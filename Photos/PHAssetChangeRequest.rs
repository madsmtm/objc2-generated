//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
#[cfg(feature = "objc2-app-kit")]
#[cfg(target_os = "macos")]
use objc2_app_kit::*;
#[cfg(feature = "objc2-core-location")]
use objc2_core_location::*;
use objc2_foundation::*;

use crate::*;

extern_class!(
    /// A request to create, delete, change metadata for, or edit the content of a Photos asset, for use in a photo library change block.
    ///
    /// ## Overview
    ///
    /// You use the [`PHAssetChangeRequest`](https://developer.apple.com/documentation/photos/phassetchangerequest) class to request changes for [`PHAsset`](https://developer.apple.com/documentation/photos/phasset) objects. To make changes to assets in the Photos library, create a change request by using the appropriate class method for the change you want to perform.
    ///
    /// - Call one of the methods listed in Adding New Assets to create a new asset from an image or video file.
    ///
    /// - Call the [`deleteAssets:`](https://developer.apple.com/documentation/photos/phassetchangerequest/deleteassets(_:)) method to delete existing assets.
    ///
    /// - Call the [`changeRequestForAsset:`](https://developer.apple.com/documentation/photos/phassetchangerequest/init(for:)) method to modify an asset’s content or metadata.
    ///
    /// A change request for creating or modifying an asset works like a mutable version of the asset object. Use the change request’s properties to request changes to the corresponding properties of the asset itself. For example, the following code uses the [`favorite`](https://developer.apple.com/documentation/photos/phassetchangerequest/isfavorite) property of a change request to mark an asset as a favorite:
    ///
    /// (TODO tabnav: TabNavigator { tabs: [TabItem { title: "Swift", content: [CodeListing { syntax: Some("swift"), code: ["func toggleFavorite(for asset: PHAsset) {        ", "    PHPhotoLibrary.shared().performChanges {", "        // Create a change request from the asset to be modified.", "        let request = PHAssetChangeRequest(for: asset)", "        // Set a property of the request to change the asset itself.", "        request.isFavorite = !asset.isFavorite", "    } completionHandler: { success, error in", "        print(\"Finished updating asset. \" + (success ? \"Success.\" : error!.localizedDescription))", "    }  ", "}"], metadata: None }] }, TabItem { title: "Objective-C", content: [CodeListing { syntax: Some("objc"), code: ["- (void)toggleFavoriteForAsset:(PHAsset *)asset {", "    [[PHPhotoLibrary sharedPhotoLibrary] performChanges:^{", "        // Create a change request from the asset to be modified.", "        PHAssetChangeRequest *request = [PHAssetChangeRequest changeRequestForAsset:asset];", "        // Set a property of the request to change the asset itself.", "        request.favorite = !asset.favorite;", "    } completionHandler:^(BOOL success, NSError *error) {", "        NSLog(@\"Finished updating asset. %@\", (success ? @\"Success.\" : error));", "    }];", "}"], metadata: None }] }] })
    /// After Photos runs the change block and calls your completion handler, the asset’s state reflects the changes that you requested in the block.
    ///
    /// If you create or use a change request object outside a photo library change block, Photos raises an Objective-C exception. For details on change blocks, see [`PHPhotoLibrary`](https://developer.apple.com/documentation/photos/phphotolibrary).
    ///
    ///
    #[unsafe(super(PHChangeRequest, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(feature = "PHChangeRequest")]
    pub struct PHAssetChangeRequest;
);

#[cfg(feature = "PHChangeRequest")]
extern_conformance!(
    unsafe impl NSObjectProtocol for PHAssetChangeRequest {}
);

#[cfg(feature = "PHChangeRequest")]
impl PHAssetChangeRequest {
    extern_methods!(
        #[cfg(feature = "objc2-app-kit")]
        #[cfg(target_os = "macos")]
        #[unsafe(method(creationRequestForAssetFromImage:))]
        #[unsafe(method_family = none)]
        pub unsafe fn creationRequestForAssetFromImage(image: &NSImage) -> Retained<Self>;

        #[unsafe(method(creationRequestForAssetFromImageAtFileURL:))]
        #[unsafe(method_family = none)]
        pub unsafe fn creationRequestForAssetFromImageAtFileURL(
            file_url: &NSURL,
        ) -> Option<Retained<Self>>;

        #[unsafe(method(creationRequestForAssetFromVideoAtFileURL:))]
        #[unsafe(method_family = none)]
        pub unsafe fn creationRequestForAssetFromVideoAtFileURL(
            file_url: &NSURL,
        ) -> Option<Retained<Self>>;

        #[cfg(feature = "PHObject")]
        #[unsafe(method(placeholderForCreatedAsset))]
        #[unsafe(method_family = none)]
        pub unsafe fn placeholderForCreatedAsset(&self) -> Option<Retained<PHObjectPlaceholder>>;

        /// # Safety
        ///
        /// `assets` should be of the correct type.
        #[unsafe(method(deleteAssets:))]
        #[unsafe(method_family = none)]
        pub unsafe fn deleteAssets(assets: &ProtocolObject<dyn NSFastEnumeration>);

        #[cfg(all(feature = "PHAsset", feature = "PHObject"))]
        #[unsafe(method(changeRequestForAsset:))]
        #[unsafe(method_family = none)]
        pub unsafe fn changeRequestForAsset(asset: &PHAsset) -> Retained<Self>;

        #[unsafe(method(creationDate))]
        #[unsafe(method_family = none)]
        pub unsafe fn creationDate(&self) -> Option<Retained<NSDate>>;

        /// Setter for [`creationDate`][Self::creationDate].
        #[unsafe(method(setCreationDate:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setCreationDate(&self, creation_date: Option<&NSDate>);

        #[cfg(feature = "objc2-core-location")]
        #[unsafe(method(location))]
        #[unsafe(method_family = none)]
        pub unsafe fn location(&self) -> Option<Retained<CLLocation>>;

        #[cfg(feature = "objc2-core-location")]
        /// Setter for [`location`][Self::location].
        #[unsafe(method(setLocation:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setLocation(&self, location: Option<&CLLocation>);

        #[unsafe(method(isFavorite))]
        #[unsafe(method_family = none)]
        pub unsafe fn isFavorite(&self) -> bool;

        /// Setter for [`isFavorite`][Self::isFavorite].
        #[unsafe(method(setFavorite:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setFavorite(&self, favorite: bool);

        #[unsafe(method(isHidden))]
        #[unsafe(method_family = none)]
        pub unsafe fn isHidden(&self) -> bool;

        /// Setter for [`isHidden`][Self::isHidden].
        #[unsafe(method(setHidden:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setHidden(&self, hidden: bool);

        #[cfg(feature = "PHContentEditingOutput")]
        #[unsafe(method(contentEditingOutput))]
        #[unsafe(method_family = none)]
        pub unsafe fn contentEditingOutput(&self) -> Option<Retained<PHContentEditingOutput>>;

        #[cfg(feature = "PHContentEditingOutput")]
        /// Setter for [`contentEditingOutput`][Self::contentEditingOutput].
        #[unsafe(method(setContentEditingOutput:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setContentEditingOutput(
            &self,
            content_editing_output: Option<&PHContentEditingOutput>,
        );

        #[unsafe(method(revertAssetContentToOriginal))]
        #[unsafe(method_family = none)]
        pub unsafe fn revertAssetContentToOriginal(&self);
    );
}

/// Methods declared on superclass `NSObject`.
#[cfg(feature = "PHChangeRequest")]
impl PHAssetChangeRequest {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}

/// An identifier for an asset content editing session.
///
/// ## Discussion
///
/// To begin editing the content of an asset, call the [`requestContentEditingInputWithOptions:completionHandler:`](https://developer.apple.com/documentation/photos/phasset/requestcontenteditinginput(with:completionhandler:)) method to retrieve a [`PHContentEditingInput`](https://developer.apple.com/documentation/photos/phcontenteditinginput) object that provides data for editing. This method asynchronously prepares an editing input and calls your completion handler block when the editing input is ready. To abandon editing before Photos calls the completion handler, call the [`cancelContentEditingInputRequest:`](https://developer.apple.com/documentation/photos/phasset/cancelcontenteditinginputrequest(_:)) method, passing the [`PHContentEditingInputRequestID`](https://developer.apple.com/documentation/photos/phcontenteditinginputrequestid) you received when requesting an edit.
///
///
pub type PHContentEditingInputRequestID = NSUInteger;

extern_class!(
    /// A set of options affecting the delivery of image or video data when you request to edit the content of a Photos asset.
    ///
    /// ## Overview
    ///
    /// You use the [`PHContentEditingInputRequestOptions`](https://developer.apple.com/documentation/photos/phcontenteditinginputrequestoptions) class with the [`requestContentEditingInputWithOptions:completionHandler:`](https://developer.apple.com/documentation/photos/phasset/requestcontenteditinginput(with:completionhandler:)) method for editing the contents of a [`PHAsset`](https://developer.apple.com/documentation/photos/phasset) object.
    ///
    /// This class doesn’t affect photo editing extensions.
    ///
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct PHContentEditingInputRequestOptions;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for PHContentEditingInputRequestOptions {}
);

impl PHContentEditingInputRequestOptions {
    extern_methods!(
        #[cfg(all(feature = "PHAdjustmentData", feature = "block2"))]
        /// # Safety
        ///
        /// The returned block's argument must be a valid pointer.
        #[unsafe(method(canHandleAdjustmentData))]
        #[unsafe(method_family = none)]
        pub unsafe fn canHandleAdjustmentData(
            &self,
        ) -> NonNull<block2::DynBlock<dyn Fn(NonNull<PHAdjustmentData>) -> Bool>>;

        #[cfg(all(feature = "PHAdjustmentData", feature = "block2"))]
        /// Setter for [`canHandleAdjustmentData`][Self::canHandleAdjustmentData].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        #[unsafe(method(setCanHandleAdjustmentData:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setCanHandleAdjustmentData(
            &self,
            can_handle_adjustment_data: &block2::DynBlock<
                dyn Fn(NonNull<PHAdjustmentData>) -> Bool,
            >,
        );

        #[unsafe(method(isNetworkAccessAllowed))]
        #[unsafe(method_family = none)]
        pub unsafe fn isNetworkAccessAllowed(&self) -> bool;

        /// Setter for [`isNetworkAccessAllowed`][Self::isNetworkAccessAllowed].
        #[unsafe(method(setNetworkAccessAllowed:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setNetworkAccessAllowed(&self, network_access_allowed: bool);

        #[cfg(feature = "block2")]
        /// # Safety
        ///
        /// The returned block's argument 2 must be a valid pointer.
        #[unsafe(method(progressHandler))]
        #[unsafe(method_family = none)]
        pub unsafe fn progressHandler(
            &self,
        ) -> *mut block2::DynBlock<dyn Fn(c_double, NonNull<Bool>)>;

        #[cfg(feature = "block2")]
        /// Setter for [`progressHandler`][Self::progressHandler].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        #[unsafe(method(setProgressHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setProgressHandler(
            &self,
            progress_handler: Option<&block2::DynBlock<dyn Fn(c_double, NonNull<Bool>)>>,
        );
    );
}

/// Methods declared on superclass `NSObject`.
impl PHContentEditingInputRequestOptions {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}

/// PHContentEditingInput.
#[cfg(all(feature = "PHAsset", feature = "PHObject"))]
impl PHAsset {
    extern_methods!(
        #[cfg(all(feature = "PHContentEditingInput", feature = "block2"))]
        #[unsafe(method(requestContentEditingInputWithOptions:completionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn requestContentEditingInputWithOptions_completionHandler(
            &self,
            options: Option<&PHContentEditingInputRequestOptions>,
            completion_handler: &block2::DynBlock<
                dyn Fn(*mut PHContentEditingInput, NonNull<NSDictionary>),
            >,
        ) -> PHContentEditingInputRequestID;

        #[unsafe(method(cancelContentEditingInputRequest:))]
        #[unsafe(method_family = none)]
        pub unsafe fn cancelContentEditingInputRequest(
            &self,
            request_id: PHContentEditingInputRequestID,
        );
    );
}

extern "C" {
    /// A Boolean value indicating whether the asset data is stored on the local device or must be downloaded from iCloud. (`NSNumber`)
    ///
    /// ## Discussion
    ///
    /// If `true`, no asset data was provided because the asset data must be downloaded from iCloud. To do this, submit another request, specifying `true` for the [`networkAccessAllowed`](https://developer.apple.com/documentation/photos/phcontenteditinginputrequestoptions/isnetworkaccessallowed) option.
    ///
    ///
    pub static PHContentEditingInputResultIsInCloudKey: &'static NSString;
}

extern "C" {
    /// A Boolean value indicating whether the image request was canceled. (`NSNumber`)
    ///
    /// ## Discussion
    ///
    /// If you call the [`cancelContentEditingInputRequest:`](https://developer.apple.com/documentation/photos/phasset/cancelcontenteditinginputrequest(_:)) method to cancel a request, Photos calls your result handler block with the value `true` for this key.
    ///
    ///
    pub static PHContentEditingInputCancelledKey: &'static NSString;
}

extern "C" {
    /// An error that occurred while attempting to load the asset data. (`NSError`)
    ///
    /// ## Discussion
    ///
    /// Photos provides an error object for this key if it cannot provide asset data for your handler block’s `contentEditingInput` parameter. Examine the error object for information about the cause of the error.
    ///
    ///
    pub static PHContentEditingInputErrorKey: &'static NSString;
}

/// PHAssetChangeRequest.
#[cfg(feature = "PHContentEditingOutput")]
impl PHContentEditingOutput {
    extern_methods!(
        #[cfg(feature = "PHObject")]
        #[unsafe(method(initWithPlaceholderForCreatedAsset:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithPlaceholderForCreatedAsset(
            this: Allocated<Self>,
            placeholder_for_created_asset: &PHObjectPlaceholder,
        ) -> Retained<Self>;
    );
}
