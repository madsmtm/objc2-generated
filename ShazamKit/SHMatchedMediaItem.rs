//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

extern "C" {
    /// How far in seconds is this match from the start of the reference audio
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/shazamkit/shmediaitemmatchoffset?language=objc)
    #[cfg(feature = "SHMediaItem")]
    pub static SHMediaItemMatchOffset: &'static SHMediaItemProperty;
}

extern "C" {
    /// How much the match differs in frequency from reference material
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/shazamkit/shmediaitemfrequencyskew?language=objc)
    #[cfg(feature = "SHMediaItem")]
    pub static SHMediaItemFrequencySkew: &'static SHMediaItemProperty;
}

extern "C" {
    /// The value ranges from 0.0 to 1.0, where 1.0 indicates the highest level of confidence.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/shazamkit/shmediaitemconfidence?language=objc)
    #[cfg(feature = "SHMediaItem")]
    pub static SHMediaItemConfidence: &'static SHMediaItemProperty;
}

extern_class!(
    /// An object that represents the metadata for a matched reference signature.
    ///
    /// To access properties for custom media items, use subscripting. For more information, see ``SHMediaItem``.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/shazamkit/shmatchedmediaitem?language=objc)
    #[unsafe(super(SHMediaItem, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(feature = "SHMediaItem")]
    pub struct SHMatchedMediaItem;
);

#[cfg(feature = "SHMediaItem")]
unsafe impl Send for SHMatchedMediaItem {}

#[cfg(feature = "SHMediaItem")]
unsafe impl Sync for SHMatchedMediaItem {}

#[cfg(feature = "SHMediaItem")]
extern_conformance!(
    unsafe impl NSCoding for SHMatchedMediaItem {}
);

#[cfg(feature = "SHMediaItem")]
extern_conformance!(
    unsafe impl NSCopying for SHMatchedMediaItem {}
);

#[cfg(feature = "SHMediaItem")]
unsafe impl CopyingHelper for SHMatchedMediaItem {
    type Result = Self;
}

#[cfg(feature = "SHMediaItem")]
extern_conformance!(
    unsafe impl NSObjectProtocol for SHMatchedMediaItem {}
);

#[cfg(feature = "SHMediaItem")]
extern_conformance!(
    unsafe impl NSSecureCoding for SHMatchedMediaItem {}
);

#[cfg(feature = "SHMediaItem")]
impl SHMatchedMediaItem {
    extern_methods!(
        /// A multiple for the difference in frequency between the matched audio and the query audio.
        ///
        /// A value of `0.0` indicates that the query and matched audio are at the same frequency. Other values indicate that the query audio is playing at a different frequency. For example, if the original recording plays at `100` Hz, a value of `0.05` indicates that the query recording plays at `105` Hz.
        ///
        /// No match returns if the frequency skew is too large.
        #[unsafe(method(frequencySkew))]
        #[unsafe(method_family = none)]
        pub unsafe fn frequencySkew(&self) -> c_float;

        /// The timecode in the reference recording that matches the start of the query, in seconds.
        ///
        /// The value can be negative if the query signature contains unrecognizable data before the data that corresponds to the start of the matched reference item.
        #[unsafe(method(matchOffset))]
        #[unsafe(method_family = none)]
        pub unsafe fn matchOffset(&self) -> NSTimeInterval;

        /// The updated timecode in the reference recording that matches the current playback position of the query audio, in seconds.
        #[unsafe(method(predictedCurrentMatchOffset))]
        #[unsafe(method_family = none)]
        pub unsafe fn predictedCurrentMatchOffset(&self) -> NSTimeInterval;

        /// The level of confidence in the match result.
        ///
        /// The value ranges from 0.0 to 1.0, where 1.0 indicates the highest level of confidence.
        #[unsafe(method(confidence))]
        #[unsafe(method_family = none)]
        pub unsafe fn confidence(&self) -> c_float;
    );
}

/// Methods declared on superclass `SHMediaItem`.
#[cfg(feature = "SHMediaItem")]
impl SHMatchedMediaItem {
    extern_methods!(
        /// Creates a media item object with a dictionary of properties and their associated values.
        ///
        /// - Parameters:
        /// - properties: A dictionary that contains the media item properties and their associated values.
        #[unsafe(method(mediaItemWithProperties:))]
        #[unsafe(method_family = none)]
        pub unsafe fn mediaItemWithProperties(
            properties: &NSDictionary<SHMediaItemProperty, AnyObject>,
        ) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;

        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;
    );
}
