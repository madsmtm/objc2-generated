//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

extern_class!(
    /// An object that contains the opaque data and other information for a signature.
    ///
    /// Save your signature to a file and share it with others by writing the data to a file. You can use the saved signatures of reference recordings to populate a custom catalog.
    ///
    /// Check whether your captured query signature is long enough to search for a match by comparing ``duration`` to the ``SHCatalog/minimumQuerySignatureDuration`` and ``SHCatalog/maximumQuerySignatureDuration`` of a catalog.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/shazamkit/shsignature?language=objc)
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct SHSignature;
);

unsafe impl Send for SHSignature {}

unsafe impl Sync for SHSignature {}

extern_conformance!(
    unsafe impl NSCoding for SHSignature {}
);

extern_conformance!(
    unsafe impl NSCopying for SHSignature {}
);

unsafe impl CopyingHelper for SHSignature {
    type Result = Self;
}

extern_conformance!(
    unsafe impl NSObjectProtocol for SHSignature {}
);

extern_conformance!(
    unsafe impl NSSecureCoding for SHSignature {}
);

impl SHSignature {
    extern_methods!(
        /// The duration of the audio you use to generate the signature.
        ///
        /// Audio that contains periods of silence may result in a duration value that's shorter than the full duration of the original audio track.
        #[unsafe(method(duration))]
        #[unsafe(method_family = none)]
        pub unsafe fn duration(&self) -> NSTimeInterval;

        /// The raw data for the signature.
        #[unsafe(method(dataRepresentation))]
        #[unsafe(method_family = none)]
        pub unsafe fn dataRepresentation(&self) -> Retained<NSData>;

        /// Creates a signature object from raw data.
        ///
        /// - Parameters:
        /// - dataRepresentation: The raw data for the signature.
        /// - error: The error that occurs; otherwise, `nil`.
        ///
        /// - Returns: A signature if the raw data is a valid signature; otherwise, `nil`.
        #[unsafe(method(signatureWithDataRepresentation:error:_))]
        #[unsafe(method_family = none)]
        pub unsafe fn signatureWithDataRepresentation_error(
            data_representation: &NSData,
        ) -> Result<Retained<SHSignature>, Retained<NSError>>;

        /// Creates a signature object from raw data.
        ///
        /// - Parameters:
        /// - dataRepresentation: The raw data for the signature.
        /// - error: The error that occurs; otherwise, `nil`.
        ///
        /// - Returns: A signature if the raw data is a valid signature; otherwise, `nil`.
        #[unsafe(method(initWithDataRepresentation:error:_))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithDataRepresentation_error(
            this: Allocated<Self>,
            data_representation: &NSData,
        ) -> Result<Retained<Self>, Retained<NSError>>;
    );
}

/// Methods declared on superclass `NSObject`.
impl SHSignature {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}
