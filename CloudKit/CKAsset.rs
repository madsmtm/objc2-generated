//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

extern_class!(
    /// An external file that belongs to a record.
    ///
    /// ## Overview
    ///
    /// Use assets to incorporate external files into your app’s records, such as photos, videos, and binary files. Alternatively, use assets when a field’s value is more than a few kilobytes in size. To associate an instance of [`CKAsset`](https://developer.apple.com/documentation/cloudkit/ckasset) with a record, assign it to one of its fields.
    ///
    /// <div class="warning">
    ///
    /// ### Note
    ///  CloudKit stores only an asset’s data. If you require its filename, or any other file-system metadata, use one or more separate fields on the record to store it.
    ///
    ///
    ///
    /// </div>
    /// CloudKit stores an asset’s data separately from a record that references it, but maintains an association with that record. When you save a record that has an asset, CloudKit saves both the record and the asset to the server. Similarly, when you fetch the record, the server returns the record and the asset.
    ///
    /// When you fetch a record that contains an asset, CloudKit stores the asset’s data in a staging area accessible to your app. Use the asset’s [`fileURL`](https://developer.apple.com/documentation/cloudkit/ckasset/fileurl) property to access its staged location. The system regularly deletes files in the staging area to reclaim disk space. To avoid this behavior, move the data into your app’s container as soon as you fetch it.
    ///
    /// If you don’t require the asset when retrieving records, use the operation’s `desiredKeys` property to exclude the field. For more information, see [`CKFetchRecordsOperation`](https://developer.apple.com/documentation/cloudkit/ckfetchrecordsoperation), [`CKQueryOperation`](https://developer.apple.com/documentation/cloudkit/ckqueryoperation), and [`CKFetchRecordZoneChangesOperation`](https://developer.apple.com/documentation/cloudkit/ckfetchrecordzonechangesoperation).
    ///
    /// If you no longer require an asset that’s on the server, you don’t delete it. Instead, orphan the asset by setting any fields that contain the asset to `nil` and then saving the record. CloudKit periodically deletes orphaned assets from the server.
    ///
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct CKAsset;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for CKAsset {}
);

impl CKAsset {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;

        /// Initialize an asset to be saved with the content at the given file URL
        #[unsafe(method(initWithFileURL:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithFileURL(this: Allocated<Self>, file_url: &NSURL) -> Retained<Self>;

        /// Local file URL where fetched records are cached and saved records originate from.
        #[unsafe(method(fileURL))]
        #[unsafe(method_family = none)]
        pub unsafe fn fileURL(&self) -> Option<Retained<NSURL>>;
    );
}
