//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

/// The music player playback state modes.
///
/// ## Overview
///
/// You determine a music player’s state by checking the [`playbackState`](https://developer.apple.com/documentation/mediaplayer/mpmusicplayercontroller/playbackstate) property. Depending on the property’s value, you can update your application’s user interface or take other appropriate action.
///
///
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct MPMusicPlaybackState(pub NSInteger);
impl MPMusicPlaybackState {
    /// The music player is stopped.
    #[doc(alias = "MPMusicPlaybackStateStopped")]
    pub const Stopped: Self = Self(0);
    /// The music player is playing.
    #[doc(alias = "MPMusicPlaybackStatePlaying")]
    pub const Playing: Self = Self(1);
    /// The music player is paused.
    #[doc(alias = "MPMusicPlaybackStatePaused")]
    pub const Paused: Self = Self(2);
    /// The music player has been interrupted, such as by an incoming phone call.
    #[doc(alias = "MPMusicPlaybackStateInterrupted")]
    pub const Interrupted: Self = Self(3);
    /// The music player is seeking forward.
    #[doc(alias = "MPMusicPlaybackStateSeekingForward")]
    pub const SeekingForward: Self = Self(4);
    /// The music player is seeking backward.
    #[doc(alias = "MPMusicPlaybackStateSeekingBackward")]
    pub const SeekingBackward: Self = Self(5);
}

unsafe impl Encode for MPMusicPlaybackState {
    const ENCODING: Encoding = NSInteger::ENCODING;
}

unsafe impl RefEncode for MPMusicPlaybackState {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

/// The repeat modes for the media player.
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct MPMusicRepeatMode(pub NSInteger);
impl MPMusicRepeatMode {
    /// The user’s preferred repeat mode.
    #[doc(alias = "MPMusicRepeatModeDefault")]
    pub const Default: Self = Self(0);
    /// The music player will not repeat the current song or playlist.
    #[doc(alias = "MPMusicRepeatModeNone")]
    pub const None: Self = Self(1);
    /// The music player will repeat the current song.
    #[doc(alias = "MPMusicRepeatModeOne")]
    pub const One: Self = Self(2);
    /// The music player will repeat the current playlist.
    #[doc(alias = "MPMusicRepeatModeAll")]
    pub const All: Self = Self(3);
}

unsafe impl Encode for MPMusicRepeatMode {
    const ENCODING: Encoding = NSInteger::ENCODING;
}

unsafe impl RefEncode for MPMusicRepeatMode {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

/// The shuffle modes for the media player.
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct MPMusicShuffleMode(pub NSInteger);
impl MPMusicShuffleMode {
    /// The user’s preferred shuffle mode.
    #[doc(alias = "MPMusicShuffleModeDefault")]
    pub const Default: Self = Self(0);
    /// The playlist is not shuffled.
    #[doc(alias = "MPMusicShuffleModeOff")]
    pub const Off: Self = Self(1);
    /// The playlist is shuffled by song.
    #[doc(alias = "MPMusicShuffleModeSongs")]
    pub const Songs: Self = Self(2);
    /// The playlist is shuffled by album.
    #[doc(alias = "MPMusicShuffleModeAlbums")]
    pub const Albums: Self = Self(3);
}

unsafe impl Encode for MPMusicShuffleMode {
    const ENCODING: Encoding = NSInteger::ENCODING;
}

unsafe impl RefEncode for MPMusicShuffleMode {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

extern_protocol!(
    /// A protocol for playing videos in the Music app.
    pub unsafe trait MPSystemMusicPlayerController: NSObjectProtocol {
        #[cfg(feature = "MPMusicPlayerQueueDescriptor")]
        /// Switches to Music to play the content provided by the queue descriptor.
        #[unsafe(method(openToPlayQueueDescriptor:))]
        #[unsafe(method_family = none)]
        unsafe fn openToPlayQueueDescriptor(&self, queue_descriptor: &MPMusicPlayerQueueDescriptor);
    }
);

extern_class!(
    /// An object that plays audio media items from the device’s Music app library.
    ///
    /// ## Overview
    ///
    /// Create an instance of a music player to play media items in your app. There are two types of music players:
    ///
    /// - An _application music player_ plays music locally within your app. It isn’t aware of the Music app’s Now Playing item, nor does it affect the Music app’s state. There are two application music players: [`applicationMusicPlayer`](https://developer.apple.com/documentation/mediaplayer/mpmusicplayercontroller/applicationmusicplayer) and [`applicationQueuePlayer`](https://developer.apple.com/documentation/mediaplayer/mpmusicplayercontroller/applicationqueueplayer). The application queue player provides greater control over the contents of the queue and is the preferred player.
    ///
    /// - The _system music player_ employs the built-in Music app on your behalf. On instantiation, it takes on the current Music app state, such as the identification of the Now Playing item. If a user switches away from your app while music is playing, that music continues to play. The Music app then has your music player’s most recently-set repeat mode, shuffle mode, playback state, and Now Playing item.
    ///
    /// Creating a new instance of `MPMusicPlayerController` and not specifying the player type returns a system music player.
    ///
    /// <div class="warning">
    ///
    /// ### Important
    ///  Only use a music player on the app’s main thread.
    ///
    ///
    ///
    /// </div>
    /// ### Accessing limited playback information while using Home Sharing
    ///
    /// The built-in Music and Videos apps can play media from shared libraries using Home Sharing. However, third-party apps using the Media Player framework only have access to the device music library. This means that your app can’t display the title of a home-shared song in your user interface. Specifically, if the Music app is playing a home-shared song, and you’re using a system music player, the value of the [`nowPlayingItem`](https://developer.apple.com/documentation/mediaplayer/mpmusicplayercontroller/nowplayingitem) property of your music player is [`nil`](https://developer.apple.com/documentation/objectivec/nil-227m0). However, other playback information is available when playing shared media. For example, the framework updates the value of the [`playbackState`](https://developer.apple.com/documentation/mediaplayer/mpmusicplayercontroller/playbackstate) property when the system music player plays a home-shared item.
    ///
    /// ### Choosing how the system handles remote control events
    ///
    /// Users can initiate audio playback commands through an external headset or accessory.
    ///
    /// - If you use an _application music player_, the system sends these commands as remote control events to your app, but you don’t provide code to handle them. The framework receives and handles the remote control events.
    ///
    /// - If you use the _system music player_, your app uses the Music app to play audio, which means that the Music app is the Now Playing app. The Music app receives and handles the remote control events. For example, if your app plays audio using the system music player, and the user switches from your app to the iOS device’s Now Playing controls, the controls work as expected. That is, they can play or pause audio, or skip to the next and previous items.
    ///
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct MPMusicPlayerController;
);

#[cfg(feature = "MPMediaPlayback")]
extern_conformance!(
    unsafe impl MPMediaPlayback for MPMusicPlayerController {}
);

extern_conformance!(
    unsafe impl NSObjectProtocol for MPMusicPlayerController {}
);

impl MPMusicPlayerController {
    extern_methods!(
        /// Playing items with applicationMusicPlayer does not affect Music's playback state.
        #[unsafe(method(applicationMusicPlayer))]
        #[unsafe(method_family = none)]
        pub unsafe fn applicationMusicPlayer() -> Retained<MPMusicPlayerController>;

        #[cfg(feature = "MPMusicPlayerApplicationController")]
        /// Similar to applicationMusicPlayer, but allows direct manipulation of the queue.
        #[unsafe(method(applicationQueuePlayer))]
        #[unsafe(method_family = none)]
        pub unsafe fn applicationQueuePlayer() -> Retained<MPMusicPlayerApplicationController>;

        /// Playing media items with the systemMusicPlayer will replace the user's current Music state.
        #[unsafe(method(systemMusicPlayer))]
        #[unsafe(method_family = none)]
        pub unsafe fn systemMusicPlayer() -> Retained<MPMusicPlayerController>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;

        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(playbackState))]
        #[unsafe(method_family = none)]
        pub unsafe fn playbackState(&self) -> MPMusicPlaybackState;

        #[unsafe(method(repeatMode))]
        #[unsafe(method_family = none)]
        pub unsafe fn repeatMode(&self) -> MPMusicRepeatMode;

        /// Setter for [`repeatMode`][Self::repeatMode].
        #[unsafe(method(setRepeatMode:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setRepeatMode(&self, repeat_mode: MPMusicRepeatMode);

        #[unsafe(method(shuffleMode))]
        #[unsafe(method_family = none)]
        pub unsafe fn shuffleMode(&self) -> MPMusicShuffleMode;

        /// Setter for [`shuffleMode`][Self::shuffleMode].
        #[unsafe(method(setShuffleMode:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setShuffleMode(&self, shuffle_mode: MPMusicShuffleMode);

        #[deprecated = "Use MPVolumeView for volume control."]
        #[unsafe(method(volume))]
        #[unsafe(method_family = none)]
        pub unsafe fn volume(&self) -> c_float;

        /// Setter for [`volume`][Self::volume].
        #[deprecated = "Use MPVolumeView for volume control."]
        #[unsafe(method(setVolume:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setVolume(&self, volume: c_float);

        #[cfg(all(feature = "MPMediaEntity", feature = "MPMediaItem"))]
        #[unsafe(method(nowPlayingItem))]
        #[unsafe(method_family = none)]
        pub unsafe fn nowPlayingItem(&self) -> Option<Retained<MPMediaItem>>;

        #[cfg(all(feature = "MPMediaEntity", feature = "MPMediaItem"))]
        /// Setter for [`nowPlayingItem`][Self::nowPlayingItem].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        #[unsafe(method(setNowPlayingItem:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setNowPlayingItem(&self, now_playing_item: Option<&MPMediaItem>);

        #[unsafe(method(indexOfNowPlayingItem))]
        #[unsafe(method_family = none)]
        pub unsafe fn indexOfNowPlayingItem(&self) -> NSUInteger;

        #[cfg(feature = "MPMediaQuery")]
        #[unsafe(method(setQueueWithQuery:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setQueueWithQuery(&self, query: &MPMediaQuery);

        #[cfg(all(feature = "MPMediaEntity", feature = "MPMediaItemCollection"))]
        #[unsafe(method(setQueueWithItemCollection:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setQueueWithItemCollection(&self, item_collection: &MPMediaItemCollection);

        #[unsafe(method(setQueueWithStoreIDs:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setQueueWithStoreIDs(&self, store_i_ds: &NSArray<NSString>);

        #[cfg(feature = "MPMusicPlayerQueueDescriptor")]
        #[unsafe(method(setQueueWithDescriptor:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setQueueWithDescriptor(&self, descriptor: &MPMusicPlayerQueueDescriptor);

        #[cfg(feature = "MPMusicPlayerQueueDescriptor")]
        #[unsafe(method(prependQueueDescriptor:))]
        #[unsafe(method_family = none)]
        pub unsafe fn prependQueueDescriptor(&self, descriptor: &MPMusicPlayerQueueDescriptor);

        #[cfg(feature = "MPMusicPlayerQueueDescriptor")]
        #[unsafe(method(appendQueueDescriptor:))]
        #[unsafe(method_family = none)]
        pub unsafe fn appendQueueDescriptor(&self, descriptor: &MPMusicPlayerQueueDescriptor);

        #[cfg(feature = "block2")]
        #[unsafe(method(prepareToPlayWithCompletionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn prepareToPlayWithCompletionHandler(
            &self,
            completion_handler: &block2::DynBlock<dyn Fn(*mut NSError)>,
        );

        #[unsafe(method(skipToNextItem))]
        #[unsafe(method_family = none)]
        pub unsafe fn skipToNextItem(&self);

        #[unsafe(method(skipToBeginning))]
        #[unsafe(method_family = none)]
        pub unsafe fn skipToBeginning(&self);

        #[unsafe(method(skipToPreviousItem))]
        #[unsafe(method_family = none)]
        pub unsafe fn skipToPreviousItem(&self);

        #[unsafe(method(beginGeneratingPlaybackNotifications))]
        #[unsafe(method_family = none)]
        pub unsafe fn beginGeneratingPlaybackNotifications(&self);

        #[unsafe(method(endGeneratingPlaybackNotifications))]
        #[unsafe(method_family = none)]
        pub unsafe fn endGeneratingPlaybackNotifications(&self);

        #[deprecated]
        #[unsafe(method(iPodMusicPlayer))]
        #[unsafe(method_family = none)]
        pub unsafe fn iPodMusicPlayer() -> Retained<MPMusicPlayerController>;
    );
}

extern "C" {
    /// Posted when the playback state changes programmatically or by user action.
    ///
    /// ## Discussion
    ///
    /// The object associated with the notification is the music player whose playback state changed. The notification has no `userInfo` dictionary.
    ///
    ///
    pub static MPMusicPlayerControllerPlaybackStateDidChangeNotification:
        &'static NSNotificationName;
}

extern "C" {
    /// Posted when the currently playing media item has changed.
    ///
    /// ## Discussion
    ///
    /// The object associated with the notification is the music player whose Now Playing item changed. The notification has no `userInfo` dictionary.
    ///
    ///
    pub static MPMusicPlayerControllerNowPlayingItemDidChangeNotification:
        &'static NSNotificationName;
}

extern "C" {
    /// Posted when the audio playback volume for the music player has changed.
    ///
    /// ## Discussion
    ///
    /// The object associated with the notification is the music player whose playback volume changed. The notification has no `userInfo` dictionary.
    ///
    ///
    pub static MPMusicPlayerControllerVolumeDidChangeNotification: &'static NSNotificationName;
}
