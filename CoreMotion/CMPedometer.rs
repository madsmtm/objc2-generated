//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

extern_class!(
    /// Information about the distance traveled by a user on foot.
    ///
    /// ## Overview
    ///
    /// You do not create instances of this class yourself. Instead, you use a [`CMPedometer`](https://developer.apple.com/documentation/coremotion/cmpedometer) object to request pedometer data from the system. The data for each request is packaged into an instance of this class and delivered to the handlers you registered with the pedometer object.
    ///
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct CMPedometerData;
);

extern_conformance!(
    unsafe impl NSCoding for CMPedometerData {}
);

extern_conformance!(
    unsafe impl NSCopying for CMPedometerData {}
);

unsafe impl CopyingHelper for CMPedometerData {
    type Result = Self;
}

extern_conformance!(
    unsafe impl NSObjectProtocol for CMPedometerData {}
);

extern_conformance!(
    unsafe impl NSSecureCoding for CMPedometerData {}
);

impl CMPedometerData {
    extern_methods!(
        #[unsafe(method(startDate))]
        #[unsafe(method_family = none)]
        pub unsafe fn startDate(&self) -> Retained<NSDate>;

        #[unsafe(method(endDate))]
        #[unsafe(method_family = none)]
        pub unsafe fn endDate(&self) -> Retained<NSDate>;

        #[unsafe(method(numberOfSteps))]
        #[unsafe(method_family = none)]
        pub unsafe fn numberOfSteps(&self) -> Retained<NSNumber>;

        #[unsafe(method(distance))]
        #[unsafe(method_family = none)]
        pub unsafe fn distance(&self) -> Option<Retained<NSNumber>>;

        #[unsafe(method(floorsAscended))]
        #[unsafe(method_family = none)]
        pub unsafe fn floorsAscended(&self) -> Option<Retained<NSNumber>>;

        #[unsafe(method(floorsDescended))]
        #[unsafe(method_family = none)]
        pub unsafe fn floorsDescended(&self) -> Option<Retained<NSNumber>>;

        #[unsafe(method(currentPace))]
        #[unsafe(method_family = none)]
        pub unsafe fn currentPace(&self) -> Option<Retained<NSNumber>>;

        #[unsafe(method(currentCadence))]
        #[unsafe(method_family = none)]
        pub unsafe fn currentCadence(&self) -> Option<Retained<NSNumber>>;

        #[unsafe(method(averageActivePace))]
        #[unsafe(method_family = none)]
        pub unsafe fn averageActivePace(&self) -> Option<Retained<NSNumber>>;
    );
}

/// Methods declared on superclass `NSObject`.
impl CMPedometerData {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}

/// Constants indicating the change that occurred to the user’s pedestrian activity.
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct CMPedometerEventType(pub NSInteger);
impl CMPedometerEventType {
    /// The user’s pedestrian activity stopped.
    #[doc(alias = "CMPedometerEventTypePause")]
    pub const Pause: Self = Self(0);
    /// The user’s pedestrian activity resumed.
    #[doc(alias = "CMPedometerEventTypeResume")]
    pub const Resume: Self = Self(1);
}

unsafe impl Encode for CMPedometerEventType {
    const ENCODING: Encoding = NSInteger::ENCODING;
}

unsafe impl RefEncode for CMPedometerEventType {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

extern_class!(
    /// A change in the user’s pedestrian activity.
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct CMPedometerEvent;
);

extern_conformance!(
    unsafe impl NSCoding for CMPedometerEvent {}
);

extern_conformance!(
    unsafe impl NSCopying for CMPedometerEvent {}
);

unsafe impl CopyingHelper for CMPedometerEvent {
    type Result = Self;
}

extern_conformance!(
    unsafe impl NSObjectProtocol for CMPedometerEvent {}
);

extern_conformance!(
    unsafe impl NSSecureCoding for CMPedometerEvent {}
);

impl CMPedometerEvent {
    extern_methods!(
        #[unsafe(method(date))]
        #[unsafe(method_family = none)]
        pub unsafe fn date(&self) -> Retained<NSDate>;

        #[unsafe(method(type))]
        #[unsafe(method_family = none)]
        pub unsafe fn r#type(&self) -> CMPedometerEventType;
    );
}

/// Methods declared on superclass `NSObject`.
impl CMPedometerEvent {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}

/// A block for processing pedometer-related data.
///
/// ## Discussion
///
/// You provide a block of this type when requesting data from the `CMPedometer` object. When the data becomes available, the pedometer object delivers that data to your block for processing. If there was an error retrieving the data, the pedometer object provides an error object instead.
///
/// This block has no return value and takes the following parameters:
///
/// - `pedometerData`: A [`CMPedometerData`](https://developer.apple.com/documentation/coremotion/cmpedometerdata) object containing the available data. If there was an error retrieving the data, this parameter is `nil`.
///
/// - `error`: An [`NSError`](https://developer.apple.com/documentation/foundation/nserror) object if there was a problem or `nil` if the pedometer data was retrieved successfully.
///
///
#[cfg(feature = "block2")]
pub type CMPedometerHandler = *mut block2::DynBlock<dyn Fn(*mut CMPedometerData, *mut NSError)>;

/// A block for processing pedometer events.
///
/// ## Discussion
///
/// You provide a block of this type when requesting pedometer events from a [`CMPedometer`](https://developer.apple.com/documentation/coremotion/cmpedometer) object. When a new event becomes available, the pedometer object delivers that data to your block for processing. If there was an error retrieving the data, the pedometer object provides an error object instead.
///
/// This block has no return value and takes the following parameters.
///
/// - `pedometerEvent`: A [`CMPedometerEvent`](https://developer.apple.com/documentation/coremotion/cmpedometerevent) object containing the event information. If there was an error retrieving the data, this parameter is nil.
///
/// - `error`: An [`NSError`](https://developer.apple.com/documentation/foundation/nserror) object if there was a problem or `nil` if the pedometer event was retrieved successfully.
///
///
#[cfg(feature = "block2")]
pub type CMPedometerEventHandler =
    *mut block2::DynBlock<dyn Fn(*mut CMPedometerEvent, *mut NSError)>;

extern_class!(
    /// An object for fetching the system-generated live walking data.
    ///
    /// ## Overview
    ///
    /// You use a pedometer object to retrieve step counts and other information about the distance traveled and the number of floors ascended or descended. The pedometer object manages a cache of historic data that you can query or you can ask for live updates as the data is processed.
    ///
    /// To use a pedometer object, create an instance of this class and call the appropriate methods. Use the [`queryPedometerDataFromDate:toDate:withHandler:`](https://developer.apple.com/documentation/coremotion/cmpedometer/querypedometerdata(from:to:withhandler:)) method to retrieve data that has already been gathered. To get live updates, use the [`startPedometerUpdatesFromDate:withHandler:`](https://developer.apple.com/documentation/coremotion/cmpedometer/startupdates(from:withhandler:)) method to start the delivery of events to the handler you provide.
    ///
    /// <div class="warning">
    ///
    /// ### Important
    ///  To use this API, you must include the [`NSMotionUsageDescription`](https://developer.apple.com/documentation/bundleresources/information-property-list/nsmotionusagedescription) key in your app’s `Info.plist` file and provide a usage description string for this key. The usage description appears in the prompt that the user must accept the first time the system asks the user to access motion data for your app. If you don’t include a usage description string, your app crashes when you call this API.
    ///
    ///
    ///
    /// </div>
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct CMPedometer;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for CMPedometer {}
);

impl CMPedometer {
    extern_methods!(
        #[unsafe(method(isStepCountingAvailable))]
        #[unsafe(method_family = none)]
        pub unsafe fn isStepCountingAvailable() -> bool;

        #[unsafe(method(isDistanceAvailable))]
        #[unsafe(method_family = none)]
        pub unsafe fn isDistanceAvailable() -> bool;

        #[unsafe(method(isFloorCountingAvailable))]
        #[unsafe(method_family = none)]
        pub unsafe fn isFloorCountingAvailable() -> bool;

        #[unsafe(method(isPaceAvailable))]
        #[unsafe(method_family = none)]
        pub unsafe fn isPaceAvailable() -> bool;

        #[unsafe(method(isCadenceAvailable))]
        #[unsafe(method_family = none)]
        pub unsafe fn isCadenceAvailable() -> bool;

        #[unsafe(method(isPedometerEventTrackingAvailable))]
        #[unsafe(method_family = none)]
        pub unsafe fn isPedometerEventTrackingAvailable() -> bool;

        #[cfg(feature = "CMAuthorization")]
        #[unsafe(method(authorizationStatus))]
        #[unsafe(method_family = none)]
        pub unsafe fn authorizationStatus() -> CMAuthorizationStatus;

        #[cfg(feature = "block2")]
        /// # Safety
        ///
        /// `handler` must be a valid pointer.
        #[unsafe(method(queryPedometerDataFromDate:toDate:withHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn queryPedometerDataFromDate_toDate_withHandler(
            &self,
            start: &NSDate,
            end: &NSDate,
            handler: CMPedometerHandler,
        );

        #[cfg(feature = "block2")]
        /// # Safety
        ///
        /// `handler` must be a valid pointer.
        #[unsafe(method(startPedometerUpdatesFromDate:withHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn startPedometerUpdatesFromDate_withHandler(
            &self,
            start: &NSDate,
            handler: CMPedometerHandler,
        );

        #[unsafe(method(stopPedometerUpdates))]
        #[unsafe(method_family = none)]
        pub unsafe fn stopPedometerUpdates(&self);

        #[cfg(feature = "block2")]
        /// # Safety
        ///
        /// `handler` must be a valid pointer.
        #[unsafe(method(startPedometerEventUpdatesWithHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn startPedometerEventUpdatesWithHandler(
            &self,
            handler: CMPedometerEventHandler,
        );

        #[unsafe(method(stopPedometerEventUpdates))]
        #[unsafe(method_family = none)]
        pub unsafe fn stopPedometerEventUpdates(&self);
    );
}

/// Methods declared on superclass `NSObject`.
impl CMPedometer {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}
