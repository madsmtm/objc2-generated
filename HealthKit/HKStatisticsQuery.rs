//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

extern_class!(
    /// A query that performs statistical calculations over a set of matching quantity samples, and returns the results.
    ///
    /// ## Overview
    ///
    /// Statistics queries calculate common statistics over the set of matching samples. You can use statistical queries to calculate the minimum, maximum, or average value of a set of discrete quantities, or use them to calculate the sum for cumulative quantities. For the complete list of possible calculations, see [`HKStatisticsOptions`](https://developer.apple.com/documentation/healthkit/hkstatisticsoptions). For more information about the available quantity types and to learn whether they are discrete or cumulative values, see [Data types](https://developer.apple.com/documentation/healthkit/data-types).
    ///
    /// You can use statistics queries with quantity samples only. If you want to calculate statistics over workouts or correlation samples, you must perform the appropriate query and process the data yourself.
    ///
    /// Statistics queries are immutable. Their properties are set when they are first created, and they canâ€™t change.
    ///
    ///
    #[unsafe(super(HKQuery, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(feature = "HKQuery")]
    pub struct HKStatisticsQuery;
);

#[cfg(feature = "HKQuery")]
unsafe impl Send for HKStatisticsQuery {}

#[cfg(feature = "HKQuery")]
unsafe impl Sync for HKStatisticsQuery {}

#[cfg(feature = "HKQuery")]
extern_conformance!(
    unsafe impl NSObjectProtocol for HKStatisticsQuery {}
);

#[cfg(feature = "HKQuery")]
impl HKStatisticsQuery {
    extern_methods!(
        #[cfg(all(feature = "HKObjectType", feature = "HKStatistics", feature = "block2"))]
        /// # Safety
        ///
        /// `handler` block must be sendable.
        #[unsafe(method(initWithQuantityType:quantitySamplePredicate:options:completionHandler:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithQuantityType_quantitySamplePredicate_options_completionHandler(
            this: Allocated<Self>,
            quantity_type: &HKQuantityType,
            quantity_sample_predicate: Option<&NSPredicate>,
            options: HKStatisticsOptions,
            handler: &block2::DynBlock<
                dyn Fn(NonNull<HKStatisticsQuery>, *mut HKStatistics, *mut NSError),
            >,
        ) -> Retained<Self>;
    );
}

/// Methods declared on superclass `HKQuery`.
#[cfg(feature = "HKQuery")]
impl HKStatisticsQuery {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;
    );
}

/// Methods declared on superclass `NSObject`.
#[cfg(feature = "HKQuery")]
impl HKStatisticsQuery {
    extern_methods!(
        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}
