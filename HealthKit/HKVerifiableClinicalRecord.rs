//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

/// The source type for the verifiable clinical record.
// NS_TYPED_ENUM
pub type HKVerifiableClinicalRecordSourceType = NSString;

extern "C" {
    /// A value indicating SMART health cards.
    /// Represents a SMART Health Card source type for a verifiable record.
    pub static HKVerifiableClinicalRecordSourceTypeSMARTHealthCard:
        &'static HKVerifiableClinicalRecordSourceType;
}

extern "C" {
    /// A value indicating EU Digital COVID Certificates.
    /// Represents a EU Digital COVID Certificate source type for a verifiable record.
    pub static HKVerifiableClinicalRecordSourceTypeEUDigitalCOVIDCertificate:
        &'static HKVerifiableClinicalRecordSourceType;
}

/// The type of record returned by a verifiable clinical record query.
// NS_TYPED_ENUM
pub type HKVerifiableClinicalRecordCredentialType = NSString;

extern "C" {
    /// A value that represents records about COVID-19.
    /// Represents the COVID-19 credential type for a verifiable record.
    pub static HKVerifiableClinicalRecordCredentialTypeCOVID19:
        &'static HKVerifiableClinicalRecordCredentialType;
}

extern "C" {
    /// A value that represents immunizations.
    /// Represents the immunization credential type for a verifiable record.
    pub static HKVerifiableClinicalRecordCredentialTypeImmunization:
        &'static HKVerifiableClinicalRecordCredentialType;
}

extern "C" {
    /// A value that represents laboratory results.
    /// Represents the laboratory credential type for a verifiable record.
    pub static HKVerifiableClinicalRecordCredentialTypeLaboratory:
        &'static HKVerifiableClinicalRecordCredentialType;
}

extern "C" {
    /// A value that represents recovery information.
    /// Represents the recovery credential type for a verifiable record.
    pub static HKVerifiableClinicalRecordCredentialTypeRecovery:
        &'static HKVerifiableClinicalRecordCredentialType;
}

extern_class!(
    /// A sample that represents the contents of a SMART Health Card or EU Digital COVID Certificate.
    ///
    /// ## Overview
    ///
    /// [`HKVerifiableClinicalRecord`](https://developer.apple.com/documentation/healthkit/hkverifiableclinicalrecord) samples contain data from a SMART Health Card or EU Digital COVID Certificate. Verifiable clinical records combine information about the user’s identity with clinical data, like an immunization record or a lab test result. The organization that produced the data cryptographically signs the bundle.
    ///
    /// Apps that use verifiable clinical records can use the cryptographic signature to verify the authenticity of the contents. To verify the card:
    ///
    /// 1. Access the card’s raw payload using the clinical record’s [`dataRepresentation`](https://developer.apple.com/documentation/healthkit/hkverifiableclinicalrecord/datarepresentation) property.
    ///
    /// 2. Unzip the payload and parse out the `iss` value, which contains a URL that identifies the organization that issued the card.
    ///
    /// 3. Get the public key from the issuer.
    ///
    /// 4. Verify the payload’s signature.
    ///
    /// For more information, see [SMART Health Cards Framework](https://smarthealth.cards) and [Electronic Health Certificates](https://github.com/ehn-dcc-development/hcert-spec). You can download example SMART cards for testing and development from [Examples](https://smarthealth.cards/examples/).
    ///
    ///
    /// An NSObject that represents a verifiable clinical record.
    #[unsafe(super(HKSample, HKObject, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(all(feature = "HKObject", feature = "HKSample"))]
    pub struct HKVerifiableClinicalRecord;
);

#[cfg(all(feature = "HKObject", feature = "HKSample"))]
unsafe impl Send for HKVerifiableClinicalRecord {}

#[cfg(all(feature = "HKObject", feature = "HKSample"))]
unsafe impl Sync for HKVerifiableClinicalRecord {}

#[cfg(all(feature = "HKObject", feature = "HKSample"))]
extern_conformance!(
    unsafe impl NSCoding for HKVerifiableClinicalRecord {}
);

#[cfg(all(feature = "HKObject", feature = "HKSample"))]
extern_conformance!(
    unsafe impl NSObjectProtocol for HKVerifiableClinicalRecord {}
);

#[cfg(all(feature = "HKObject", feature = "HKSample"))]
extern_conformance!(
    unsafe impl NSSecureCoding for HKVerifiableClinicalRecord {}
);

#[cfg(all(feature = "HKObject", feature = "HKSample"))]
impl HKVerifiableClinicalRecord {
    extern_methods!(
        /// The types present in this record.
        #[unsafe(method(recordTypes))]
        #[unsafe(method_family = none)]
        pub unsafe fn recordTypes(&self) -> Retained<NSArray<NSString>>;

        /// The identifier for the issuer of this record.
        #[unsafe(method(issuerIdentifier))]
        #[unsafe(method_family = none)]
        pub unsafe fn issuerIdentifier(&self) -> Retained<NSString>;

        #[cfg(feature = "HKVerifiableClinicalRecordSubject")]
        /// The subject of this record.
        #[unsafe(method(subject))]
        #[unsafe(method_family = none)]
        pub unsafe fn subject(&self) -> Retained<HKVerifiableClinicalRecordSubject>;

        /// The date this record was issued.
        #[unsafe(method(issuedDate))]
        #[unsafe(method_family = none)]
        pub unsafe fn issuedDate(&self) -> Retained<NSDate>;

        /// A date most relevant to this record, like when a vaccine was
        /// administered or a test was performed.
        #[unsafe(method(relevantDate))]
        #[unsafe(method_family = none)]
        pub unsafe fn relevantDate(&self) -> Retained<NSDate>;

        /// The date this record expires.
        #[unsafe(method(expirationDate))]
        #[unsafe(method_family = none)]
        pub unsafe fn expirationDate(&self) -> Option<Retained<NSDate>>;

        /// A list of display names for each item contained in this record.
        #[unsafe(method(itemNames))]
        #[unsafe(method_family = none)]
        pub unsafe fn itemNames(&self) -> Retained<NSArray<NSString>>;

        /// The type of the source leading to this verifiable record.
        #[unsafe(method(sourceType))]
        #[unsafe(method_family = none)]
        pub unsafe fn sourceType(&self) -> Option<Retained<HKVerifiableClinicalRecordSourceType>>;

        /// The record's data representation, determined by source type.
        #[unsafe(method(dataRepresentation))]
        #[unsafe(method_family = none)]
        pub unsafe fn dataRepresentation(&self) -> Retained<NSData>;

        /// The record's entirety as JSON Web Signature (JWS) data.
        #[deprecated]
        #[unsafe(method(JWSRepresentation))]
        #[unsafe(method_family = none)]
        pub unsafe fn JWSRepresentation(&self) -> Retained<NSData>;

        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}
