//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ptr::NonNull;
use objc2::__framework_prelude::*;

use crate::*;

extern_class!(
    /// An object that provides further information about a remote peripheral’s characteristic.
    ///
    /// ## Overview
    ///
    /// [`CBDescriptor`](https://developer.apple.com/documentation/corebluetooth/cbdescriptor) and its subclass [`CBMutableDescriptor`](https://developer.apple.com/documentation/corebluetooth/cbmutabledescriptor) represent a descriptor of a peripheral’s characteristic. In partcular, [`CBDescriptor`](https://developer.apple.com/documentation/corebluetooth/cbdescriptor) objects represent the descriptors of a remote peripheral’s characteristic. Descriptors provide further information about a characteristic’s value. For example, they may describe the value in human-readable form and describe how to format the value for presentation purposes. Characteristic descriptors also indicate whether a characteristic’s value indicates or notifies a client (a central) when the value of the characteristic changes.
    ///
    /// [`CBUUID`](https://developer.apple.com/documentation/corebluetooth/cbuuid) details six predefined descriptors and their corresponding value types. [`CBDescriptor`](https://developer.apple.com/documentation/corebluetooth/cbdescriptor) lists the predefined descriptors and the [`CBUUID`](https://developer.apple.com/documentation/corebluetooth/cbuuid) constants that represent them.
    ///
    /// (TODO table: Table { header: "row", extended_data: None, rows: [[[Paragraph { inline_content: [Text { text: "Descriptor type" }] }], [Paragraph { inline_content: [Text { text: "Descriptor constant" }] }]], [[Paragraph { inline_content: [Text { text: "Characteristic extended properties" }] }], [Paragraph { inline_content: [Reference { identifier: "doc://com.apple.corebluetooth/documentation/CoreBluetooth/CBUUIDCharacteristicExtendedPropertiesString", is_active: true, overriding_title: None, overriding_title_inline_content: None }] }]], [[Paragraph { inline_content: [Text { text: "Characteristic user description" }] }], [Paragraph { inline_content: [Reference { identifier: "doc://com.apple.corebluetooth/documentation/CoreBluetooth/CBUUIDCharacteristicUserDescriptionString", is_active: true, overriding_title: None, overriding_title_inline_content: None }] }]], [[Paragraph { inline_content: [Text { text: "Client characteristic configuration" }] }], [Paragraph { inline_content: [Reference { identifier: "doc://com.apple.corebluetooth/documentation/CoreBluetooth/CBUUIDClientCharacteristicConfigurationString", is_active: true, overriding_title: None, overriding_title_inline_content: None }] }]], [[Paragraph { inline_content: [Text { text: "Server characteristic configuration" }] }], [Paragraph { inline_content: [Reference { identifier: "doc://com.apple.corebluetooth/documentation/CoreBluetooth/CBUUIDServerCharacteristicConfigurationString", is_active: true, overriding_title: None, overriding_title_inline_content: None }] }]], [[Paragraph { inline_content: [Text { text: "Characteristic format" }] }], [Paragraph { inline_content: [Reference { identifier: "doc://com.apple.corebluetooth/documentation/CoreBluetooth/CBUUIDCharacteristicFormatString", is_active: true, overriding_title: None, overriding_title_inline_content: None }] }]], [[Paragraph { inline_content: [Text { text: "Characteristic aggregate format" }] }], [Paragraph { inline_content: [Reference { identifier: "doc://com.apple.corebluetooth/documentation/CoreBluetooth/CBUUIDCharacteristicAggregateFormatString", is_active: true, overriding_title: None, overriding_title_inline_content: None }] }]]], alignments: None, metadata: None })
    ///
    /// Represents a characteristic's descriptor.
    #[unsafe(super(CBAttribute, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(feature = "CBAttribute")]
    pub struct CBDescriptor;
);

#[cfg(feature = "CBAttribute")]
extern_conformance!(
    unsafe impl NSObjectProtocol for CBDescriptor {}
);

#[cfg(feature = "CBAttribute")]
impl CBDescriptor {
    extern_methods!(
        #[cfg(feature = "CBCharacteristic")]
        /// A back-pointer to the characteristic this descriptor belongs to.
        #[unsafe(method(characteristic))]
        #[unsafe(method_family = none)]
        pub unsafe fn characteristic(&self) -> Option<Retained<CBCharacteristic>>;

        /// The value of the descriptor. The corresponding value types for the various descriptors are detailed in
        ///
        /// ```text
        ///  CBUUID.h
        /// ```
        ///
        /// .
        #[unsafe(method(value))]
        #[unsafe(method_family = none)]
        pub unsafe fn value(&self) -> Option<Retained<AnyObject>>;
    );
}

/// Methods declared on superclass `CBAttribute`.
#[cfg(feature = "CBAttribute")]
impl CBDescriptor {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;
    );
}

/// Methods declared on superclass `NSObject`.
#[cfg(feature = "CBAttribute")]
impl CBDescriptor {
    extern_methods!(
        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}

extern_class!(
    /// An object that provides additional information about a local peripheral’s characteristic.
    ///
    /// ## Overview
    ///
    /// You use the [`CBMutableDescriptor`](https://developer.apple.com/documentation/corebluetooth/cbmutabledescriptor) class to create a local characteristic descriptor. After you create a descriptor and associate it with a local characteristic, you can publish it to the peripheral’s local database using the [`addService:`](https://developer.apple.com/documentation/corebluetooth/cbperipheralmanager/add(_:)) method of the [`CBPeripheralManager`](https://developer.apple.com/documentation/corebluetooth/cbperipheralmanager) class. This also publishes the characteristic and local service to which the descriptor belongs. After you publish a local descriptor, Core Bluetooth caches the descriptor and you can no longer make changes to it.
    ///
    /// [`CBUUID`](https://developer.apple.com/documentation/corebluetooth/cbuuid) details predefined descriptor types and their corresponding value types. That said, only two of these are currently supported when creating local, mutable descriptors: the characteristic user description descriptor and the characteristic format descriptor. [`CBUUID`](https://developer.apple.com/documentation/corebluetooth/cbuuid) declares these as the constants [`CBUUIDCharacteristicUserDescriptionString`](https://developer.apple.com/documentation/corebluetooth/cbuuidcharacteristicuserdescriptionstring) and [`CBUUIDCharacteristicFormatString`](https://developer.apple.com/documentation/corebluetooth/cbuuidcharacteristicformatstring), respectively. The system automatically creates the extended properties descriptor and the client configuration descriptor, depending on the properties of the characteristic to which the descriptor belongs.
    ///
    ///
    /// Used to create a local characteristic descriptor, which can be added to the local database via
    /// <code>
    /// CBPeripheralManager
    /// </code>
    /// .
    /// Once a descriptor is published, it is cached and can no longer be changed.
    /// Descriptor types are detailed in
    ///
    /// ```text
    ///  CBUUID.h
    /// ```
    ///
    /// , but only the
    /// <code>
    /// Characteristic User Description
    /// </code>
    /// and
    /// <code>
    /// Characteristic Presentation
    /// Format
    /// </code>
    /// descriptors are currently supported. The
    /// <code>
    /// Characteristic Extended Properties
    /// </code>
    /// and
    /// <code>
    /// Client Characteristic
    /// Configuration
    /// </code>
    /// descriptors will be created automatically upon publication of the parent service, depending on the properties of the characteristic itself.
    #[unsafe(super(CBDescriptor, CBAttribute, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(feature = "CBAttribute")]
    pub struct CBMutableDescriptor;
);

#[cfg(feature = "CBAttribute")]
extern_conformance!(
    unsafe impl NSObjectProtocol for CBMutableDescriptor {}
);

#[cfg(feature = "CBAttribute")]
impl CBMutableDescriptor {
    extern_methods!(
        #[cfg(feature = "CBUUID")]
        /// Parameter `UUID`: The Bluetooth UUID of the descriptor.
        ///
        /// Parameter `value`: The value of the descriptor.
        ///
        ///
        /// Returns a decriptor, initialized with a service type and value. The
        /// <i>
        /// value
        /// </i>
        /// is required and cannot be updated dynamically
        /// once the parent service has been published.
        ///
        /// # Safety
        ///
        /// `value` should be of the correct type.
        #[unsafe(method(initWithType:value:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithType_value(
            this: Allocated<Self>,
            uuid: &CBUUID,
            value: Option<&AnyObject>,
        ) -> Retained<Self>;
    );
}

/// Methods declared on superclass `CBAttribute`.
#[cfg(feature = "CBAttribute")]
impl CBMutableDescriptor {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;
    );
}

/// Methods declared on superclass `NSObject`.
#[cfg(feature = "CBAttribute")]
impl CBMutableDescriptor {
    extern_methods!(
        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}
