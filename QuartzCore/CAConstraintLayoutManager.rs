//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
#[cfg(feature = "objc2-core-foundation")]
use objc2_core_foundation::*;
use objc2_foundation::*;

use crate::*;

/// The constraint attribute type.
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct CAConstraintAttribute(pub c_int);
impl CAConstraintAttribute {
    /// The left edge of a layer’s frame.
    #[doc(alias = "kCAConstraintMinX")]
    pub const MinX: Self = Self(0);
    /// The horizontal location of the center of a layer’s frame.
    #[doc(alias = "kCAConstraintMidX")]
    pub const MidX: Self = Self(1);
    /// The right edge of a layer’s frame.
    #[doc(alias = "kCAConstraintMaxX")]
    pub const MaxX: Self = Self(2);
    /// The width of a layer.
    #[doc(alias = "kCAConstraintWidth")]
    pub const Width: Self = Self(3);
    /// The bottom edge of a layer’s frame.
    #[doc(alias = "kCAConstraintMinY")]
    pub const MinY: Self = Self(4);
    /// The vertical location of the center of a layer’s frame.
    #[doc(alias = "kCAConstraintMidY")]
    pub const MidY: Self = Self(5);
    /// The top edge of a layer’s frame.
    #[doc(alias = "kCAConstraintMaxY")]
    pub const MaxY: Self = Self(6);
    /// The height of a layer.
    #[doc(alias = "kCAConstraintHeight")]
    pub const Height: Self = Self(7);
}

unsafe impl Encode for CAConstraintAttribute {
    const ENCODING: Encoding = c_int::ENCODING;
}

unsafe impl RefEncode for CAConstraintAttribute {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

/// CAConstraintLayoutManager.
///
/// The additions to CALayer for constraint layout. *
#[cfg(feature = "CALayer")]
impl CALayer {
    extern_methods!(
        #[unsafe(method(constraints))]
        #[unsafe(method_family = none)]
        pub fn constraints(&self) -> Option<Retained<NSArray<CAConstraint>>>;

        /// Setter for [`constraints`][Self::constraints].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        #[unsafe(method(setConstraints:))]
        #[unsafe(method_family = none)]
        pub fn setConstraints(&self, constraints: Option<&NSArray<CAConstraint>>);

        #[unsafe(method(addConstraint:))]
        #[unsafe(method_family = none)]
        pub fn addConstraint(&self, c: &CAConstraint);
    );
}

extern_class!(
    /// An object that provides a constraint-based layout manager.
    ///
    /// ## Overview
    ///
    /// You use the shared instance of this object by assigning it to the [`layoutManager`](https://developer.apple.com/documentation/quartzcore/calayer/layoutmanager) property of any layer objects to which you have added constraints. During a layout update, Core Animation uses the layout manager to update the size and position of the sublayers based on the registered set of constraints.
    ///
    /// Constraints let you define a set of geometric relationships between a layer and its sibling layers or between a layer and its superlayer. These relationships are expressed using constraint objects, which are instances of the [`CAConstraint`](https://developer.apple.com/documentation/quartzcore/caconstraint) class. When creating constraints, you can reference a layer by name using that object’s [`name`](https://developer.apple.com/documentation/quartzcore/calayer/name) property. You can also use the special name `superlayer` to refer to the layer’s superlayer.
    ///
    /// The following example shows how you can use [`CAConstraintLayoutManager`](https://developer.apple.com/documentation/quartzcore/caconstraintlayoutmanager) to create a layer containing two constrained sublayers: `leftLayer` and `rightLayer`. A series of [`CAConstraint`](https://developer.apple.com/documentation/quartzcore/caconstraint) objects are created so that the sublayers match their superlayer’s height and are half of its width. `leftConstraint` matches the [`kCAConstraintMinX`](https://developer.apple.com/documentation/quartzcore/caconstraintattribute/minx) attribute and `rightConstraint` matches the [`kCAConstraintMaxX`](https://developer.apple.com/documentation/quartzcore/caconstraintattribute/maxx) attribute.
    ///
    /// The end result is that the two sublayers are always laid out so that `leftLayer` fills the left half of `layer` and `rightLayer` fills the right half of layer.
    ///
    /// ```swift
    /// let layer = CALayer()
    /// let heightConstraint = CAConstraint(attribute: .height,
    ///                                     relativeTo: "superlayer",
    ///                                     attribute: .height)
    ///     
    /// let widthConstraint = CAConstraint(attribute: .width,
    ///                                    relativeTo: "superlayer",
    ///                                    attribute: .width,
    ///                                    scale: 0.5,
    ///                                    offset: 0)
    ///      
    /// let leftConstraint = CAConstraint(attribute: .minX,
    ///                                   relativeTo: "superlayer",
    ///                                   attribute: .minX)
    ///      
    /// let rightConstraint = CAConstraint(attribute: .maxX,
    ///                                    relativeTo: "superlayer",
    ///                                    attribute: .maxX)
    ///     
    /// let bottomConstraint = CAConstraint(attribute: .minY,
    ///                                     relativeTo: "superlayer",
    ///                                     attribute: .minY)   
    ///      
    /// let leftLayer = CALayer()
    /// leftLayer.frame = CGRect(x: 0, y: 0, width: 20, height: 20)
    /// layer.addSublayer(leftLayer)
    /// leftLayer.constraints = [heightConstraint, widthConstraint,
    ///                          leftConstraint, bottomConstraint]
    /// leftLayer.backgroundColor = NSColor.red.cgColor
    ///   
    /// let rightLayer = CALayer()
    /// layer.addSublayer(rightLayer)
    /// rightLayer.constraints = [heightConstraint, widthConstraint,
    ///                           rightConstraint, bottomConstraint]
    /// rightLayer.backgroundColor = NSColor.blue.cgColor
    ///     
    /// layer.layoutManager = CAConstraintLayoutManager()
    /// ```
    ///
    /// <div class="warning">
    ///
    /// ### Important
    ///  It is possible to specify a set of constraints that will cause layout to fail. For example, layout may fail if your constraints contain a circular dependency. When that happens, the behavior of the layout manager is undefined.
    ///
    ///
    ///
    /// </div>
    /// This class is not meant to be subclassed.
    ///
    ///
    /// The constraint-based layout manager. *
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct CAConstraintLayoutManager;
);

#[cfg(feature = "CALayer")]
extern_conformance!(
    unsafe impl CALayoutManager for CAConstraintLayoutManager {}
);

extern_conformance!(
    unsafe impl NSObjectProtocol for CAConstraintLayoutManager {}
);

impl CAConstraintLayoutManager {
    extern_methods!(
        #[unsafe(method(layoutManager))]
        #[unsafe(method_family = none)]
        pub fn layoutManager() -> Retained<Self>;
    );
}

/// Methods declared on superclass `NSObject`.
impl CAConstraintLayoutManager {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub fn new() -> Retained<Self>;
    );
}

impl DefaultRetained for CAConstraintLayoutManager {
    #[inline]
    fn default_retained() -> Retained<Self> {
        Self::new()
    }
}

extern_class!(
    /// A representation of a single layout constraint between two layers.
    ///
    /// ## Overview
    ///
    /// Each [`CAConstraint`](https://developer.apple.com/documentation/quartzcore/caconstraint) instance encapsulates one geometry relationship between two layers on the same axis.
    ///
    /// Sibling layers are referenced by name, using the name property of each layer. The special name `superlayer` is used to refer to the layer’s superlayer.
    ///
    /// For example, to specify that a layer should be horizontally centered in its superview you would use the following:
    ///
    /// (TODO tabnav: TabNavigator { tabs: [TabItem { title: "Swift", content: [CodeListing { syntax: Some("swift"), code: ["let theConstraint = CAConstraint(attribute: .midX,", "                                 relativeTo: \"superlayer\",", "                                 attribute: .midX)"], metadata: None }] }, TabItem { title: "Objective-C", content: [CodeListing { syntax: Some("objc"), code: ["theConstraint=[CAConstraint constraintWithAttribute:kCAConstraintMidX", "                                         relativeTo:@\"superlayer\"", "                                         attribute:kCAConstraintMidX];"], metadata: None }] }] })
    /// A minimum of two relationships must be specified per axis. If you specify constraints for the left and right edges of a layer, the width will vary. If you specify constraints for the left edge and the width, the right edge of the layer will move relative to the superlayer’s frame. Often you’ll specify only a single edge constraint, the layer’s size in the same axis will be used as the second relationship.
    ///
    /// <div class="warning">
    ///
    /// ### Important
    ///  It is possible to create constraints that result in circular references to the same attributes. In cases where the layout is unable to be computed the behavior is undefined.
    ///
    ///
    ///
    /// </div>
    ///
    /// The class representing a single layout constraint. *
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct CAConstraint;
);

extern_conformance!(
    unsafe impl NSCoding for CAConstraint {}
);

extern_conformance!(
    unsafe impl NSObjectProtocol for CAConstraint {}
);

extern_conformance!(
    unsafe impl NSSecureCoding for CAConstraint {}
);

impl CAConstraint {
    extern_methods!(
        #[cfg(feature = "objc2-core-foundation")]
        #[unsafe(method(constraintWithAttribute:relativeTo:attribute:scale:offset:))]
        #[unsafe(method_family = none)]
        pub fn constraintWithAttribute_relativeTo_attribute_scale_offset(
            attr: CAConstraintAttribute,
            src_id: &NSString,
            src_attr: CAConstraintAttribute,
            m: CGFloat,
            c: CGFloat,
        ) -> Retained<Self>;

        #[cfg(feature = "objc2-core-foundation")]
        #[unsafe(method(constraintWithAttribute:relativeTo:attribute:offset:))]
        #[unsafe(method_family = none)]
        pub fn constraintWithAttribute_relativeTo_attribute_offset(
            attr: CAConstraintAttribute,
            src_id: &NSString,
            src_attr: CAConstraintAttribute,
            c: CGFloat,
        ) -> Retained<Self>;

        #[unsafe(method(constraintWithAttribute:relativeTo:attribute:))]
        #[unsafe(method_family = none)]
        pub fn constraintWithAttribute_relativeTo_attribute(
            attr: CAConstraintAttribute,
            src_id: &NSString,
            src_attr: CAConstraintAttribute,
        ) -> Retained<Self>;

        #[cfg(feature = "objc2-core-foundation")]
        #[unsafe(method(initWithAttribute:relativeTo:attribute:scale:offset:))]
        #[unsafe(method_family = init)]
        pub fn initWithAttribute_relativeTo_attribute_scale_offset(
            this: Allocated<Self>,
            attr: CAConstraintAttribute,
            src_id: &NSString,
            src_attr: CAConstraintAttribute,
            m: CGFloat,
            c: CGFloat,
        ) -> Retained<Self>;

        #[unsafe(method(attribute))]
        #[unsafe(method_family = none)]
        pub fn attribute(&self) -> CAConstraintAttribute;

        #[unsafe(method(sourceName))]
        #[unsafe(method_family = none)]
        pub fn sourceName(&self) -> Retained<NSString>;

        #[unsafe(method(sourceAttribute))]
        #[unsafe(method_family = none)]
        pub fn sourceAttribute(&self) -> CAConstraintAttribute;

        #[cfg(feature = "objc2-core-foundation")]
        #[unsafe(method(scale))]
        #[unsafe(method_family = none)]
        pub fn scale(&self) -> CGFloat;

        #[cfg(feature = "objc2-core-foundation")]
        #[unsafe(method(offset))]
        #[unsafe(method_family = none)]
        pub fn offset(&self) -> CGFloat;
    );
}

/// Methods declared on superclass `NSObject`.
impl CAConstraint {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub fn new() -> Retained<Self>;
    );
}

impl DefaultRetained for CAConstraint {
    #[inline]
    fn default_retained() -> Retained<Self> {
        Self::new()
    }
}
