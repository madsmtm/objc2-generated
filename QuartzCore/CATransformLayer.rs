//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

extern_class!(
    /// Objects used to create true 3D layer hierarchies, rather than the flattened hierarchy rendering model used by other layer types.
    ///
    /// ## Overview
    ///
    /// Unlike normal layers, transform layers do not flatten their sublayers into the plane at `Z=0`. Due to this, they do not support many of the features of the `CALayer` class compositing model:
    ///
    /// - Only the sublayers of a transform layer are rendered. The `CALayer` properties that are rendered by a layer are ignored, including: `backgroundColor`, `contents`, border style properties, stroke style properties, etc.
    ///
    /// - The properties that assume 2D image processing are also ignored, including: `filters`, `backgroundFilters`, `compositingFilter`, `mask`, `masksToBounds`, and shadow style properties.
    ///
    /// - The `opacity` property is applied to each sublayer individually, the transform layer does not form a compositing group.
    ///
    /// - The [`hitTest:`](https://developer.apple.com/documentation/quartzcore/calayer/hittest(_:)) method should never be called on a transform layer as they do not have a 2D coordinate space into which the point can be mapped.
    ///
    /// ### Example: Displaying layers in 3D
    ///
    /// Because [`CATransformLayer`](https://developer.apple.com/documentation/quartzcore/catransformlayer) creates true 3D layer hierarchies, you can display otherwise hidden layers when applying 3D transforms.
    ///
    /// The following code shows three layers with different colors but identical sizes added at the same position to `layer`. The blue layer is visible because it has the highest [`zPosition`](https://developer.apple.com/documentation/quartzcore/calayer/zposition). Defining the layerâ€™s transform rotates the viewpoint in 3D space and, because `layer` is a [`CATransformLayer`](https://developer.apple.com/documentation/quartzcore/catransformlayer), all three layers are visible as illustrated below.
    ///
    /// ```swift
    /// let layer = CATransformLayer()
    ///      
    /// func layerOfColor(_ color: UIColor, zPosition: CGFloat) -> CALayer {
    ///     let layer = CALayer()
    ///     layer.frame = CGRect(x: 200, y: -200, width: 400, height: 400)
    ///     layer.backgroundColor = color.cgColor
    ///     layer.zPosition = zPosition
    ///     layer.opacity = 0.5
    ///     
    ///     return layer
    /// }
    ///      
    /// layer.addSublayer(layerOfColor(.red, zPosition: 20))
    /// layer.addSublayer(layerOfColor(.green, zPosition: 40))
    /// layer.addSublayer(layerOfColor(.blue, zPosition: 60))
    ///      
    /// var perspective = CATransform3DIdentity
    /// perspective.m34 = -1 / 100
    ///      
    /// layer.transform = CATransform3DRotate(perspective, 0.1, 0, 1, 0)
    /// ```
    ///
    ///
    /// ![Hidden layers made visible in 3D with CATransformLayer](https://docs-assets.developer.apple.com/published/8129009096a4ae5306bed60e0990e15d/media-2826921%402x.png)
    ///
    ///
    /// However, if `layer` is created as a [`CALayer`](https://developer.apple.com/documentation/quartzcore/calayer), the green and red layers, being hidden by the blue layer, are not rendered as illustrated in the following figure.
    ///
    ///
    /// ![Hidden layers remain hidden in 3D with CALayer](https://docs-assets.developer.apple.com/published/72c00676c58725671134abaf6e31e688/media-2826922%402x.png)
    ///
    ///
    ///
    #[unsafe(super(CALayer, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(feature = "CALayer")]
    pub struct CATransformLayer;
);

#[cfg(all(feature = "CALayer", feature = "CAMediaTiming"))]
extern_conformance!(
    unsafe impl CAMediaTiming for CATransformLayer {}
);

#[cfg(feature = "CALayer")]
extern_conformance!(
    unsafe impl NSCoding for CATransformLayer {}
);

#[cfg(feature = "CALayer")]
extern_conformance!(
    unsafe impl NSObjectProtocol for CATransformLayer {}
);

#[cfg(feature = "CALayer")]
extern_conformance!(
    unsafe impl NSSecureCoding for CATransformLayer {}
);

#[cfg(feature = "CALayer")]
impl CATransformLayer {
    extern_methods!();
}

/// Methods declared on superclass `CALayer`.
#[cfg(feature = "CALayer")]
impl CATransformLayer {
    extern_methods!(
        /// Layer creation and initialization. *
        #[unsafe(method(layer))]
        #[unsafe(method_family = none)]
        pub fn layer() -> Retained<Self>;

        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub fn init(this: Allocated<Self>) -> Retained<Self>;

        /// # Safety
        ///
        /// `layer` should be of the correct type.
        #[unsafe(method(initWithLayer:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithLayer(this: Allocated<Self>, layer: &AnyObject) -> Retained<Self>;
    );
}

/// Methods declared on superclass `NSObject`.
#[cfg(feature = "CALayer")]
impl CATransformLayer {
    extern_methods!(
        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub fn new() -> Retained<Self>;
    );
}

#[cfg(feature = "CALayer")]
impl DefaultRetained for CATransformLayer {
    #[inline]
    fn default_retained() -> Retained<Self> {
        Self::new()
    }
}
