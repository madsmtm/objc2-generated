//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ptr::NonNull;
#[cfg(feature = "objc2")]
use objc2::__framework_prelude::*;
#[cfg(feature = "objc2-vision")]
use objc2_vision::*;

use crate::*;

#[cfg(feature = "objc2")]
extern_class!(
    /// The interface for the skeleton of a tracked body.
    ///
    /// ## Overview
    ///
    /// As a collection of joints, this protocol describes the state of a human body whose movements ARKit can track.
    ///
    /// The [`ARSkeleton3D`](https://developer.apple.com/documentation/arkit/arskeleton3d) subclass provides you with the position of a tracked body’s joints in 3D space, specifically with its [`jointLocalTransforms`](https://developer.apple.com/documentation/arkit/arskeleton3d/jointlocaltransforms-1m5a1) and [`jointModelTransforms`](https://developer.apple.com/documentation/arkit/arskeleton3d/jointmodeltransforms-dno4) properties.
    ///
    /// The [`ARSkeleton2D`](https://developer.apple.com/documentation/arkit/arskeleton2d) subclass provides you with the position of a tracked body’s joints in 2D space, by way of its [`jointLandmarks`](https://developer.apple.com/documentation/arkit/arskeleton2d/jointlandmarks-3en0x) property.
    ///
    ///
    /// An object representing a skeleton.
    ///
    /// A skeleton's structure is defined by a skeleton definition.
    ///
    /// See: ARSkeletonDefinition
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(feature = "objc2")]
    pub struct ARSkeleton;
);

#[cfg(feature = "objc2")]
unsafe impl Send for ARSkeleton {}

#[cfg(feature = "objc2")]
unsafe impl Sync for ARSkeleton {}

#[cfg(feature = "objc2")]
extern_conformance!(
    unsafe impl NSObjectProtocol for ARSkeleton {}
);

#[cfg(feature = "objc2")]
impl ARSkeleton {
    extern_methods!(
        #[cfg(feature = "ARSkeletonDefinition")]
        /// Skeleton definition.
        ///
        /// This property is not atomic.
        ///
        /// # Safety
        ///
        /// This might not be thread-safe.
        #[unsafe(method(definition))]
        #[unsafe(method_family = none)]
        pub unsafe fn definition(&self) -> Retained<ARSkeletonDefinition>;

        /// The number of joints.
        ///
        /// This property is not atomic.
        ///
        /// # Safety
        ///
        /// This might not be thread-safe.
        #[unsafe(method(jointCount))]
        #[unsafe(method_family = none)]
        pub unsafe fn jointCount(&self) -> NSUInteger;

        /// Tracking state for a given joint.
        ///
        ///
        /// Parameter `jointIndex`: The index of the joint.
        ///
        /// Returns: YES if the joint is tracked. NO otherwise.
        #[unsafe(method(isJointTracked:))]
        #[unsafe(method_family = none)]
        pub unsafe fn isJointTracked(&self, joint_index: NSInteger) -> bool;

        /// Unavailable
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}

#[cfg(feature = "objc2")]
extern_class!(
    /// The skeleton of a human body that ARKit tracks in 3D space.
    ///
    /// ## Overview
    ///
    /// An [`ARBodyAnchor`](https://developer.apple.com/documentation/arkit/arbodyanchor) contains one instance of this [`ARSkeleton`](https://developer.apple.com/documentation/arkit/arskeleton) subclass to provide its joint positions in 3D space. The [`jointLocalTransforms`](https://developer.apple.com/documentation/arkit/arskeleton3d/jointlocaltransforms-1m5a1) property describes a joint’s 3D offset from its parent joint. The [`jointModelTransforms`](https://developer.apple.com/documentation/arkit/arskeleton3d/jointmodeltransforms-dno4) property describes a joint’s 3D offset from the body anchor’s [`transform`](https://developer.apple.com/documentation/arkit/aranchor/transform).
    ///
    ///
    /// An object representing a skeleton in 3D.
    #[unsafe(super(ARSkeleton, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(feature = "objc2")]
    pub struct ARSkeleton3D;
);

#[cfg(feature = "objc2")]
unsafe impl Send for ARSkeleton3D {}

#[cfg(feature = "objc2")]
unsafe impl Sync for ARSkeleton3D {}

#[cfg(feature = "objc2")]
extern_conformance!(
    unsafe impl NSObjectProtocol for ARSkeleton3D {}
);

#[cfg(feature = "objc2")]
impl ARSkeleton3D {
    extern_methods!(
        /// Unavailable
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}

#[cfg(feature = "objc2")]
extern_class!(
    /// An object that describes the locations of a body’s joints in the camera feed.
    ///
    /// ## Overview
    ///
    /// [`ARSkeleton2D`](https://developer.apple.com/documentation/arkit/arskeleton2d) provides you with a 2D body’s joints in a flat hierarchy so you can access them efficiently. The joint locations are normalized within the range [0..1] in the coordinate space of the current frame’s camera image, where 0 is the upper left, and 1 is the bottom right.
    ///
    /// To access a skeleton’s joints by name, you use [`landmarkForJointNamed:`](https://developer.apple.com/documentation/arkit/arskeleton2d/landmarkforjointnamed:). To access a named joint by index (for example, for performance reasons), you query the definition for the named joint index using [`index(for:)`](https://developer.apple.com/documentation/arkit/arskeletondefinition/index(for:)), then access [`jointLandmarks`](https://developer.apple.com/documentation/arkit/arskeleton2d/jointlandmarks-12vkw) using the resulting index.
    ///
    ///
    /// An object representing a skeleton in 2D.
    #[unsafe(super(ARSkeleton, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(feature = "objc2")]
    pub struct ARSkeleton2D;
);

#[cfg(feature = "objc2")]
unsafe impl Send for ARSkeleton2D {}

#[cfg(feature = "objc2")]
unsafe impl Sync for ARSkeleton2D {}

#[cfg(feature = "objc2")]
extern_conformance!(
    unsafe impl NSObjectProtocol for ARSkeleton2D {}
);

#[cfg(feature = "objc2")]
impl ARSkeleton2D {
    extern_methods!(
        /// Unavailable
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}

#[cfg(feature = "objc2")]
impl ARSkeleton {
    /// Returns a joint name that corresponds to a key point defined in a human body pose.
    ///
    /// Parameters:
    /// - recognizedPointKey: The argument key point.
    ///
    ///
    /// ## Discussion
    ///
    /// This function matches human body key points defined by the Vision framework with joint names defined by ARKit. This function may return `nil` if the key point doesn’t map to a joint name. For more information about key points, see [Detecting Human Body Poses in Images](https://developer.apple.com/documentation/vision/detecting-human-body-poses-in-images).
    ///
    ///
    /// Returns the landmark joint name that corresponds to a key point defined in Vision framework.
    ///
    /// See: VNRecognizedPointKey, VNDetectHumanBodyPoseRequest
    ///
    /// If an invalid key point is passed the returned point will be nil.
    ///
    ///
    /// Parameter `recognizedPointKey`: Recognized key point.
    ///
    /// Returns: Joint name that could be mapped to a ARSkeleton2D. Nil if no mapping exists.
    #[doc(alias = "ARSkeletonJointNameForRecognizedPointKey")]
    #[cfg(all(
        feature = "ARSkeletonDefinition",
        feature = "objc2",
        feature = "objc2-foundation",
        feature = "objc2-vision"
    ))]
    #[inline]
    pub unsafe fn joint_name_for_recognized_point_key(
        recognized_point_key: &VNRecognizedPointKey,
    ) -> Option<Retained<ARSkeletonJointName>> {
        extern "C-unwind" {
            fn ARSkeletonJointNameForRecognizedPointKey(
                recognized_point_key: &VNRecognizedPointKey,
            ) -> *mut ARSkeletonJointName;
        }
        let ret = unsafe { ARSkeletonJointNameForRecognizedPointKey(recognized_point_key) };
        unsafe { Retained::retain_autoreleased(ret) }
    }
}

#[cfg(all(
    feature = "ARSkeletonDefinition",
    feature = "objc2",
    feature = "objc2-foundation",
    feature = "objc2-vision"
))]
#[deprecated = "renamed to `ARSkeleton::joint_name_for_recognized_point_key`"]
#[inline]
pub unsafe extern "C-unwind" fn ARSkeletonJointNameForRecognizedPointKey(
    recognized_point_key: &VNRecognizedPointKey,
) -> Option<Retained<ARSkeletonJointName>> {
    extern "C-unwind" {
        fn ARSkeletonJointNameForRecognizedPointKey(
            recognized_point_key: &VNRecognizedPointKey,
        ) -> *mut ARSkeletonJointName;
    }
    let ret = unsafe { ARSkeletonJointNameForRecognizedPointKey(recognized_point_key) };
    unsafe { Retained::retain_autoreleased(ret) }
}
