//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

/// The types of audio and haptic event waveforms.
/// Types of haptic and audio events.
///
///
/// An event which generates a haptic with a fixed length, such as a tap.  Transient events will complete on their own.  If a duration longer than the
/// haptic is provided, the pattern containing the event will be "padded" out to the duration specified.
///
///
/// An event which generates a haptic of arbitrary length.  The event can behave as either Transient or Continuous depending on the value
/// of the CHHapticEventParameterIDSustained parameter.  These events also include an AR or ADR gain envelope that may be controlled via Event or
/// Dynamic parameters.
/// See `CHHapticEventParameterIDAttackTime`, `CHHapticEventParameterIDDecayTime`, and `CHHapticEventParameterIDReleaseTime`.
///
///
/// An event which generates an audio signal.  The event can behave as either Transient or Continuous depending on the value of the
/// CHHapticEventParameterIDSustained parameter.  These events also include an AR or ADR gain envelope that may be controlled via Event or
/// Dynamic parameters.
/// See `CHHapticEventParameterIDAttackTime`, `CHHapticEventParameterIDDecayTime`, and `CHHapticEventParameterIDReleaseTime`.
///
///
/// An event which generates an audio signal using a client-supplied waveform (see `CHHapticEngine(registerAudioResource:options:error)`).
/// Currently, these behave as Transient events (i.e., no looping or enveloping).
// NS_TYPED_ENUM
pub type CHHapticEventType = NSString;

extern "C" {
    /// A brief impulse occurring at a specific point in time, like the feedback from toggling a switch.
    ///
    /// ## Discussion
    ///
    /// Transient events complete on their own, even without a duration.
    ///
    ///
    pub static CHHapticEventTypeHapticTransient: &'static CHHapticEventType;
}

extern "C" {
    /// A haptic event with a looped waveform of arbitrary length.
    ///
    /// ## Discussion
    ///
    /// Continuous haptic patterns, like the sustained vibration from a ringtone, take the form of lengthier feedback over a period of time. You must provide continuous events with a duration to determine their endpoint. The maximum duration of a continuous haptic event is 30 seconds.
    ///
    ///
    pub static CHHapticEventTypeHapticContinuous: &'static CHHapticEventType;
}

extern "C" {
    /// An audio event with a looped waveform of arbitrary length.
    ///
    /// ## Discussion
    ///
    /// Continuous audio patterns take the form of lengthier feedback over a period of time. You must provide continuous events with a duration to determine their endpoint.
    ///
    ///
    pub static CHHapticEventTypeAudioContinuous: &'static CHHapticEventType;
}

extern "C" {
    /// An audio event using a waveform that you supply.
    ///
    /// ## Discussion
    ///
    /// Custom waveforms behave like transient events, with no looping.
    ///
    ///
    pub static CHHapticEventTypeAudioCustom: &'static CHHapticEventType;
}

/// A type that identifies a custom audio resource.
/// Identifier for registered, client-loaded audio data which can be used as custom event types
/// (see `CHHapticEngine(registerAudioResource:options:error)`).
pub type CHHapticAudioResourceID = NSUInteger;

extern_class!(
    /// An object that describes a single haptic or audio event.
    ///
    /// ## Overview
    ///
    /// Each event represents a single haptic or audio signal. The event [`type`](https://developer.apple.com/documentation/corehaptics/chhapticevent/type) determines whether itâ€™s audio or haptic. Use a [`CHHapticPatternPlayer`](https://developer.apple.com/documentation/corehaptics/chhapticpatternplayer) object obtained through [`CHHapticEngine`](https://developer.apple.com/documentation/corehaptics/chhapticengine) factory methods to play events. Haptic events can be transient or continuous. Transient haptic patterns are brief impulses that occur at a specific point in time, such as the haptic feedback you feel from swiping through a picker or toggling a switch. Continuous haptic patterns, like the vibration from a ringtone, take the form of lengthier feedback over a period of time.
    ///
    /// In the following graphic, transient haptic patterns on the left trigger at a specific time with a specific intensity. Continuous haptic patterns on the right sustain the haptic feedback over a specific duration of time, such as three seconds.
    ///
    ///
    /// <picture>
    ///     <source media="(prefers-color-scheme: dark)" srcset="https://docs-assets.developer.apple.com/published/56f030e44ad5fb63ca53760499edb42b/media-3235483~dark%402x.png 2x" />
    ///     <source media="(prefers-color-scheme: light)" srcset="https://docs-assets.developer.apple.com/published/5457af395d15942b22d154ae7e7fa804/media-3235483%402x.png 2x" />
    ///     <img alt="A transient haptic pattern on the left, and a continuous haptic pattern on the right." src="https://docs-assets.developer.apple.com/published/56f030e44ad5fb63ca53760499edb42b/media-3235483~dark%402x.png" />
    /// </picture>
    ///
    ///
    /// Specify when an event begins by setting its [`relativeTime`](https://developer.apple.com/documentation/corehaptics/chhapticevent/relativetime) property. Specify the length of the event by setting its [`duration`](https://developer.apple.com/documentation/corehaptics/chhapticevent/duration) property. Set optional parameters to customize event properties. For example, you can specify the intensity of a haptic event by creating an event parameter with ID [`CHHapticEventParameterIDHapticIntensity`](https://developer.apple.com/documentation/corehaptics/chhapticevent/parameterid/hapticintensity).
    ///
    ///
    /// The description of a single haptic/audio event, plus optional Event parameters which modify the event.
    ///
    /// CHHapticEvents have a relative time property to allow specifying the time relationship between events in a pattern.
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct CHHapticEvent;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for CHHapticEvent {}
);

impl CHHapticEvent {
    extern_methods!(
        /// The type of event.
        #[unsafe(method(type))]
        #[unsafe(method_family = none)]
        pub unsafe fn r#type(&self) -> Retained<CHHapticEventType>;

        #[cfg(feature = "CHHapticParameter")]
        /// NSArray of Event parameters.  Can be empty.
        #[unsafe(method(eventParameters))]
        #[unsafe(method_family = none)]
        pub unsafe fn eventParameters(&self) -> Retained<NSArray<CHHapticEventParameter>>;

        /// The relative time for this event versus the start time of the pattern.  Units are seconds.
        #[unsafe(method(relativeTime))]
        #[unsafe(method_family = none)]
        pub unsafe fn relativeTime(&self) -> NSTimeInterval;

        /// Setter for [`relativeTime`][Self::relativeTime].
        #[unsafe(method(setRelativeTime:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setRelativeTime(&self, relative_time: NSTimeInterval);

        /// The duration for this event.  Units are seconds.  If unset (0.0), Continuous event types will have no fixed end.
        #[unsafe(method(duration))]
        #[unsafe(method_family = none)]
        pub unsafe fn duration(&self) -> NSTimeInterval;

        /// Setter for [`duration`][Self::duration].
        #[unsafe(method(setDuration:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setDuration(&self, duration: NSTimeInterval);

        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Option<Retained<Self>>;

        #[cfg(feature = "CHHapticParameter")]
        /// Initialize a new CHHapticEvent.  This can only be used to create Transient event types (which do not require a duration).
        ///
        /// Parameter `type`: The type of event.
        ///
        /// Parameter `eventParams`: An NSArray of Event parameters.  Can be empty.
        ///
        /// Parameter `time`: The relative time for this event versus the other events in the CHHapticPattern.
        #[unsafe(method(initWithEventType:parameters:relativeTime:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithEventType_parameters_relativeTime(
            this: Allocated<Self>,
            r#type: &CHHapticEventType,
            event_params: &NSArray<CHHapticEventParameter>,
            time: NSTimeInterval,
        ) -> Retained<Self>;

        #[cfg(feature = "CHHapticParameter")]
        /// Initialize a new CHHapticEvent, providing a duration.
        ///
        /// Parameter `type`: The type of event.
        ///
        /// Parameter `eventParams`: An NSArray of Event parameters.  Can be empty.
        ///
        /// Parameter `time`: The relative time for this event versus the other events in the CHHapticPattern.
        ///
        /// Parameter `duration`: For Continuous event types, the length of time before the event playback begins its release.
        /// For Transient event types, the logical length of the event (used to determine pattern end and loop points).
        #[unsafe(method(initWithEventType:parameters:relativeTime:duration:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithEventType_parameters_relativeTime_duration(
            this: Allocated<Self>,
            r#type: &CHHapticEventType,
            event_params: &NSArray<CHHapticEventParameter>,
            time: NSTimeInterval,
            duration: NSTimeInterval,
        ) -> Retained<Self>;

        #[cfg(feature = "CHHapticParameter")]
        /// Initialize a new CHHapticEvent using a previously-loaded audio resource.
        ///
        /// Parameter `resID`: A previously-registered audio resource ID (see `CHHapticEngine(registerAudioResource:options:error)`).
        ///
        /// Parameter `eventParams`: An NSArray of Event parameters.  Can be empty.
        ///
        /// Parameter `time`: The relative time for this event versus the other events in the CHHapticPattern.
        #[unsafe(method(initWithAudioResourceID:parameters:relativeTime:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithAudioResourceID_parameters_relativeTime(
            this: Allocated<Self>,
            res_id: CHHapticAudioResourceID,
            event_params: &NSArray<CHHapticEventParameter>,
            time: NSTimeInterval,
        ) -> Retained<Self>;

        #[cfg(feature = "CHHapticParameter")]
        /// Initialize a new CHHapticEvent using a previously-loaded audio resource.
        ///
        /// Parameter `resID`: A previously-registered audio resource ID (see `CHHapticEngine(registerAudioResource:options:error)`).
        ///
        /// Parameter `eventParams`: An NSArray of Event parameters.  Can be empty.
        ///
        /// Parameter `time`: The relative time for this event versus the other events in the CHHapticPattern.
        ///
        /// Parameter `duration`: The duration of this event in seconds.
        ///
        /// If the specified duration is less than the duration of the audio resource, its playback will be truncated.  If it
        /// is greater, its playback will be padded with silence.  If zero, it will be ignored.
        #[unsafe(method(initWithAudioResourceID:parameters:relativeTime:duration:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithAudioResourceID_parameters_relativeTime_duration(
            this: Allocated<Self>,
            res_id: CHHapticAudioResourceID,
            event_params: &NSArray<CHHapticEventParameter>,
            time: NSTimeInterval,
            duration: NSTimeInterval,
        ) -> Retained<Self>;
    );
}

/// Methods declared on superclass `NSObject`.
impl CHHapticEvent {
    extern_methods!(
        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}
