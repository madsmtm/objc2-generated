//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

extern_protocol!(
    /// A protocol defining the life cycle and supported types of project extensions.
    ///
    /// ## Overview
    ///
    /// The principal view controller for a Photos project extension must conform to this protocol. Methods in this protocol define the basic life cycle of the extension controller. They allow you to define any number of project types that your extension supports; the Photos app displays these project types to the user as choices when creating a new project. To enable this entry point into the extension, the Info.plist must include this key/value pair in its `NSExtensionAttributes` dictionary.
    ///
    ///
    /// <picture>
    ///     <source media="(prefers-color-scheme: dark)" srcset="https://docs-assets.developer.apple.com/published/86c872c3e22fedca46b8b565ef4cfd7c/media-3029168~dark%402x.png 2x" />
    ///     <source media="(prefers-color-scheme: light)" srcset="https://docs-assets.developer.apple.com/published/df0b4ba300d51821cc4981d6d29e07f1/media-3029168%402x.png 2x" />
    ///     <img alt="Screenshot showing the slideshow category in the information property list for a Photos project extension." src="https://docs-assets.developer.apple.com/published/df0b4ba300d51821cc4981d6d29e07f1/media-3029168%402x.png" />
    /// </picture>
    ///
    ///
    /// Once enabled, Photos asks the extension for its list of supported project types. The option that the user selects when creating a project is passed to the extension as an attribute of [`PHProjectInfo`](https://developer.apple.com/documentation/photosui/phprojectinfo).
    ///
    ///
    /// The principal view controller for any Photos Project Extension must conform to the PHProjectExtensionController protocol.
    /// Methods in this protocol define the basic lifecycle of the extension controller as well as optionally allow for
    /// definition of project types supported by the extension.
    pub unsafe trait PHProjectExtensionController: NSObjectProtocol {
        #[cfg(feature = "PHProjectTypeDescription")]
        /// Extensions can define any number of project types which are displayed to the user as choices in the Photos app upon
        /// initial project creation. To enable this entry point into the extension the Info.plist must include this key/value in
        /// its NSExtensionAttributes dictionary:
        /// PHProjectExtensionDefinesProjectTypes: YES
        /// Once enabled, Photos will first ask the extension for its list of supported project types.
        /// The option selected by the user on project creation will be passed to the extension as an attribute of PHProjectInfo.
        ///
        /// DEPRECATED implement -[PHProjectExtensionController typeDescriptionDataSourceForCategory:invalidator:] instead.
        #[deprecated]
        #[optional]
        #[unsafe(method(supportedProjectTypes))]
        #[unsafe(method_family = none)]
        unsafe fn supportedProjectTypes(&self) -> Retained<NSArray<PHProjectTypeDescription>>;

        #[cfg(all(
            feature = "PHProjectTypeDescriptionDataSource",
            feature = "PhotosUITypes"
        ))]
        /// Extensions can define any number of project types which are displayed to the user as choices in the Photos app upon
        /// initial project creation. To enable this entry point into the extension, the Info.plist must include this key/value in
        /// its NSExtensionAttributes dictionary:
        /// PHProjectExtensionDefinesProjectTypes: YES
        /// The data source is strongly referenced by the system until it is no longer needed.
        ///
        /// Parameter `category`: is the category in which the user selected the extension.
        ///
        /// Parameter `invalidator`: is an object that can be used to invalidate information returned from the data source
        #[optional]
        #[unsafe(method(typeDescriptionDataSourceForCategory:invalidator:))]
        #[unsafe(method_family = none)]
        unsafe fn typeDescriptionDataSourceForCategory_invalidator(
            &self,
            category: &PHProjectCategory,
            invalidator: &ProtocolObject<dyn PHProjectTypeDescriptionInvalidator>,
        ) -> Retained<ProtocolObject<dyn PHProjectTypeDescriptionDataSource>>;

        #[cfg(all(
            feature = "PHProjectExtensionContext",
            feature = "PHProjectInfo",
            feature = "block2"
        ))]
        /// Called the first time a project is created.
        #[unsafe(method(beginProjectWithExtensionContext:projectInfo:completion:))]
        #[unsafe(method_family = none)]
        unsafe fn beginProjectWithExtensionContext_projectInfo_completion(
            &self,
            extension_context: &PHProjectExtensionContext,
            project_info: &PHProjectInfo,
            completion: &block2::DynBlock<dyn Fn(*mut NSError)>,
        );

        #[cfg(all(feature = "PHProjectExtensionContext", feature = "block2"))]
        /// Called anytime the user returns to a project that was previously created.
        #[unsafe(method(resumeProjectWithExtensionContext:completion:))]
        #[unsafe(method_family = none)]
        unsafe fn resumeProjectWithExtensionContext_completion(
            &self,
            extension_context: &PHProjectExtensionContext,
            completion: &block2::DynBlock<dyn Fn(*mut NSError)>,
        );

        #[cfg(feature = "block2")]
        /// Called when a user is switching away from the project or before Photos terminates the extension.
        /// The receiver should persist any state data to using PHProjectChangeRequest, then call the completion handler.
        #[unsafe(method(finishProjectWithCompletionHandler:))]
        #[unsafe(method_family = none)]
        unsafe fn finishProjectWithCompletionHandler(
            &self,
            completion: &block2::DynBlock<dyn Fn()>,
        );
    }
);
