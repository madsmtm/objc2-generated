//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

/// A completion handler block for a search operation.
///
/// ## Discussion
///
/// This block takes two parameters:
///
/// - The `response` parameter contains the search results. If an error occurs, this parameter is `nil` and the framework provides an appropriate error object in the `error` parameter.
///
/// - The `error` parameter is `nil` if the search is successful. If an error occurs during the operation, the framework sets this parameter to an appropriate error object.
///
/// This block has no return value.
///
///
#[cfg(all(feature = "MKLocalSearchResponse", feature = "block2"))]
pub type MKLocalSearchCompletionHandler =
    *mut block2::DynBlock<dyn Fn(*mut MKLocalSearchResponse, *mut NSError)>;

extern_class!(
    /// A utility object for initiating map-based searches and processing the results.
    ///
    /// ## Overview
    ///
    /// Use an [`MKLocalSearch`](https://developer.apple.com/documentation/mapkit/mklocalsearch) object to execute a single search request. You might use this class to search for addresses or points of interest on the map. Upon completion of the request, the object delivers the results to the completion handler that you provide.
    ///
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct MKLocalSearch;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for MKLocalSearch {}
);

impl MKLocalSearch {
    extern_methods!(
        #[cfg(feature = "MKLocalSearchRequest")]
        #[unsafe(method(initWithRequest:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithRequest(
            this: Allocated<Self>,
            request: &MKLocalSearchRequest,
        ) -> Retained<Self>;

        #[cfg(feature = "MKLocalPointsOfInterestRequest")]
        #[unsafe(method(initWithPointsOfInterestRequest:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithPointsOfInterestRequest(
            this: Allocated<Self>,
            request: &MKLocalPointsOfInterestRequest,
        ) -> Retained<Self>;

        #[cfg(all(feature = "MKLocalSearchResponse", feature = "block2"))]
        /// # Safety
        ///
        /// `completion_handler` must be a valid pointer.
        #[unsafe(method(startWithCompletionHandler:))]
        #[unsafe(method_family = none)]
        pub unsafe fn startWithCompletionHandler(
            &self,
            completion_handler: MKLocalSearchCompletionHandler,
        );

        #[unsafe(method(cancel))]
        #[unsafe(method_family = none)]
        pub unsafe fn cancel(&self);

        #[unsafe(method(isSearching))]
        #[unsafe(method_family = none)]
        pub unsafe fn isSearching(&self) -> bool;
    );
}

/// Methods declared on superclass `NSObject`.
impl MKLocalSearch {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}
