//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

/// Constants indicating the types of search completions to return.
// NS_ENUM
#[deprecated = "Use MKLocalSearchCompleterResultType"]
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct MKSearchCompletionFilterType(pub NSInteger);
impl MKSearchCompletionFilterType {
    /// Points of interest and query suggestions. Specify this value when you want both map-based points of interest and common query terms used to find locations. For example, the search string `cof` yields a completion for _coffee_.
    #[doc(alias = "MKSearchCompletionFilterTypeLocationsAndQueries")]
    #[deprecated = "Use MKLocalSearchCompleterResultType"]
    pub const LocationsAndQueries: Self = Self(0);
    /// Points of interest only. Specify this value when you want the search string to yield completions that correspond to a specific point-of-interest on the map.
    #[doc(alias = "MKSearchCompletionFilterTypeLocationsOnly")]
    #[deprecated = "Use MKLocalSearchCompleterResultType"]
    pub const LocationsOnly: Self = Self(1);
}

unsafe impl Encode for MKSearchCompletionFilterType {
    const ENCODING: Encoding = NSInteger::ENCODING;
}

unsafe impl RefEncode for MKSearchCompletionFilterType {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

/// Options that indicate types of search completions.
// NS_OPTIONS
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord, Default)]
pub struct MKLocalSearchCompleterResultType(pub NSUInteger);
bitflags::bitflags! {
    impl MKLocalSearchCompleterResultType: NSUInteger {
/// A value that indicates that the search completer includes address completions in the result.
        #[doc(alias = "MKLocalSearchCompleterResultTypeAddress")]
        const Address = 1<<0;
/// A value that indicates that the search completer includes point-of-interest completions in the result.
        #[doc(alias = "MKLocalSearchCompleterResultTypePointOfInterest")]
        const PointOfInterest = 1<<1;
/// A value that indicates that the search completer includes query completions in the result.
///
/// ## Discussion
///
/// For example, the search string `cof` yields a completion for _coffee_.
///
///
        #[doc(alias = "MKLocalSearchCompleterResultTypeQuery")]
        const Query = 1<<2;
/// A value that indicates that the search completer includes physical feature completions in the result.
        #[doc(alias = "MKLocalSearchCompleterResultTypePhysicalFeature")]
        const PhysicalFeature = 1<<3;
    }
}

unsafe impl Encode for MKLocalSearchCompleterResultType {
    const ENCODING: Encoding = NSUInteger::ENCODING;
}

unsafe impl RefEncode for MKLocalSearchCompleterResultType {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

extern_class!(
    /// A utility object for generating a list of completion strings based on a partial search string that you provide.
    ///
    /// ## Overview
    ///
    /// You use an [`MKLocalSearchCompleter`](https://developer.apple.com/documentation/mapkit/mklocalsearchcompleter) object to retrieve auto-complete suggestions for your own map-based search controls. As the user types text, you feed the current text string into the search completer object, which delivers possible string completions that match locations or points of interest.
    ///
    /// You create and configure [`MKLocalSearchCompleter`](https://developer.apple.com/documentation/mapkit/mklocalsearchcompleter) objects yourself. You must always assign a delegate object to the search completer so that you can receive the search results that it generates. Specify a search region to restrict results to a designated area. The following code shows a simple example of a view controller that stores the [`MKLocalSearchCompleter`](https://developer.apple.com/documentation/mapkit/mklocalsearchcompleter) object in a property. The view controller itself acts as the delegate for the completer and the view controller uses the region associated with an [`MKMapView`](https://developer.apple.com/documentation/mapkit/mkmapview) object that’s part of the view controller’s interface. Completer objects are long-lived objects, so you can store strong references to them and reuse them later in your code.
    ///
    /// Listing 1. Creating and configuring a search completer
    ///
    /// (TODO tabnav: TabNavigator { tabs: [TabItem { title: "Swift", content: [CodeListing { syntax: Some("swift"), code: ["override func viewDidLoad() {", "    super.viewDidLoad()", "", "    completer = MKLocalSearchCompleter()", "    completer.delegate = self", "      ", "    // Limit search results to the map view's current region.", "    completer.region = myMapView.region", "}"], metadata: None }] }, TabItem { title: "Objective-C", content: [CodeListing { syntax: Some("objc"), code: ["- (void)viewDidLoad {", "   [super viewDidLoad];", " ", "   self.completer = [[MKLocalSearchCompleter alloc] init];", "   self.completer.delegate = self;", " ", "   // Limit search results to the map view's current region.", "   self.completer.region = self.myMapView.region;", "}"], metadata: None }] }] })
    /// Update the value of the completer’s [`queryFragment`](https://developer.apple.com/documentation/mapkit/mklocalsearchcompleter/queryfragment) property to begin a search query. You can update this property in real time as the user types new characters into a text field because the completer object waits a short amount of time for the query string to stabilize. When modifications to the query string stop, the completer initiates a new search and returns the results to your delegate as an array of [`MKLocalSearchCompletion`](https://developer.apple.com/documentation/mapkit/mklocalsearchcompletion) objects.
    ///
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct MKLocalSearchCompleter;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for MKLocalSearchCompleter {}
);

impl MKLocalSearchCompleter {
    extern_methods!(
        #[unsafe(method(queryFragment))]
        #[unsafe(method_family = none)]
        pub unsafe fn queryFragment(&self) -> Retained<NSString>;

        /// Setter for [`queryFragment`][Self::queryFragment].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        #[unsafe(method(setQueryFragment:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setQueryFragment(&self, query_fragment: &NSString);

        #[cfg(all(feature = "MKGeometry", feature = "objc2-core-location"))]
        #[unsafe(method(region))]
        #[unsafe(method_family = none)]
        pub unsafe fn region(&self) -> MKCoordinateRegion;

        #[cfg(all(feature = "MKGeometry", feature = "objc2-core-location"))]
        /// Setter for [`region`][Self::region].
        #[unsafe(method(setRegion:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setRegion(&self, region: MKCoordinateRegion);

        #[cfg(feature = "MKTypes")]
        #[unsafe(method(regionPriority))]
        #[unsafe(method_family = none)]
        pub unsafe fn regionPriority(&self) -> MKLocalSearchRegionPriority;

        #[cfg(feature = "MKTypes")]
        /// Setter for [`regionPriority`][Self::regionPriority].
        #[unsafe(method(setRegionPriority:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setRegionPriority(&self, region_priority: MKLocalSearchRegionPriority);

        #[deprecated = "Use resultTypes"]
        #[unsafe(method(filterType))]
        #[unsafe(method_family = none)]
        pub unsafe fn filterType(&self) -> MKSearchCompletionFilterType;

        /// Setter for [`filterType`][Self::filterType].
        #[deprecated = "Use resultTypes"]
        #[unsafe(method(setFilterType:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setFilterType(&self, filter_type: MKSearchCompletionFilterType);

        #[unsafe(method(resultTypes))]
        #[unsafe(method_family = none)]
        pub unsafe fn resultTypes(&self) -> MKLocalSearchCompleterResultType;

        /// Setter for [`resultTypes`][Self::resultTypes].
        #[unsafe(method(setResultTypes:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setResultTypes(&self, result_types: MKLocalSearchCompleterResultType);

        #[cfg(feature = "MKPointOfInterestFilter")]
        #[unsafe(method(pointOfInterestFilter))]
        #[unsafe(method_family = none)]
        pub unsafe fn pointOfInterestFilter(&self) -> Option<Retained<MKPointOfInterestFilter>>;

        #[cfg(feature = "MKPointOfInterestFilter")]
        /// Setter for [`pointOfInterestFilter`][Self::pointOfInterestFilter].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        #[unsafe(method(setPointOfInterestFilter:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setPointOfInterestFilter(
            &self,
            point_of_interest_filter: Option<&MKPointOfInterestFilter>,
        );

        #[cfg(feature = "MKAddressFilter")]
        #[unsafe(method(addressFilter))]
        #[unsafe(method_family = none)]
        pub unsafe fn addressFilter(&self) -> Option<Retained<MKAddressFilter>>;

        #[cfg(feature = "MKAddressFilter")]
        /// Setter for [`addressFilter`][Self::addressFilter].
        ///
        /// This is [copied][objc2_foundation::NSCopying::copy] when set.
        #[unsafe(method(setAddressFilter:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setAddressFilter(&self, address_filter: Option<&MKAddressFilter>);

        #[unsafe(method(delegate))]
        #[unsafe(method_family = none)]
        pub unsafe fn delegate(
            &self,
        ) -> Option<Retained<ProtocolObject<dyn MKLocalSearchCompleterDelegate>>>;

        /// Setter for [`delegate`][Self::delegate].
        ///
        /// This is a [weak property][objc2::topics::weak_property].
        #[unsafe(method(setDelegate:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setDelegate(
            &self,
            delegate: Option<&ProtocolObject<dyn MKLocalSearchCompleterDelegate>>,
        );

        #[unsafe(method(results))]
        #[unsafe(method_family = none)]
        pub unsafe fn results(&self) -> Retained<NSArray<MKLocalSearchCompletion>>;

        #[unsafe(method(isSearching))]
        #[unsafe(method_family = none)]
        pub unsafe fn isSearching(&self) -> bool;

        #[unsafe(method(cancel))]
        #[unsafe(method_family = none)]
        pub unsafe fn cancel(&self);
    );
}

/// Methods declared on superclass `NSObject`.
impl MKLocalSearchCompleter {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}

extern_protocol!(
    /// Methods the delegate calls with search completion data.
    ///
    /// ## Overview
    ///
    /// You use this protocol when implementing an autocomplete solution for a map in your app. As the user types search terms, use an [`MKLocalSearchCompleter`](https://developer.apple.com/documentation/mapkit/mklocalsearchcompleter) object to start searching for valid completions. The delegate you assign to that object needs to conform to this protocol. As it receives completions, the local search completer calls the methods of this protocol to deliver the results.
    ///
    ///
    pub unsafe trait MKLocalSearchCompleterDelegate: NSObjectProtocol {
        #[optional]
        #[unsafe(method(completerDidUpdateResults:))]
        #[unsafe(method_family = none)]
        unsafe fn completerDidUpdateResults(&self, completer: &MKLocalSearchCompleter);

        #[optional]
        #[unsafe(method(completer:didFailWithError:))]
        #[unsafe(method_family = none)]
        unsafe fn completer_didFailWithError(
            &self,
            completer: &MKLocalSearchCompleter,
            error: &NSError,
        );
    }
);

extern_class!(
    /// A fully formed string that completes a partial string.
    ///
    /// ## Overview
    ///
    /// You don’t create instances of this class directly. Instead, you use an [`MKLocalSearchCompleter`](https://developer.apple.com/documentation/mapkit/mklocalsearchcompleter) to initiate a search based on a set of partial search strings. That object stores any matches in its results property. Retrieve any `MKLocalSearchCompletion` objects from that property and display the search terms in your interface, or use one to initiate a search for content based on that search term.
    ///
    /// When displaying text completions for a partial search term in your user interface, you might want to use a bold version of a font or add some other highlighting to the portion of the completion string that causes it to match the partial search term. To help you add this styling, the completion object includes highlight ranges for the title and subtitle strings.
    ///
    ///
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct MKLocalSearchCompletion;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for MKLocalSearchCompletion {}
);

impl MKLocalSearchCompletion {
    extern_methods!(
        #[unsafe(method(title))]
        #[unsafe(method_family = none)]
        pub unsafe fn title(&self) -> Retained<NSString>;

        #[unsafe(method(titleHighlightRanges))]
        #[unsafe(method_family = none)]
        pub unsafe fn titleHighlightRanges(&self) -> Retained<NSArray<NSValue>>;

        #[unsafe(method(subtitle))]
        #[unsafe(method_family = none)]
        pub unsafe fn subtitle(&self) -> Retained<NSString>;

        #[unsafe(method(subtitleHighlightRanges))]
        #[unsafe(method_family = none)]
        pub unsafe fn subtitleHighlightRanges(&self) -> Retained<NSArray<NSValue>>;
    );
}

/// Methods declared on superclass `NSObject`.
impl MKLocalSearchCompletion {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}

#[cfg(feature = "MKLocalSearchRequest")]
impl MKLocalSearchRequest {
    extern_methods!(
        #[unsafe(method(initWithCompletion:))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithCompletion(
            this: Allocated<Self>,
            completion: &MKLocalSearchCompletion,
        ) -> Retained<Self>;
    );
}
