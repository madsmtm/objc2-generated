//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
#[cfg(feature = "objc2-core-media")]
use objc2_core_media::*;
use objc2_foundation::*;

use crate::*;

/// Constants that indicate the type of reaction that an effect can perform.
/// AVCaptureReactionType string constants
///
///
/// Constants indicating the type of reaction that can be performed in an effect.
// NS_TYPED_ENUM
pub type AVCaptureReactionType = NSString;

extern "C" {
    /// A reaction that displays a thumbs-up symbol.
    /// Indicates a reaction which features a thumbs-up symbol.
    pub static AVCaptureReactionTypeThumbsUp: &'static AVCaptureReactionType;
}

extern "C" {
    /// A reaction that displays a thumbs-down symbol.
    /// Indicates a reaction which features a thumbs-down symbol.
    pub static AVCaptureReactionTypeThumbsDown: &'static AVCaptureReactionType;
}

extern "C" {
    /// A reaction that displays balloons rising through the scene.
    /// Indicates a reaction which features balloons rising through the scene.
    pub static AVCaptureReactionTypeBalloons: &'static AVCaptureReactionType;
}

extern "C" {
    /// A reaction that displays one or more heart symbols.
    /// Indicates a reaction which features one or more heart symbols.
    pub static AVCaptureReactionTypeHeart: &'static AVCaptureReactionType;
}

extern "C" {
    /// A reaction that displays fireworks bursting in the background.
    /// Indicates a reaction which features fireworks bursting in the background.
    pub static AVCaptureReactionTypeFireworks: &'static AVCaptureReactionType;
}

extern "C" {
    /// A reaction that displays a dark and stormy night.
    /// Indicates a reaction which features a dark and stormy night.
    pub static AVCaptureReactionTypeRain: &'static AVCaptureReactionType;
}

extern "C" {
    /// A reaction that displays festive spots of color falling through the scene.
    /// Indicates a reaction which features festive spots of color falling through the scene.
    pub static AVCaptureReactionTypeConfetti: &'static AVCaptureReactionType;
}

extern "C" {
    /// A reaction that displays a bright laser show projecting into the scene.
    /// Indicates a reaction which features a bright laser display projecting into the scene.
    pub static AVCaptureReactionTypeLasers: &'static AVCaptureReactionType;
}

/// Returns the name of a system image that displays the recommended iconography for a specified reaction type.
/// Returns the name for UIImage or NSImage systemImageNamed: method to obtain the recommended iconography for a specified reaction type.
#[inline]
pub unsafe extern "C-unwind" fn AVCaptureReactionSystemImageNameForType(
    reaction_type: &AVCaptureReactionType,
) -> Retained<NSString> {
    extern "C-unwind" {
        fn AVCaptureReactionSystemImageNameForType(
            reaction_type: &AVCaptureReactionType,
        ) -> *mut NSString;
    }
    let ret = unsafe { AVCaptureReactionSystemImageNameForType(reaction_type) };
    unsafe { Retained::retain_autoreleased(ret) }
        .expect("function was marked as returning non-null, but actually returned NULL")
}

extern_class!(
    /// An object that reports the state of a reaction effect performed on a capture device.
    ///
    /// ## Overview
    ///
    /// Obtain an instance of this class by querying a capture deviceâ€™s [`reactionEffectsInProgress`](https://developer.apple.com/documentation/avfoundation/avcapturedevice/reactioneffectsinprogress) property. The system adds new entries to this array when you call [`performEffectForReaction:`](https://developer.apple.com/documentation/avfoundation/avcapturedevice/performeffect(for:)) or by gesture detection in the capture stream when the value of [`reactionEffectGesturesEnabled`](https://developer.apple.com/documentation/avfoundation/avcapturedevice/reactioneffectgesturesenabled) is [`true`](https://developer.apple.com/documentation/swift/true).
    ///
    /// The system renders the effect before providing frames to your app, and these status objects let you know when it performs the effect.
    ///
    ///
    /// Reports the state of a reaction performed on an AVCaptureDevice.
    ///
    ///
    /// AVCaptureReactionEffectState may be obtained by calling -[AVCaptureDevice reactionEffectsInProgress].  When -[AVCaptureDevice canPerformReactionEffects] returns YES, new entries are added either by calling -[AVCaptureDevice performEffectForReaction:], or by gesture detection in the capture stream when AVCaptureDevice.reactionEffectGesturesEnabled.  The effect rendering is done before frames are given to the capture client, and these status objects let you know when these effects are performed.
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct AVCaptureReactionEffectState;
);

extern_conformance!(
    unsafe impl NSObjectProtocol for AVCaptureReactionEffectState {}
);

impl AVCaptureReactionEffectState {
    extern_methods!(
        /// Indicates the reaction which is running.
        ///
        ///
        /// There may be multiple reactions of the same type at a given time.  Some may come from gesture detection, some may come from calls to -[AVCaptureDevice performReactionEffect:]
        #[unsafe(method(reactionType))]
        #[unsafe(method_family = none)]
        pub unsafe fn reactionType(&self) -> Retained<AVCaptureReactionType>;

        #[cfg(feature = "objc2-core-media")]
        /// Provides the presentation time of the first frame where the effect is being rendered.
        #[unsafe(method(startTime))]
        #[unsafe(method_family = none)]
        pub unsafe fn startTime(&self) -> CMTime;

        #[cfg(feature = "objc2-core-media")]
        /// Provides the presentation time of the frame following the last frame where the effect is seen.
        ///
        ///
        /// Will be kCMTimeInvalid while the effect is in progress, but will be updated to a valid time when the reaction effect completes and the AVCaptureReactionEffectState is removed from -[AVCaptureDevice reactionEffectsInProgress]. (If using NSKeyValueObservingOptionOld, you can access completed effects with valid end times via NSKeyValueChangeOldKey.)
        #[unsafe(method(endTime))]
        #[unsafe(method_family = none)]
        pub unsafe fn endTime(&self) -> CMTime;
    );
}

/// Methods declared on superclass `NSObject`.
impl AVCaptureReactionEffectState {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}
