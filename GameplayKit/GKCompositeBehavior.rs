//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

extern_class!(
    /// A set of behaviors, each of which is a set of goals, that together influence the movement of an agent.
    ///
    /// ## Overview
    ///
    /// By composing [`GKGoal`](https://developer.apple.com/documentation/gameplaykit/gkgoal) objects into subgroups ([`GKBehavior`](https://developer.apple.com/documentation/gameplaykit/gkbehavior) objects) and composing those behaviors into composite behaviors, you can control certain aspects of a [`GKAgent`](https://developer.apple.com/documentation/gameplaykit/gkagent) object’s movement in concert. To assign a behavior to an agent, use its [`behavior`](https://developer.apple.com/documentation/gameplaykit/gkagent/behavior) property.
    ///
    /// For example, you might create a behavior for a set of agents to stay together as a flock (with cohesion, alignment, and separation goals) while loosely following a path. With a single [`GKBehavior`](https://developer.apple.com/documentation/gameplaykit/gkbehavior) object, whenever you want to change the importance of the flocking goals relative to the path-following goals, you’d need to individually change the weight of each goal. With a composite behavior, you can adjust the relative influence of a group of goals together, as in the following code.
    ///
    /// (TODO tabnav: TabNavigator { tabs: [TabItem { title: "Swift", content: [CodeListing { syntax: Some("swift"), code: ["let flock = GKBehavior(goals: [", "    GKGoal(toAlignWith: agents, maxDistance: 10, maxAngle: .pi/4),", "    GKGoal(toCohereWith: agents, maxDistance: 10, maxAngle: .pi/4),", "    GKGoal(toSeparateFrom: agents, maxDistance: 10, maxAngle: .pi/4),", "])", "let meanderOnPath = GKBehavior(goals: [", "    GKGoal(toFollow: path, maxPredictionTime: 1, forward: true),", "    GKGoal(toWander: 10)", "])", "let composite = GKCompositeBehavior(behaviors: [", "    flock, meanderOnPath", "])"], metadata: None }] }, TabItem { title: "Objective-C", content: [CodeListing { syntax: Some("objc"), code: ["GKBehavior *flock = [GKBehavior behaviorWithGoals:@[", "    [GKGoal goalToAlignWithAgents:agents maxDistance:10 maxAngle:M_PI_4],", "    [GKGoal goalToCohereWithAgents:agents maxDistance:10 maxAngle:M_PI_4],", "    [GKGoal goalToSeparateFromAgents:agents maxDistance:10 maxAngle:M_PI_4]", "]];", "GKBehavior *meanderOnPath = [GKBehavior behaviorWithgoals:@[", "    [GKGoal goalToFollowPath:path maxPredictionTime:1.0 forward:YES],", "    [GKGoal goalToWander:10]", "]];", "GKCompositeBehavior *composite = [GKCompositeBehavior behaviorWithBehaviors:@[", "    flock, meanderOnPath", "]];"], metadata: None }] }] })
    /// After constructing this behavior, you can use the [`setWeight:forBehavior:`](https://developer.apple.com/documentation/gameplaykit/gkcompositebehavior/setweight(_:for:)) method to increase or decrease the influence of the `flock` and `meanderOnPath` behaviors relative to one another.
    ///
    /// To learn more about using goals and agents, see [Agents, Goals, and Behaviors](https://developer.apple.com/library/archive/documentation/General/Conceptual/GameplayKit_Guide/Agent.html#//apple_ref/doc/uid/TP40015172-CH8) in [GameplayKit Programming Guide](https://developer.apple.com/library/archive/documentation/General/Conceptual/GameplayKit_Guide/index.html#//apple_ref/doc/uid/TP40015172).
    ///
    ///
    #[unsafe(super(GKBehavior, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(feature = "GKBehavior")]
    pub struct GKCompositeBehavior;
);

#[cfg(feature = "GKBehavior")]
extern_conformance!(
    unsafe impl NSCopying for GKCompositeBehavior {}
);

#[cfg(feature = "GKBehavior")]
unsafe impl CopyingHelper for GKCompositeBehavior {
    type Result = Self;
}

#[cfg(feature = "GKBehavior")]
extern_conformance!(
    unsafe impl NSFastEnumeration for GKCompositeBehavior {}
);

#[cfg(feature = "GKBehavior")]
extern_conformance!(
    unsafe impl NSObjectProtocol for GKCompositeBehavior {}
);

#[cfg(feature = "GKBehavior")]
impl GKCompositeBehavior {
    extern_methods!(
        /// Number of sub-behaviors in this behavior
        #[unsafe(method(behaviorCount))]
        #[unsafe(method_family = none)]
        pub unsafe fn behaviorCount(&self) -> NSInteger;

        /// Creates a behavior with an array of sub-behaviors
        #[unsafe(method(behaviorWithBehaviors:))]
        #[unsafe(method_family = none)]
        pub unsafe fn behaviorWithBehaviors(behaviors: &NSArray<GKBehavior>) -> Retained<Self>;

        /// Creates a behavior with two associated arrays of sub-behaviors and weights
        #[unsafe(method(behaviorWithBehaviors:andWeights:))]
        #[unsafe(method_family = none)]
        pub unsafe fn behaviorWithBehaviors_andWeights(
            behaviors: &NSArray<GKBehavior>,
            weights: &NSArray<NSNumber>,
        ) -> Retained<Self>;

        /// Adds a new sub-behavior or changes the weight of the existing sub-behavior in this behavior.
        /// If the sub-behavior  does not exist in this behavior, it is added.
        ///
        /// Parameter `weight`: the weight for this goal
        ///
        /// Parameter `behavior`: the sub-behavior who's weight to change
        #[unsafe(method(setWeight:forBehavior:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setWeight_forBehavior(&self, weight: c_float, behavior: &GKBehavior);

        /// Gets the current weight for a given sub-behavior.
        ///
        /// Returns: the weight of the sub-behavior, or 0 if there is no such sub-behavior on this behavior
        #[unsafe(method(weightForBehavior:))]
        #[unsafe(method_family = none)]
        pub unsafe fn weightForBehavior(&self, behavior: &GKBehavior) -> c_float;

        /// Remove the indicated sub-behavior from this behavior.
        ///
        /// Parameter `behavior`: the sub-behavior to be removed
        #[unsafe(method(removeBehavior:))]
        #[unsafe(method_family = none)]
        pub unsafe fn removeBehavior(&self, behavior: &GKBehavior);

        /// Removes all the sub-behavior on the behavior.
        #[unsafe(method(removeAllBehaviors))]
        #[unsafe(method_family = none)]
        pub unsafe fn removeAllBehaviors(&self);

        /// Supports getting behaviors via a [int] subscript.
        #[unsafe(method(objectAtIndexedSubscript:))]
        #[unsafe(method_family = none)]
        pub unsafe fn objectAtIndexedSubscript(&self, idx: NSUInteger) -> Retained<GKBehavior>;

        /// Supports setting a weight via a [behavior] subscript.
        #[unsafe(method(setObject:forKeyedSubscript:))]
        #[unsafe(method_family = none)]
        pub unsafe fn setObject_forKeyedSubscript(&self, weight: &NSNumber, behavior: &GKBehavior);

        /// Supports getting a weight via a [behavior] subscript.
        #[unsafe(method(objectForKeyedSubscript:))]
        #[unsafe(method_family = none)]
        pub unsafe fn objectForKeyedSubscript(&self, behavior: &GKBehavior) -> Retained<NSNumber>;
    );
}

/// Methods declared on superclass `GKBehavior`.
#[cfg(feature = "GKBehavior")]
impl GKCompositeBehavior {
    extern_methods!(
        #[cfg(feature = "GKGoal")]
        /// Creates a behavior with a single goal and weight
        #[unsafe(method(behaviorWithGoal:weight:))]
        #[unsafe(method_family = none)]
        pub unsafe fn behaviorWithGoal_weight(goal: &GKGoal, weight: c_float) -> Retained<Self>;

        #[cfg(feature = "GKGoal")]
        /// Creates a behavior with an array of goals.  All weights are set to 1.0f
        #[unsafe(method(behaviorWithGoals:))]
        #[unsafe(method_family = none)]
        pub unsafe fn behaviorWithGoals(goals: &NSArray<GKGoal>) -> Retained<Self>;

        #[cfg(feature = "GKGoal")]
        /// Creates a behavior with two associated arrays of goals and weights
        #[unsafe(method(behaviorWithGoals:andWeights:))]
        #[unsafe(method_family = none)]
        pub unsafe fn behaviorWithGoals_andWeights(
            goals: &NSArray<GKGoal>,
            weights: &NSArray<NSNumber>,
        ) -> Retained<Self>;

        #[cfg(feature = "GKGoal")]
        /// Creates a behavior with a dictionary of goal/weight pairs
        #[unsafe(method(behaviorWithWeightedGoals:))]
        #[unsafe(method_family = none)]
        pub unsafe fn behaviorWithWeightedGoals(
            weighted_goals: &NSDictionary<GKGoal, NSNumber>,
        ) -> Retained<Self>;
    );
}

/// Methods declared on superclass `NSObject`.
#[cfg(feature = "GKBehavior")]
impl GKCompositeBehavior {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}
